,pullid,pulls_number,pulltitle,pullsbody,pullsuserlogin,pullsuserid,pullauthordate,author_association,merged_status,stats_addns,stats_delns,stats_changed_files,pull_repo_desc,pull_repo_lang,pull_commit_sha,pull_commit_message
0,https://api.github.com/repos/mozilla/bleach/pulls/586,586,Remove duplicated h1 in changelog,I noticed this while browsing [the docs](https://bleach.readthedocs.io).,McSinyx,13689192,2021-02-20T07:08:43Z,CONTRIBUTOR,True,0,3,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,45f3de7f3cc45397e00cf7be4e841b7eb3498a42,Remove duplicated h1 in changelog
1,https://api.github.com/repos/mozilla/bleach/pulls/585,585,tests: add tests for more eject tags for GHSA-vv2x-vrpj-qqpq,"Add tests for other tags that disallow child elements in the html namespace reported by Michał Bentkowski at Securitum and reflected in the updated https://github.com/mozilla/bleach/security/advisories/GHSA-vv2x-vrpj-qqpq advisory

Note: the sanitize code is unchanged. These tests are added for completeness to catch future regressions.",g-k,226605,2021-02-02T16:16:27Z,COLLABORATOR,True,241,3,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d398c89e54ced6b1039d3677689707456ba42dec,"tests: add tests for more eject tags for GHSA-vv2x-vrpj-qqpq

reported by Michał Bentkowski at Securitum"
2,https://api.github.com/repos/mozilla/bleach/pulls/581,581,nit fixes,"Changes:

* Add a missing `bleach/_vendor/html5lib-1.1.dist-info/REQUESTED` file
* Fix typo in comment `scripts/vendor_verify.sh`",g-k,226605,2021-01-26T22:13:46Z,COLLABORATOR,True,1,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,10b1c5dda8ebceffce1d8f7d66d4b309b4f8c0cf,vendor: add html5lib-1.1.dist-info/REQUESTED
3,https://api.github.com/repos/mozilla/bleach/pulls/581,581,nit fixes,"Changes:

* Add a missing `bleach/_vendor/html5lib-1.1.dist-info/REQUESTED` file
* Fix typo in comment `scripts/vendor_verify.sh`",g-k,226605,2021-01-26T22:13:46Z,COLLABORATOR,True,1,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,491abb06ce89012d852f4c5ab3aff8f572532611,fix typo s/vnedoring/vendoring/
4,https://api.github.com/repos/mozilla/bleach/pulls/579,579,Validate convert entity code points,"Fix `convert_entity` exceptions for certain inputs

r? @willkg ",g-k,226605,2021-01-26T13:41:33Z,COLLABORATOR,True,45,7,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6879f6a67058c0d5977a8aa580b6338c9d34ff0e,"html5lib_shim: validate unicode points for convert_entity

fixes:

* https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=29865
* https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=29882"
5,https://api.github.com/repos/mozilla/bleach/pulls/579,579,Validate convert entity code points,"Fix `convert_entity` exceptions for certain inputs

r? @willkg ",g-k,226605,2021-01-26T13:41:33Z,COLLABORATOR,True,45,7,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,612b8080ada0fba45f0575bfcd4f3a0bda7bfaca,Update for v3.2.3 release
6,https://api.github.com/repos/mozilla/bleach/pulls/577,577,Fix 477 add type annotations,refs: #477 ,g-k,226605,2021-01-22T23:02:41Z,COLLABORATOR,True,52,6,8,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,03e1157c2641460a6b1601ccecc3f7e075720f30,"add black and mypy to dev requirements for cpython

psf/black#727
python/typed_ast#111"
7,https://api.github.com/repos/mozilla/bleach/pulls/577,577,Fix 477 add type annotations,refs: #477 ,g-k,226605,2021-01-22T23:02:41Z,COLLABORATOR,True,52,6,8,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,efefa055ad339311e1d346b68879f32ca2b42fe5,add mypy config to setup.cfg
8,https://api.github.com/repos/mozilla/bleach/pulls/577,577,Fix 477 add type annotations,refs: #477 ,g-k,226605,2021-01-22T23:02:41Z,COLLABORATOR,True,52,6,8,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,28d7ae9a5f0435f519c5b3269d81473a08b6bdcd,scripts: add type-check target
9,https://api.github.com/repos/mozilla/bleach/pulls/577,577,Fix 477 add type annotations,refs: #477 ,g-k,226605,2021-01-22T23:02:41Z,COLLABORATOR,True,52,6,8,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1273306a5c971e8d54df7f17e37de4d1b25e2c1d,add type annotations
10,https://api.github.com/repos/mozilla/bleach/pulls/577,577,Fix 477 add type annotations,refs: #477 ,g-k,226605,2021-01-22T23:02:41Z,COLLABORATOR,True,52,6,8,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,79cef2bd00ac48f7d3868abb518d4fbc8ec05a65,ci: run format and type checks in lint workflow
11,https://api.github.com/repos/mozilla/bleach/pulls/576,576,Fix 566 preserve attr order,,g-k,226605,2021-01-22T22:32:23Z,COLLABORATOR,True,23,63,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,184011f9f7784e1c6df6fd6a0008aa62e37fcc54,"preserve order of HTML attributes

and remove now unused utils.py"
12,https://api.github.com/repos/mozilla/bleach/pulls/576,576,Fix 566 preserve attr order,,g-k,226605,2021-01-22T22:32:23Z,COLLABORATOR,True,23,63,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d4d809b69b2139110e97e977c3acf75f19754837,update changes and contributors
13,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f9f0fcb4fd1ce39c9ed766f41b8bc837f661eab1,"drop EOL pythons from tox, setup.py, and ci

* tox: drop EOL pythons
* tox: drop pypy2
* tox: drop python 3.5
* setup.py: drop EOL pythons
* ci: drop python 3.5"
14,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e2f832571603db83328869910271117278418083,"tests_website: remove six, bump version, update open script

* tests_website: remove six usage from server.py
* tests_website: bump version
* tests_website: update open_test_page.py for Python 3"
15,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f65d9ac9c192d3da9e80e184da5905b04d44df34,drop security support for bleach 3.x versions
16,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ce2f7e1765e73c4b1d34d36fdc808aa30be05904,"remove six usage, __future__.unicode_literals, compat functions

* remove non-vendored six.moves imports
* sanitizer: replace six.string_types check with str
* linkifier: replace six.string_types check with str
* sanitizer: drop force_unicode call
* linkifier: drop force_unicode calls
* html5lib_shim: replace six text_type and unichr calls
* utils: remove force_unicode fn
* remove unicode_literals imports"
17,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4b33fc2bdcd8486621511c53f3458066920f6441,drop object from class definitions
18,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,186d6f0b2005cc1428dd58331cbeb2310f19c243,bump major version and clear releasedate
19,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9173544b4dd282ea502ed7a2178a8c8080a7fb41,update CHANGES
20,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,76bd0a4cc111dea6fa5c131ebc9ac6f41e878d4e,"preserve order of HTML attributes

and remove now unused utils.py"
21,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7b0f98a972e17afbbe4cb47bfb8371650fdbba45,update CHANGES and CONTRIBUTORS
22,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,06c6be0dfddb873fd155760c8d2d65993aaed504,"add black and mypy to dev requirements for cpython

psf/black#727
python/typed_ast#111"
23,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,dc7cdc505bea789700975303a7bbdccb69ae38a0,add mypy config to setup.cfg
24,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6fcc225598767c38440295c5516f2e48f1f536c8,scripts: add type-check target
25,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d6464fea3f0c3ba0e9abbdef5c273972ef596ccf,add type annotations
26,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8a25c92a9a23cda3a0e23717051c9bb04a68d7ec,ci: run format and type checks in lint workflow
27,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ba8031e0a4ad8b445172424108adf60c262ac8d9,update CHANGES
28,https://api.github.com/repos/mozilla/bleach/pulls/575,575,4.0.0 branch,"WIP

Fixes: #520 
Fixes: #566
Fixes: #477 ",g-k,226605,2021-01-22T22:00:20Z,COLLABORATOR,False,133,174,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,eab2cf487325387c34180f2aeaf8f3cee9b60b3d,"fixup! remove six usage, __future__.unicode_literals, compat functions"
29,https://api.github.com/repos/mozilla/bleach/pulls/574,574,Fix 520 drop eol pythons,supersedes: #564 ,g-k,226605,2021-01-22T20:16:15Z,COLLABORATOR,True,59,107,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d424961924455bd1374b8f7da9fd257eac019e17,"drop EOL pythons from tox, setup.py, and ci

* tox: drop EOL pythons
* tox: drop pypy2
* tox: drop python 3.5
* setup.py: drop EOL pythons
* ci: drop python 3.5"
30,https://api.github.com/repos/mozilla/bleach/pulls/574,574,Fix 520 drop eol pythons,supersedes: #564 ,g-k,226605,2021-01-22T20:16:15Z,COLLABORATOR,True,59,107,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c7d7b63d3d1a8d9280a68e3b6698c188454a6fae,"tests_website: remove six, bump version, update open script

* tests_website: remove six usage from server.py
* tests_website: bump version
* tests_website: update open_test_page.py for Python 3"
31,https://api.github.com/repos/mozilla/bleach/pulls/574,574,Fix 520 drop eol pythons,supersedes: #564 ,g-k,226605,2021-01-22T20:16:15Z,COLLABORATOR,True,59,107,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b7ac064bc0ebea1f040ec6374cd748d6e9c6c13c,drop security support for bleach 3.x versions
32,https://api.github.com/repos/mozilla/bleach/pulls/574,574,Fix 520 drop eol pythons,supersedes: #564 ,g-k,226605,2021-01-22T20:16:15Z,COLLABORATOR,True,59,107,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b1dff2033a980d960363037645163190aa9df75d,"remove six usage, __future__.unicode_literals, compat functions

* remove non-vendored six.moves imports
* sanitizer: replace six.string_types check with str
* linkifier: replace six.string_types check with str
* sanitizer: drop force_unicode call
* linkifier: drop force_unicode calls
* html5lib_shim: replace six text_type and unichr calls
* utils: remove force_unicode fn
* remove unicode_literals imports"
33,https://api.github.com/repos/mozilla/bleach/pulls/574,574,Fix 520 drop eol pythons,supersedes: #564 ,g-k,226605,2021-01-22T20:16:15Z,COLLABORATOR,True,59,107,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e583659562276ffc57d9427a00c46dde4c9beac9,bump major version and clear releasedate
34,https://api.github.com/repos/mozilla/bleach/pulls/574,574,Fix 520 drop eol pythons,supersedes: #564 ,g-k,226605,2021-01-22T20:16:15Z,COLLABORATOR,True,59,107,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1ee13eb0b818bae2a2e483a367022eaa01aef569,update CHANGES
35,https://api.github.com/repos/mozilla/bleach/pulls/573,573,Update for v3.2.2 release,,g-k,226605,2021-01-20T19:02:16Z,COLLABORATOR,True,20,4,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,07e1fbe2b49a51d43c99e6dbcf3ce2c077cdfc7f,Update for v3.2.2 release
36,https://api.github.com/repos/mozilla/bleach/pulls/572,572,linkify: fix IndexError in convert_entity,"fixes: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=29581 (private for now)

r? @willkg 

I'll manually check PY2 locally.",g-k,226605,2021-01-20T18:04:42Z,COLLABORATOR,True,11,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,eb8aebd45737ffba8abd23ba88b14dede47f35af,"linkify: fix IndexError in convert_entity

fixes: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=29581"
37,https://api.github.com/repos/mozilla/bleach/pulls/571,571,ci: remove travis,"fix: #570 (now that hugovk did the hard part)

Also, I didn't enable actions for the repo before landing #514, so this will kick off a job.

Assuming these pass I'll update the required CI checks in branch protection.",g-k,226605,2021-01-05T16:55:40Z,COLLABORATOR,True,12,48,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,071f588a473f5fea1707158c60864a118669e126,ci: remove travis
38,https://api.github.com/repos/mozilla/bleach/pulls/571,571,ci: remove travis,"fix: #570 (now that hugovk did the hard part)

Also, I didn't enable actions for the repo before landing #514, so this will kick off a job.

Assuming these pass I'll update the required CI checks in branch protection.",g-k,226605,2021-01-05T16:55:40Z,COLLABORATOR,True,12,48,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b99ff3e5be14a1426bb6aaf1ebbba1c54120bf22,docs: replace travis ci badges with GHA
39,https://api.github.com/repos/mozilla/bleach/pulls/571,571,ci: remove travis,"fix: #570 (now that hugovk did the hard part)

Also, I didn't enable actions for the repo before landing #514, so this will kick off a job.

Assuming these pass I'll update the required CI checks in branch protection.",g-k,226605,2021-01-05T16:55:40Z,COLLABORATOR,True,12,48,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,13a41afb6f4d3aec1cd1a8551156b3d6de84613c,docs: replace travis refs in dev docs and tox comment
40,https://api.github.com/repos/mozilla/bleach/pulls/571,571,ci: remove travis,"fix: #570 (now that hugovk did the hard part)

Also, I didn't enable actions for the repo before landing #514, so this will kick off a job.

Assuming these pass I'll update the required CI checks in branch protection.",g-k,226605,2021-01-05T16:55:40Z,COLLABORATOR,True,12,48,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7bbb59d2800484dad4fcb147aafecbc9ec1f4359,tests_website: bump to current bleach version
41,https://api.github.com/repos/mozilla/bleach/pulls/567,567,Allow to preserve order of HTML attributes,This would allow to preserve order of HTML attributes. See https://github.com/mozilla/bleach/issues/566 for more details.,askoretskiy,48295,2020-11-25T18:52:49Z,NONE,False,31,2,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2794d2b6aa6a6df618550db91e5dce618eebbce0,Allow to preserve order of HTML attributes
42,https://api.github.com/repos/mozilla/bleach/pulls/567,567,Allow to preserve order of HTML attributes,This would allow to preserve order of HTML attributes. See https://github.com/mozilla/bleach/issues/566 for more details.,askoretskiy,48295,2020-11-25T18:52:49Z,NONE,False,31,2,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6466975fbaea8dfd633de5be105a1739b6079a06,Skip tests for old Python versions
43,https://api.github.com/repos/mozilla/bleach/pulls/565,565,Fix 536 3.9 urlparse changes,"Fixes #536 

Currently:

* bleach just uses `urlparse` to extract a URI scheme/protocol (via `urlsplit`)
* when `http` is in `allowed_schemes` (the default), bleach [treats unparseable or empty schemes as implicitly `http` and safe](https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L493-L496).
  * AFAIK this aligns with the web [url parsing spec](https://url.spec.whatwg.org/#url-parsing) and [tests](https://github.com/web-platform-tests/wpt/blob/master/url/) treating relative URIs as having the document's `base`, `origin`, and `scheme`.

* CPython <3.9 `urlparse` treats all digits trailing the first colon in a URL as a port number and puts it in the parsed URL path
* CPython 3.9 `urlparse` treats everything up to the first colon in the URI as the scheme https://github.com/python/cpython/pull/16837/files#diff-b3712475a413ec972134c0260c8f1eb1deefb66184f740ef00c37b4487ef873eL448-R433

  * bleach relied on the special port number parsing for URIs without a scheme `localhost:8000` and worked around it to handle custom schemes/protocols: https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L489-L491

Considered a few options:

* ignore it: mark the failing tests as expected failures on 3.9. This gets tests passing, but introduces a breaking change for 3.9 users and doesn't fix the underlying issue.
* vendor an old urlparse version: either vendor [2.7.18](https://github.com/python/cpython/blob/v2.7.18/Lib/urlparse.py) and make it compatible with PY3 or drop Python 3 support and vendor a urlparse version <3.9. This wouldn't introduce breaking changes, but we're vendoring more code
* make the URI sanitizer stricter: stop doing that. This is stricter and more secure, but a breaking change that deviants from the web spec and probably how users expect it to work
* enumerate bad schemes: check for schemes that can deliver malicious content (e.g. `javascript:`, `file:`, `data:`) and block them. Requires adding a blocklist, keeping it up to date, and knowing all potentially evil schemes, which [isn't recommended](https://www.ranum.com/security/computer_security/editorials/dumb/)  
* match schemes that look like network locations: check if schemes look like valid hostnames or IPv4 or v6 addresses with an optional port (using bits of [django's URL validator](https://github.com/django/django/blob/354c1524b38c9b9f052c1d78dcbfa6ed5559aeb3/django/core/validators.py#L65)). Potentially breaking change and might confuse users if they expect `allowed_schemes` to behave the same as their stdlib `urlparse`.

This PR:

* implements the last option using the hostname, IP address, and port portions of Django's URL validator
* updates CI and tox to test against 3.9 and use it as the default for other targets
* updates the URI validation tests (details in the last commit message)

Open questions:

Is it safe to trust the Django URL validator for HTML contexts? I think so, or at least I'm not aware of any net locations that are also XSS vectors.

Is the Django code compatible?  It's [BSD 3 licensed in setup.cfg](https://github.com/django/django/blob/master/setup.cfg#L9), which should be compatible with MPL-2 (but also I'm not a lawyer).

If it is compatible, how should we attribute it in `bleach`?",g-k,226605,2020-11-09T18:42:39Z,COLLABORATOR,False,4145,45,27,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c405b7b6424c2aedba7832640abed331876d0738,"vendor: add patched core.validators from Django 1.11.29

Specifically:

* vendor: add Django 1.11.29 to vendor.txt
* vendor: add Django 1.11.29 dist info
* vendor: add upgrade flag to vendor install to force replacement and see diff
* vendor: clean vendor bin/ and unused django files after install
* vendor: add django.core.validators
* vendor: patch django/core/validators.py
* vendor: apply patch post install
* vendor: install into DEST env var
* scripts: vendor_verify.sh use pip_install_vendor.sh with DEST env var
* vendor: update vendor requirements
* scripts: vendor_verify.sh ignore patch file"
44,https://api.github.com/repos/mozilla/bleach/pulls/565,565,Fix 536 3.9 urlparse changes,"Fixes #536 

Currently:

* bleach just uses `urlparse` to extract a URI scheme/protocol (via `urlsplit`)
* when `http` is in `allowed_schemes` (the default), bleach [treats unparseable or empty schemes as implicitly `http` and safe](https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L493-L496).
  * AFAIK this aligns with the web [url parsing spec](https://url.spec.whatwg.org/#url-parsing) and [tests](https://github.com/web-platform-tests/wpt/blob/master/url/) treating relative URIs as having the document's `base`, `origin`, and `scheme`.

* CPython <3.9 `urlparse` treats all digits trailing the first colon in a URL as a port number and puts it in the parsed URL path
* CPython 3.9 `urlparse` treats everything up to the first colon in the URI as the scheme https://github.com/python/cpython/pull/16837/files#diff-b3712475a413ec972134c0260c8f1eb1deefb66184f740ef00c37b4487ef873eL448-R433

  * bleach relied on the special port number parsing for URIs without a scheme `localhost:8000` and worked around it to handle custom schemes/protocols: https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L489-L491

Considered a few options:

* ignore it: mark the failing tests as expected failures on 3.9. This gets tests passing, but introduces a breaking change for 3.9 users and doesn't fix the underlying issue.
* vendor an old urlparse version: either vendor [2.7.18](https://github.com/python/cpython/blob/v2.7.18/Lib/urlparse.py) and make it compatible with PY3 or drop Python 3 support and vendor a urlparse version <3.9. This wouldn't introduce breaking changes, but we're vendoring more code
* make the URI sanitizer stricter: stop doing that. This is stricter and more secure, but a breaking change that deviants from the web spec and probably how users expect it to work
* enumerate bad schemes: check for schemes that can deliver malicious content (e.g. `javascript:`, `file:`, `data:`) and block them. Requires adding a blocklist, keeping it up to date, and knowing all potentially evil schemes, which [isn't recommended](https://www.ranum.com/security/computer_security/editorials/dumb/)  
* match schemes that look like network locations: check if schemes look like valid hostnames or IPv4 or v6 addresses with an optional port (using bits of [django's URL validator](https://github.com/django/django/blob/354c1524b38c9b9f052c1d78dcbfa6ed5559aeb3/django/core/validators.py#L65)). Potentially breaking change and might confuse users if they expect `allowed_schemes` to behave the same as their stdlib `urlparse`.

This PR:

* implements the last option using the hostname, IP address, and port portions of Django's URL validator
* updates CI and tox to test against 3.9 and use it as the default for other targets
* updates the URI validation tests (details in the last commit message)

Open questions:

Is it safe to trust the Django URL validator for HTML contexts? I think so, or at least I'm not aware of any net locations that are also XSS vectors.

Is the Django code compatible?  It's [BSD 3 licensed in setup.cfg](https://github.com/django/django/blob/master/setup.cfg#L9), which should be compatible with MPL-2 (but also I'm not a lawyer).

If it is compatible, how should we attribute it in `bleach`?",g-k,226605,2020-11-09T18:42:39Z,COLLABORATOR,False,4145,45,27,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7f4a376858acbe92bb4604ff003a199e8c132268,"sanitizer: update sanitize_uri_value for Python 3.9 urlparse

Use Python 3.9 urlparse scheme parsing behavior for all Python
versions

Changes:

* add utils._parse_uri_scheme to match Python 3.9 urlparse behavior
* add utils._is_valid_netloc_and_port with Django URL validator
* in test_uri_value_allowed_protocols:
  * add test case for implicit http for IP and port with path and fragment
  * add test case for data: scheme
  * add test case for relative path URI
  * test ""is not allowed by default"" test cases against default
    ALLOWED_PROTOCOLS
  * convert test_invalid_uri_does_not_raise_error into a test case"
45,https://api.github.com/repos/mozilla/bleach/pulls/565,565,Fix 536 3.9 urlparse changes,"Fixes #536 

Currently:

* bleach just uses `urlparse` to extract a URI scheme/protocol (via `urlsplit`)
* when `http` is in `allowed_schemes` (the default), bleach [treats unparseable or empty schemes as implicitly `http` and safe](https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L493-L496).
  * AFAIK this aligns with the web [url parsing spec](https://url.spec.whatwg.org/#url-parsing) and [tests](https://github.com/web-platform-tests/wpt/blob/master/url/) treating relative URIs as having the document's `base`, `origin`, and `scheme`.

* CPython <3.9 `urlparse` treats all digits trailing the first colon in a URL as a port number and puts it in the parsed URL path
* CPython 3.9 `urlparse` treats everything up to the first colon in the URI as the scheme https://github.com/python/cpython/pull/16837/files#diff-b3712475a413ec972134c0260c8f1eb1deefb66184f740ef00c37b4487ef873eL448-R433

  * bleach relied on the special port number parsing for URIs without a scheme `localhost:8000` and worked around it to handle custom schemes/protocols: https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L489-L491

Considered a few options:

* ignore it: mark the failing tests as expected failures on 3.9. This gets tests passing, but introduces a breaking change for 3.9 users and doesn't fix the underlying issue.
* vendor an old urlparse version: either vendor [2.7.18](https://github.com/python/cpython/blob/v2.7.18/Lib/urlparse.py) and make it compatible with PY3 or drop Python 3 support and vendor a urlparse version <3.9. This wouldn't introduce breaking changes, but we're vendoring more code
* make the URI sanitizer stricter: stop doing that. This is stricter and more secure, but a breaking change that deviants from the web spec and probably how users expect it to work
* enumerate bad schemes: check for schemes that can deliver malicious content (e.g. `javascript:`, `file:`, `data:`) and block them. Requires adding a blocklist, keeping it up to date, and knowing all potentially evil schemes, which [isn't recommended](https://www.ranum.com/security/computer_security/editorials/dumb/)  
* match schemes that look like network locations: check if schemes look like valid hostnames or IPv4 or v6 addresses with an optional port (using bits of [django's URL validator](https://github.com/django/django/blob/354c1524b38c9b9f052c1d78dcbfa6ed5559aeb3/django/core/validators.py#L65)). Potentially breaking change and might confuse users if they expect `allowed_schemes` to behave the same as their stdlib `urlparse`.

This PR:

* implements the last option using the hostname, IP address, and port portions of Django's URL validator
* updates CI and tox to test against 3.9 and use it as the default for other targets
* updates the URI validation tests (details in the last commit message)

Open questions:

Is it safe to trust the Django URL validator for HTML contexts? I think so, or at least I'm not aware of any net locations that are also XSS vectors.

Is the Django code compatible?  It's [BSD 3 licensed in setup.cfg](https://github.com/django/django/blob/master/setup.cfg#L9), which should be compatible with MPL-2 (but also I'm not a lawyer).

If it is compatible, how should we attribute it in `bleach`?",g-k,226605,2020-11-09T18:42:39Z,COLLABORATOR,False,4145,45,27,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1052c984537f838403e4853e485f88b2d625be0c,"add black and mypy to dev requirements for cpython > 3.5

psf/black#727
python/typed_ast#111"
46,https://api.github.com/repos/mozilla/bleach/pulls/565,565,Fix 536 3.9 urlparse changes,"Fixes #536 

Currently:

* bleach just uses `urlparse` to extract a URI scheme/protocol (via `urlsplit`)
* when `http` is in `allowed_schemes` (the default), bleach [treats unparseable or empty schemes as implicitly `http` and safe](https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L493-L496).
  * AFAIK this aligns with the web [url parsing spec](https://url.spec.whatwg.org/#url-parsing) and [tests](https://github.com/web-platform-tests/wpt/blob/master/url/) treating relative URIs as having the document's `base`, `origin`, and `scheme`.

* CPython <3.9 `urlparse` treats all digits trailing the first colon in a URL as a port number and puts it in the parsed URL path
* CPython 3.9 `urlparse` treats everything up to the first colon in the URI as the scheme https://github.com/python/cpython/pull/16837/files#diff-b3712475a413ec972134c0260c8f1eb1deefb66184f740ef00c37b4487ef873eL448-R433

  * bleach relied on the special port number parsing for URIs without a scheme `localhost:8000` and worked around it to handle custom schemes/protocols: https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L489-L491

Considered a few options:

* ignore it: mark the failing tests as expected failures on 3.9. This gets tests passing, but introduces a breaking change for 3.9 users and doesn't fix the underlying issue.
* vendor an old urlparse version: either vendor [2.7.18](https://github.com/python/cpython/blob/v2.7.18/Lib/urlparse.py) and make it compatible with PY3 or drop Python 3 support and vendor a urlparse version <3.9. This wouldn't introduce breaking changes, but we're vendoring more code
* make the URI sanitizer stricter: stop doing that. This is stricter and more secure, but a breaking change that deviants from the web spec and probably how users expect it to work
* enumerate bad schemes: check for schemes that can deliver malicious content (e.g. `javascript:`, `file:`, `data:`) and block them. Requires adding a blocklist, keeping it up to date, and knowing all potentially evil schemes, which [isn't recommended](https://www.ranum.com/security/computer_security/editorials/dumb/)  
* match schemes that look like network locations: check if schemes look like valid hostnames or IPv4 or v6 addresses with an optional port (using bits of [django's URL validator](https://github.com/django/django/blob/354c1524b38c9b9f052c1d78dcbfa6ed5559aeb3/django/core/validators.py#L65)). Potentially breaking change and might confuse users if they expect `allowed_schemes` to behave the same as their stdlib `urlparse`.

This PR:

* implements the last option using the hostname, IP address, and port portions of Django's URL validator
* updates CI and tox to test against 3.9 and use it as the default for other targets
* updates the URI validation tests (details in the last commit message)

Open questions:

Is it safe to trust the Django URL validator for HTML contexts? I think so, or at least I'm not aware of any net locations that are also XSS vectors.

Is the Django code compatible?  It's [BSD 3 licensed in setup.cfg](https://github.com/django/django/blob/master/setup.cfg#L9), which should be compatible with MPL-2 (but also I'm not a lawyer).

If it is compatible, how should we attribute it in `bleach`?",g-k,226605,2020-11-09T18:42:39Z,COLLABORATOR,False,4145,45,27,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,417d9b24556fe6e144bc8f370f808a54b630c5da,ci: test against python 3.9
47,https://api.github.com/repos/mozilla/bleach/pulls/565,565,Fix 536 3.9 urlparse changes,"Fixes #536 

Currently:

* bleach just uses `urlparse` to extract a URI scheme/protocol (via `urlsplit`)
* when `http` is in `allowed_schemes` (the default), bleach [treats unparseable or empty schemes as implicitly `http` and safe](https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L493-L496).
  * AFAIK this aligns with the web [url parsing spec](https://url.spec.whatwg.org/#url-parsing) and [tests](https://github.com/web-platform-tests/wpt/blob/master/url/) treating relative URIs as having the document's `base`, `origin`, and `scheme`.

* CPython <3.9 `urlparse` treats all digits trailing the first colon in a URL as a port number and puts it in the parsed URL path
* CPython 3.9 `urlparse` treats everything up to the first colon in the URI as the scheme https://github.com/python/cpython/pull/16837/files#diff-b3712475a413ec972134c0260c8f1eb1deefb66184f740ef00c37b4487ef873eL448-R433

  * bleach relied on the special port number parsing for URIs without a scheme `localhost:8000` and worked around it to handle custom schemes/protocols: https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L489-L491

Considered a few options:

* ignore it: mark the failing tests as expected failures on 3.9. This gets tests passing, but introduces a breaking change for 3.9 users and doesn't fix the underlying issue.
* vendor an old urlparse version: either vendor [2.7.18](https://github.com/python/cpython/blob/v2.7.18/Lib/urlparse.py) and make it compatible with PY3 or drop Python 3 support and vendor a urlparse version <3.9. This wouldn't introduce breaking changes, but we're vendoring more code
* make the URI sanitizer stricter: stop doing that. This is stricter and more secure, but a breaking change that deviants from the web spec and probably how users expect it to work
* enumerate bad schemes: check for schemes that can deliver malicious content (e.g. `javascript:`, `file:`, `data:`) and block them. Requires adding a blocklist, keeping it up to date, and knowing all potentially evil schemes, which [isn't recommended](https://www.ranum.com/security/computer_security/editorials/dumb/)  
* match schemes that look like network locations: check if schemes look like valid hostnames or IPv4 or v6 addresses with an optional port (using bits of [django's URL validator](https://github.com/django/django/blob/354c1524b38c9b9f052c1d78dcbfa6ed5559aeb3/django/core/validators.py#L65)). Potentially breaking change and might confuse users if they expect `allowed_schemes` to behave the same as their stdlib `urlparse`.

This PR:

* implements the last option using the hostname, IP address, and port portions of Django's URL validator
* updates CI and tox to test against 3.9 and use it as the default for other targets
* updates the URI validation tests (details in the last commit message)

Open questions:

Is it safe to trust the Django URL validator for HTML contexts? I think so, or at least I'm not aware of any net locations that are also XSS vectors.

Is the Django code compatible?  It's [BSD 3 licensed in setup.cfg](https://github.com/django/django/blob/master/setup.cfg#L9), which should be compatible with MPL-2 (but also I'm not a lawyer).

If it is compatible, how should we attribute it in `bleach`?",g-k,226605,2020-11-09T18:42:39Z,COLLABORATOR,False,4145,45,27,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4b0c2c18f578564afe2d03293dee034e2f941438,"ci: bump python to 3.9 for lint, vendorverify, and format-check jobs"
48,https://api.github.com/repos/mozilla/bleach/pulls/565,565,Fix 536 3.9 urlparse changes,"Fixes #536 

Currently:

* bleach just uses `urlparse` to extract a URI scheme/protocol (via `urlsplit`)
* when `http` is in `allowed_schemes` (the default), bleach [treats unparseable or empty schemes as implicitly `http` and safe](https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L493-L496).
  * AFAIK this aligns with the web [url parsing spec](https://url.spec.whatwg.org/#url-parsing) and [tests](https://github.com/web-platform-tests/wpt/blob/master/url/) treating relative URIs as having the document's `base`, `origin`, and `scheme`.

* CPython <3.9 `urlparse` treats all digits trailing the first colon in a URL as a port number and puts it in the parsed URL path
* CPython 3.9 `urlparse` treats everything up to the first colon in the URI as the scheme https://github.com/python/cpython/pull/16837/files#diff-b3712475a413ec972134c0260c8f1eb1deefb66184f740ef00c37b4487ef873eL448-R433

  * bleach relied on the special port number parsing for URIs without a scheme `localhost:8000` and worked around it to handle custom schemes/protocols: https://github.com/mozilla/bleach/blob/f5971aa57461cce00d6dd474e901bcbd00f240f1/bleach/sanitizer.py#L489-L491

Considered a few options:

* ignore it: mark the failing tests as expected failures on 3.9. This gets tests passing, but introduces a breaking change for 3.9 users and doesn't fix the underlying issue.
* vendor an old urlparse version: either vendor [2.7.18](https://github.com/python/cpython/blob/v2.7.18/Lib/urlparse.py) and make it compatible with PY3 or drop Python 3 support and vendor a urlparse version <3.9. This wouldn't introduce breaking changes, but we're vendoring more code
* make the URI sanitizer stricter: stop doing that. This is stricter and more secure, but a breaking change that deviants from the web spec and probably how users expect it to work
* enumerate bad schemes: check for schemes that can deliver malicious content (e.g. `javascript:`, `file:`, `data:`) and block them. Requires adding a blocklist, keeping it up to date, and knowing all potentially evil schemes, which [isn't recommended](https://www.ranum.com/security/computer_security/editorials/dumb/)  
* match schemes that look like network locations: check if schemes look like valid hostnames or IPv4 or v6 addresses with an optional port (using bits of [django's URL validator](https://github.com/django/django/blob/354c1524b38c9b9f052c1d78dcbfa6ed5559aeb3/django/core/validators.py#L65)). Potentially breaking change and might confuse users if they expect `allowed_schemes` to behave the same as their stdlib `urlparse`.

This PR:

* implements the last option using the hostname, IP address, and port portions of Django's URL validator
* updates CI and tox to test against 3.9 and use it as the default for other targets
* updates the URI validation tests (details in the last commit message)

Open questions:

Is it safe to trust the Django URL validator for HTML contexts? I think so, or at least I'm not aware of any net locations that are also XSS vectors.

Is the Django code compatible?  It's [BSD 3 licensed in setup.cfg](https://github.com/django/django/blob/master/setup.cfg#L9), which should be compatible with MPL-2 (but also I'm not a lawyer).

If it is compatible, how should we attribute it in `bleach`?",g-k,226605,2020-11-09T18:42:39Z,COLLABORATOR,False,4145,45,27,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e1a561246640bcbdc8f09c269f86feef32c73811,Update for v3.4.0 release
49,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,104068cfb84eaeea61103ca5f36d0bdd8db9e654,ci: drop python 2.7
50,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bae0a6620bf56ed72fb6cdb401d026c909498c3f,tox: drop python 2
51,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0515b006ee47b4161a886574eef25c48ff5f3683,setup.py: drop python 2
52,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7a9c7a4710762e7b847de8a1ad9c47f3081ecf5b,tox: drop pypy2
53,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5fbac7a45cf99d4e59e8343042670aca261fc370,ci: drop pypy2
54,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1f792e5e03a740710c7074d9786ab272b23c37c2,remove non-vendored six.moves imports
55,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,dd6c24b3b7b8ea440417edfef1276bd77ebcdc08,drop security support for 3.x
56,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0c08d64a105b537b79ec8e75372bcdeb5deeb8ea,bump major version and clear releasedate
57,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5c3a97e01ee77a1fd2b440b1f3699291207bccb0,tests_website: remove six usage from server.py
58,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,dd6c2f95f041f3ae0a64df40e81a83aa8eb17d5c,tests_website: bump version
59,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,668ce0a4df2cb38164a6a6ce8ca1a982ed8a3af5,update CHANGES
60,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0038648cbb94abde2a04814e468e9204dc1c9653,sanitizer: replace six.string_types check with str
61,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8c7621c243abf3668f513284f1ec2227f5c27766,linkifier: replace six.string_types check with str
62,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7c22d9dd184ebdfaf592590bf978538c74411042,sanitizer: drop force_unicode call
63,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,08ed828994d9c64b6d6dfd0acdd10402a7321ee7,linkifier: drop force_unicode calls
64,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c6409f6aff9343234c5fa876778a231fc2ee2c9e,html5lib_shim: replace six text_type and unichr calls
65,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c973cd4a9441fca35cb79f5315b336793a94aea3,utils: remove force_unicode fn
66,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,338e31d4af0e21a5606d74098844670aa692e751,tests_website: update open_test_page.py for Python 3
67,https://api.github.com/repos/mozilla/bleach/pulls/564,564,Fix 520 drop python2,"Fix #520

Changes:

* update CI and tox configs
* update package `setup.py` metadata and `CHANGES`
* replace `six` in non-vendored code

This doesn't:

*  drop `six` since html5lib needs it
* add type annotations (TODO: later, but we can use the non-comment syntax now)
* change code to take advantage of Python 3 features
* land any other changes planned for the 4.x milestone (thinking add those as time permits and increment the major version number)

I'm planning to squash everything down into 1 to 3 commits if it looks OK.

f? @willkg",g-k,226605,2020-11-05T17:50:23Z,COLLABORATOR,False,57,104,22,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bb6a31a51f72a174019f950995b44212d212710c,remove unicode_literals imports
68,https://api.github.com/repos/mozilla/bleach/pulls/559,559,Update for v3.2.1 release,in docs/ `make html` and `make doctest` pass,g-k,226605,2020-09-18T13:17:25Z,COLLABORATOR,True,4,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3e3d812f075df0f2a765c5b5189a54ae87acbe97,Update for v3.2.1 release
69,https://api.github.com/repos/mozilla/bleach/pulls/558,558,Fix 557 suppress html5lib sanitizer deprecation warnings,"fixes: #557 

r? @willkg if you get a minute",g-k,226605,2020-09-17T14:21:35Z,COLLABORATOR,True,46,18,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e323190fe37f9af89cae8e2009757728e2e2bb29,"upgrade html5lib deprecation warnings to errors

instead of ignoring them"
70,https://api.github.com/repos/mozilla/bleach/pulls/558,558,Fix 557 suppress html5lib sanitizer deprecation warnings,"fixes: #557 

r? @willkg if you get a minute",g-k,226605,2020-09-17T14:21:35Z,COLLABORATOR,True,46,18,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,19a27e5a633d87dff0aa790b266a585213bca033,suppress html5lib sanitizer deprecation warnings
71,https://api.github.com/repos/mozilla/bleach/pulls/556,556,paint it black,"* Apply the black formatter to bleach tests and unvendored code
* Add a `format-check` target to `scripts/run-tests.sh`
* Add tox and CI jobs that fail if new code isn't formatting 

Note: that we don't add `black` to `requirements-dev.txt`, because it's Py3 only (refs: #520)",g-k,226605,2020-09-16T17:03:46Z,COLLABORATOR,True,1636,1695,20,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,215744c258677d5528eab99b24eefa5fb5c0735e,scripts: add format and format-check test modes
72,https://api.github.com/repos/mozilla/bleach/pulls/556,556,paint it black,"* Apply the black formatter to bleach tests and unvendored code
* Add a `format-check` target to `scripts/run-tests.sh`
* Add tox and CI jobs that fail if new code isn't formatting 

Note: that we don't add `black` to `requirements-dev.txt`, because it's Py3 only (refs: #520)",g-k,226605,2020-09-16T17:03:46Z,COLLABORATOR,True,1636,1695,20,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0c6a359169fc93c69c84415ede586af797d9e31b,add format-check to tox and CI
73,https://api.github.com/repos/mozilla/bleach/pulls/556,556,paint it black,"* Apply the black formatter to bleach tests and unvendored code
* Add a `format-check` target to `scripts/run-tests.sh`
* Add tox and CI jobs that fail if new code isn't formatting 

Note: that we don't add `black` to `requirements-dev.txt`, because it's Py3 only (refs: #520)",g-k,226605,2020-09-16T17:03:46Z,COLLABORATOR,True,1636,1695,20,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,fd2458a8f6fbd56660dead7cf646a7a4b3400250,format bleach code and tests ignoring _vendor
74,https://api.github.com/repos/mozilla/bleach/pulls/556,556,paint it black,"* Apply the black formatter to bleach tests and unvendored code
* Add a `format-check` target to `scripts/run-tests.sh`
* Add tox and CI jobs that fail if new code isn't formatting 

Note: that we don't add `black` to `requirements-dev.txt`, because it's Py3 only (refs: #520)",g-k,226605,2020-09-16T17:03:46Z,COLLABORATOR,True,1636,1695,20,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0c4441cf86dd2598cc8a8b5dbc5c271a5f13e31f,"flake8 ignore E203 whitespace before :

refs: https://github.com/PyCQA/pycodestyle/issues/373"
75,https://api.github.com/repos/mozilla/bleach/pulls/555,555,add DEFAULT_CALLBACKS to linkifier,"Carries #509 with tests

https://bleach.readthedocs.io/en/latest/linkify.html says we add nofollow by default",g-k,226605,2020-09-16T16:20:24Z,COLLABORATOR,True,25,9,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,744fe77165bcc8c643eff6a2a7514f8efd94dcfa,add DEFAULT_CALLBACKS to linkifier
76,https://api.github.com/repos/mozilla/bleach/pulls/555,555,add DEFAULT_CALLBACKS to linkifier,"Carries #509 with tests

https://bleach.readthedocs.io/en/latest/linkify.html says we add nofollow by default",g-k,226605,2020-09-16T16:20:24Z,COLLABORATOR,True,25,9,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,10a1ea5edd2ffdbd35b8aac0452ccd744fb1a51e,"update CHANGES, CONTRIBUTORS, and set dev version"
77,https://api.github.com/repos/mozilla/bleach/pulls/554,554,Update issue templates,"adds bug report and feature request issue templates

fixes: #550",g-k,226605,2020-09-16T16:06:30Z,COLLABORATOR,True,68,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,eecfb6ab7868b2216aedcd05d780fae7c75276ed,"Update issue templates

adds bug report and feature request issue templates

fixes: #550"
78,https://api.github.com/repos/mozilla/bleach/pulls/553,553,add tests for void tags #488,"Adds tests for #488 
",g-k,226605,2020-09-16T15:18:54Z,COLLABORATOR,True,39,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,fe5193b4fb1dd6ea2ed190dbc44d0926c8754c2a,add tests for void tags #488
79,https://api.github.com/repos/mozilla/bleach/pulls/549,549,Update for v3.2.0 release,"https://github.com/mozilla/bleach/blob/master/docs/dev.rst

no changes to manifest.in

- [x] tox passes
- [x] `make docs` passes
- [x] `make doctest` passes (NB: fails on 2.7 due to unicode str literals)
",g-k,226605,2020-09-16T13:24:12Z,COLLABORATOR,True,5,5,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9d578240351aabe4b4677ac307ed440c327103b0,Update for v3.2.0 release
80,https://api.github.com/repos/mozilla/bleach/pulls/548,548,Vendor htm5lib1.1,"Changes:

* bump the vendored html5lib version to 1.1. (vendor diff is https://github.com/html5lib/html5lib-python/compare/1.0.1...1.1#diff-db23dcd814354c954091a9b90dbfd92a)
* update attr name cleaning to fix the test failures in #543 
* suppress ""html5lib sanitizer going away use bleach deprecation warnings"" in tests and on import

Fixes #425 (the last part)
Fixes #518 
Fixes #543
Closes #533 (cherry picking the import fix)
Closes #521 (Python 3 import fix for python 3)

r? @willkg",g-k,226605,2020-09-15T17:45:37Z,COLLABORATOR,True,772,1079,38,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c17bb0d42e12d7a891ec79d2b1d9774765411af4,vendor: update vendored html5lib to v1.1
81,https://api.github.com/repos/mozilla/bleach/pulls/548,548,Vendor htm5lib1.1,"Changes:

* bump the vendored html5lib version to 1.1. (vendor diff is https://github.com/html5lib/html5lib-python/compare/1.0.1...1.1#diff-db23dcd814354c954091a9b90dbfd92a)
* update attr name cleaning to fix the test failures in #543 
* suppress ""html5lib sanitizer going away use bleach deprecation warnings"" in tests and on import

Fixes #425 (the last part)
Fixes #518 
Fixes #543
Closes #533 (cherry picking the import fix)
Closes #521 (Python 3 import fix for python 3)

r? @willkg",g-k,226605,2020-09-15T17:45:37Z,COLLABORATOR,True,772,1079,38,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,32694c082beb7fe04bbfca5310d50314c5e18e89,"update invalid attr name sanitization for html5lib 1.1

1.1 passes token data as a dict of attr name to attr value instead of
a list

fixes: #543"
82,https://api.github.com/repos/mozilla/bleach/pulls/548,548,Vendor htm5lib1.1,"Changes:

* bump the vendored html5lib version to 1.1. (vendor diff is https://github.com/html5lib/html5lib-python/compare/1.0.1...1.1#diff-db23dcd814354c954091a9b90dbfd92a)
* update attr name cleaning to fix the test failures in #543 
* suppress ""html5lib sanitizer going away use bleach deprecation warnings"" in tests and on import

Fixes #425 (the last part)
Fixes #518 
Fixes #543
Closes #533 (cherry picking the import fix)
Closes #521 (Python 3 import fix for python 3)

r? @willkg",g-k,226605,2020-09-15T17:45:37Z,COLLABORATOR,True,772,1079,38,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ce9bad84db11857b469b31b02cc515e7b3e7a289,suppress html5lib deprecation warnings
83,https://api.github.com/repos/mozilla/bleach/pulls/548,548,Vendor htm5lib1.1,"Changes:

* bump the vendored html5lib version to 1.1. (vendor diff is https://github.com/html5lib/html5lib-python/compare/1.0.1...1.1#diff-db23dcd814354c954091a9b90dbfd92a)
* update attr name cleaning to fix the test failures in #543 
* suppress ""html5lib sanitizer going away use bleach deprecation warnings"" in tests and on import

Fixes #425 (the last part)
Fixes #518 
Fixes #543
Closes #533 (cherry picking the import fix)
Closes #521 (Python 3 import fix for python 3)

r? @willkg",g-k,226605,2020-09-15T17:45:37Z,COLLABORATOR,True,772,1079,38,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,eaa0f6be1ccdcc82d4b576cd4956eb9106d69002,"update changelog, contributors, and set dev version"
84,https://api.github.com/repos/mozilla/bleach/pulls/548,548,Vendor htm5lib1.1,"Changes:

* bump the vendored html5lib version to 1.1. (vendor diff is https://github.com/html5lib/html5lib-python/compare/1.0.1...1.1#diff-db23dcd814354c954091a9b90dbfd92a)
* update attr name cleaning to fix the test failures in #543 
* suppress ""html5lib sanitizer going away use bleach deprecation warnings"" in tests and on import

Fixes #425 (the last part)
Fixes #518 
Fixes #543
Closes #533 (cherry picking the import fix)
Closes #521 (Python 3 import fix for python 3)

r? @willkg",g-k,226605,2020-09-15T17:45:37Z,COLLABORATOR,True,772,1079,38,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,03d63f403aea1f7aa238731d6741b4618a4550df,add hashin to requirements-dev.txt
85,https://api.github.com/repos/mozilla/bleach/pulls/548,548,Vendor htm5lib1.1,"Changes:

* bump the vendored html5lib version to 1.1. (vendor diff is https://github.com/html5lib/html5lib-python/compare/1.0.1...1.1#diff-db23dcd814354c954091a9b90dbfd92a)
* update attr name cleaning to fix the test failures in #543 
* suppress ""html5lib sanitizer going away use bleach deprecation warnings"" in tests and on import

Fixes #425 (the last part)
Fixes #518 
Fixes #543
Closes #533 (cherry picking the import fix)
Closes #521 (Python 3 import fix for python 3)

r? @willkg",g-k,226605,2020-09-15T17:45:37Z,COLLABORATOR,True,772,1079,38,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d17ad185142d2ee325a653605bfd43b9ff71ac8e,vendor: add pip version used to vendor readme
86,https://api.github.com/repos/mozilla/bleach/pulls/542,542,update tests_website terminology,,graingert,413772,2020-07-24T14:11:28Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,80732aadeb9077133be567924b5a14f94a5e436e,update tests_website terminology
87,https://api.github.com/repos/mozilla/bleach/pulls/535,535,Add style attr sanitizer,"As discussed in #248, we'd like to move away from the regex based CSS sanitizer but don't necessarily have a maintained CSS parser with Python 2 support to switch to (also some users don't necessarily want full CSS parsing).

Changes in this PR:

* add a `css_style_attr_sanitizer` param/arg to bleach `Cleaner` and `BleachSanitizerFilter` to make it possible to override `sanitize_css` without changing `Cleaner.clean`
* update the arbitrary style goal

We'd then cut a major release that:

* drops python 2 support #520
* replaces old regex based stuff with tinycss2 #248


r? @jdufresne 

cc @willkg @peterbe ",g-k,226605,2020-05-15T16:22:22Z,COLLABORATOR,False,125,12,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d2650ee1638dca53d1cc56788144d59b3d27c17b,add css_style_attr_sanitizer to Cleaner
88,https://api.github.com/repos/mozilla/bleach/pulls/535,535,Add style attr sanitizer,"As discussed in #248, we'd like to move away from the regex based CSS sanitizer but don't necessarily have a maintained CSS parser with Python 2 support to switch to (also some users don't necessarily want full CSS parsing).

Changes in this PR:

* add a `css_style_attr_sanitizer` param/arg to bleach `Cleaner` and `BleachSanitizerFilter` to make it possible to override `sanitize_css` without changing `Cleaner.clean`
* update the arbitrary style goal

We'd then cut a major release that:

* drops python 2 support #520
* replaces old regex based stuff with tinycss2 #248


r? @jdufresne 

cc @willkg @peterbe ",g-k,226605,2020-05-15T16:22:22Z,COLLABORATOR,False,125,12,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,48fcc82516205bd94ef893c32514ab013e26a5af,http -> https some docstring and doc links
89,https://api.github.com/repos/mozilla/bleach/pulls/535,535,Add style attr sanitizer,"As discussed in #248, we'd like to move away from the regex based CSS sanitizer but don't necessarily have a maintained CSS parser with Python 2 support to switch to (also some users don't necessarily want full CSS parsing).

Changes in this PR:

* add a `css_style_attr_sanitizer` param/arg to bleach `Cleaner` and `BleachSanitizerFilter` to make it possible to override `sanitize_css` without changing `Cleaner.clean`
* update the arbitrary style goal

We'd then cut a major release that:

* drops python 2 support #520
* replaces old regex based stuff with tinycss2 #248


r? @jdufresne 

cc @willkg @peterbe ",g-k,226605,2020-05-15T16:22:22Z,COLLABORATOR,False,125,12,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,818df8ca0243a42ac390d54f9a3adb56edf064a1,Update for v3.2.0.dev0 release
90,https://api.github.com/repos/mozilla/bleach/pulls/533,533,Update html5lib to Py3 Mapping import,"The bleach project uses html5lib 1.0.1 - the latest version on pypi - however this generates a deprecation warning for the Mapping import in bleach/_vendor/html5lib/_trie/_base.py

This pull request updates the import to the python 3.3+ form while maintaining backwards compatibility as per https://github.com/html5lib/html5lib-python/blob/master/html5lib/_trie/_base.py#L3
 ",mdinsmore,6311940,2020-05-13T15:16:22Z,NONE,False,4,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,829e61975d6e9c4911df1efc9e830ea3973258b6,Update html5lib to Py3 Mapping import
91,https://api.github.com/repos/mozilla/bleach/pulls/532,532,Update for v3.1.5 release,,g-k,226605,2020-04-29T18:22:23Z,COLLABORATOR,True,18,2,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d257ab4bd395e83e42671846743f679801cf67a8,Update for v3.1.5 release
92,https://api.github.com/repos/mozilla/bleach/pulls/531,531,Replace setuptools dependency with packaging.,"bleach had a (undeclared) dependency on setuptools via the import of pkg_resources in __init__.py. pkg_resources is mostly deprecated, and its use should be avoided. For bleach's usage, we can directly employ the packaging library.",benjaminp,219470,2020-04-28T21:31:18Z,CONTRIBUTOR,True,3,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5eafb1aa25718b3e0702439eaf3230a11126b4e0,"Replace setuptools dependency with packaging.

bleach had a (undeclared) dependency on setuptools via the import of pkg_resources in __init__.py. pkg_resources is mostly deprecated, and it's use should be avoided. For bleach's usage, we can directly employ the packaging library."
93,https://api.github.com/repos/mozilla/bleach/pulls/530,530,Fix regressions from 3.1.4,,kiilerix,225555,2020-04-05T17:16:04Z,NONE,False,4,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c50bc8c9375eca53356616250aa5258cc224b876,sanitizer: Drop superfluous regexp escaping of . inside []
94,https://api.github.com/repos/mozilla/bleach/pulls/530,530,Fix regressions from 3.1.4,,kiilerix,225555,2020-04-05T17:16:04Z,NONE,False,4,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,09245fcedbe52adeb9b1deab83f25b3b120b477c,sanitizer: Drop ambiguous regexp matching of space after '...'
95,https://api.github.com/repos/mozilla/bleach/pulls/530,530,Fix regressions from 3.1.4,,kiilerix,225555,2020-04-05T17:16:04Z,NONE,False,4,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,014ff0f7b03b909302d63dd5e586e7ebe3707432,"sanitizer: Fix regexp matching of '-' in style attributes

Rework d6018f2539d271963c3e7f54f36ef11900363c69 and choose an alternative
approach to fixing bug 1623633.

Before that change, '-' could be matched either by itself, or by '\w-\w'. The
latter seemed to have the odd intent of avoiding leading or trailing '-' ...
but also meant it allowed 'a-aa-a' but not 'a-a-a'.

The primary intent with the change seemed to be to avoid a backtracking
explosion exploiding the ambiguous matching of '-'.

The chosen solution of allowing '\w-\w' but not '-' broke some tests and some
real world use cases.

There doesn't seem to be any risk from allowing leading or trailing or
consecutive '-' in styles. Thus, instead, this change will choose the path of
allowing '-' as a normal character and drop the special handling of '\w-\w'."
96,https://api.github.com/repos/mozilla/bleach/pulls/530,530,Fix regressions from 3.1.4,,kiilerix,225555,2020-04-05T17:16:04Z,NONE,False,4,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9aa23acd22772025111946f544e38cb0df069535,"sanitizer: Fix regexp matching of quoted strings in style attributes

Rework d6018f2539d271963c3e7f54f36ef11900363c69 and choose an alternative
approach to handling ' and "" while fixing bug 1623633.

Before that change, ' and "" could be matched either by themselves, or balanced
around [\s\w]+ .

The intent with the change seemed to be to avoid a potential backtracking
explosion exploiting the ambiguous matching.

The chosen solution of for example allowing 'foo' and ""foo bar"" but not
'foo-bar' broke some tests and some real world use cases.

There doesn't seem to be any risk from allowing any of the ""usual"" characters
inside balanced quotation marks.

This change will expand the set of valid strings inside quotation marks without
adding any ambiguity that can cause backtracking. We will accept all the
characters that already are allowed outside quotation marks, but also accept
the other kind of quotation marks, allow ( and ) , and empty strings."
97,https://api.github.com/repos/mozilla/bleach/pulls/525,525,fix long line lint failure bleach/sanitizer.py L601,,g-k,226605,2020-03-26T14:48:42Z,COLLABORATOR,True,2,2,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,11f7fa927e24e6a70a098b70bcad3e3613eda4aa,fix long line lint failure bleach/sanitizer.py L601
98,https://api.github.com/repos/mozilla/bleach/pulls/524,524,Update for v3.1.3 release,"Currently, we're maintaining as separate v3.1 branch confusingly called [v3.1.0-branch](https://github.com/mozilla/bleach/tree/v3.1.0-branch) for security releases. 

This PR gets the two branches in sync for a 3.1.3 release and to cut future releases from master.

I'm open to alternate branching and development schemes too.",g-k,226605,2020-03-17T15:20:27Z,COLLABORATOR,True,34,3,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8c492014c1efe738d24bc404a904452198b53df1,Update for v3.1.3 release
99,https://api.github.com/repos/mozilla/bleach/pulls/523,523,3.1.2 sec release,Pulls in changes from the https://bugzilla.mozilla.org/show_bug.cgi?id=1621692 fix,g-k,226605,2020-03-17T14:41:26Z,COLLABORATOR,True,76,5,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7fb1de53cc114c08347168fe7c11c2aee5ae9545,fix bug 1621692
100,https://api.github.com/repos/mozilla/bleach/pulls/523,523,3.1.2 sec release,Pulls in changes from the https://bugzilla.mozilla.org/show_bug.cgi?id=1621692 fix,g-k,226605,2020-03-17T14:41:26Z,COLLABORATOR,True,76,5,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,423ad4850a2333670501bb47ccb31cfc295bca24,add wheel to requirements-dev
101,https://api.github.com/repos/mozilla/bleach/pulls/523,523,3.1.2 sec release,Pulls in changes from the https://bugzilla.mozilla.org/show_bug.cgi?id=1621692 fix,g-k,226605,2020-03-17T14:41:26Z,COLLABORATOR,True,76,5,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,faf5e86fdec580bd0e1419c59699bf582964122e,Update for v3.1.2 release
102,https://api.github.com/repos/mozilla/bleach/pulls/522,522,v3.1.2 sec release,,g-k,226605,2020-03-17T14:30:52Z,COLLABORATOR,False,145,6,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,996cde7a2439a2323f9c4b2567c8b8449d393351,fix bug 1615315
103,https://api.github.com/repos/mozilla/bleach/pulls/522,522,v3.1.2 sec release,,g-k,226605,2020-03-17T14:30:52Z,COLLABORATOR,False,145,6,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0d88dd83e425c4ba381d5b83fe61bfae5bbbd627,Update for v3.1.1 release
104,https://api.github.com/repos/mozilla/bleach/pulls/522,522,v3.1.2 sec release,,g-k,226605,2020-03-17T14:30:52Z,COLLABORATOR,False,145,6,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e4e9e21e7aebff40c88fafa4319bba4636a602d9,fix bug 1621692
105,https://api.github.com/repos/mozilla/bleach/pulls/522,522,v3.1.2 sec release,,g-k,226605,2020-03-17T14:30:52Z,COLLABORATOR,False,145,6,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7b625ff9f6888a08037700269fb23e3ef863b8a7,add wheel to requirements-dev
106,https://api.github.com/repos/mozilla/bleach/pulls/522,522,v3.1.2 sec release,,g-k,226605,2020-03-17T14:30:52Z,COLLABORATOR,False,145,6,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,78a06726dd6c72a42c90c1f7a8fa5d21ebcfa587,Update for v3.1.2 release
107,https://api.github.com/repos/mozilla/bleach/pulls/521,521,import ABCs from collections.abc for Python 3.9,,aaronchall,953306,2020-03-12T22:14:46Z,NONE,False,2,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c4da1c25de9d5d25f646f924f48d33431a199c3f,import ABCs from collections.abc for Python 3.9
108,https://api.github.com/repos/mozilla/bleach/pulls/516,516,v3.1.0 branch,Pull sec-fix in 3.1.1 to master,g-k,226605,2020-02-19T17:51:40Z,COLLABORATOR,True,72,4,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,996cde7a2439a2323f9c4b2567c8b8449d393351,fix bug 1615315
109,https://api.github.com/repos/mozilla/bleach/pulls/516,516,v3.1.0 branch,Pull sec-fix in 3.1.1 to master,g-k,226605,2020-02-19T17:51:40Z,COLLABORATOR,True,72,4,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0d88dd83e425c4ba381d5b83fe61bfae5bbbd627,Update for v3.1.1 release
110,https://api.github.com/repos/mozilla/bleach/pulls/514,514,Test and lint on GitHub Actions,"Fixes https://github.com/mozilla/bleach/issues/331.
Fixes https://github.com/mozilla/bleach/issues/439.

This replicates the current Travis CI setup, except:

* Doesn't test EOL Python 2.7 and 3.4. These can be added if you like.
* Doesn't test Python 3.7 and 3.8, as they're currently failing due to #503:
   * https://github.com/hugovk/bleach/runs/412523804?check_suite_focus=true
* lint/vendorverify/docs are run on 3.8

Tests are run on all available operating systems:
* `ubuntu-18.04`, `ubuntu-16.04`, `macos-latest`, `windows-latest`
* If there's no need to test on both Ubuntus, `ubuntu-latest` can be used as well

I made one workflow config file for testing, and another for linting.

They're mostly identical, due to caching boilerplate. They could be combined into a single config file, but the matrix definition might be a bit complicated and difficult to maintain. (I've also proposed a change to pip to allow the cache boilerplate to be simplified in the future.) But if you like, I can check how it'd look.

Here's how a test run looks:

* https://github.com/hugovk/bleach/runs/412558440?check_suite_focus=true

And lint:

* https://github.com/hugovk/bleach/runs/412558503?check_suite_focus=true

---

I've not tried it yet (on GHA, I have on Travis), but here's one way to deploy to PyPI:

* https://github.com/pypa/gh-action-pypi-publish
",hugovk,1324225,2020-01-28T09:57:18Z,CONTRIBUTOR,True,84,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,427d320338a50672fcf224506f0c72ff700f2973,Test on GitHub Actions
111,https://api.github.com/repos/mozilla/bleach/pulls/514,514,Test and lint on GitHub Actions,"Fixes https://github.com/mozilla/bleach/issues/331.
Fixes https://github.com/mozilla/bleach/issues/439.

This replicates the current Travis CI setup, except:

* Doesn't test EOL Python 2.7 and 3.4. These can be added if you like.
* Doesn't test Python 3.7 and 3.8, as they're currently failing due to #503:
   * https://github.com/hugovk/bleach/runs/412523804?check_suite_focus=true
* lint/vendorverify/docs are run on 3.8

Tests are run on all available operating systems:
* `ubuntu-18.04`, `ubuntu-16.04`, `macos-latest`, `windows-latest`
* If there's no need to test on both Ubuntus, `ubuntu-latest` can be used as well

I made one workflow config file for testing, and another for linting.

They're mostly identical, due to caching boilerplate. They could be combined into a single config file, but the matrix definition might be a bit complicated and difficult to maintain. (I've also proposed a change to pip to allow the cache boilerplate to be simplified in the future.) But if you like, I can check how it'd look.

Here's how a test run looks:

* https://github.com/hugovk/bleach/runs/412558440?check_suite_focus=true

And lint:

* https://github.com/hugovk/bleach/runs/412558503?check_suite_focus=true

---

I've not tried it yet (on GHA, I have on Travis), but here's one way to deploy to PyPI:

* https://github.com/pypa/gh-action-pypi-publish
",hugovk,1324225,2020-01-28T09:57:18Z,CONTRIBUTOR,True,84,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b1292f2413d1e80c150f3fcd6040abc033b9b382,Lint on GitHub Actions
112,https://api.github.com/repos/mozilla/bleach/pulls/514,514,Test and lint on GitHub Actions,"Fixes https://github.com/mozilla/bleach/issues/331.
Fixes https://github.com/mozilla/bleach/issues/439.

This replicates the current Travis CI setup, except:

* Doesn't test EOL Python 2.7 and 3.4. These can be added if you like.
* Doesn't test Python 3.7 and 3.8, as they're currently failing due to #503:
   * https://github.com/hugovk/bleach/runs/412523804?check_suite_focus=true
* lint/vendorverify/docs are run on 3.8

Tests are run on all available operating systems:
* `ubuntu-18.04`, `ubuntu-16.04`, `macos-latest`, `windows-latest`
* If there's no need to test on both Ubuntus, `ubuntu-latest` can be used as well

I made one workflow config file for testing, and another for linting.

They're mostly identical, due to caching boilerplate. They could be combined into a single config file, but the matrix definition might be a bit complicated and difficult to maintain. (I've also proposed a change to pip to allow the cache boilerplate to be simplified in the future.) But if you like, I can check how it'd look.

Here's how a test run looks:

* https://github.com/hugovk/bleach/runs/412558440?check_suite_focus=true

And lint:

* https://github.com/hugovk/bleach/runs/412558503?check_suite_focus=true

---

I've not tried it yet (on GHA, I have on Travis), but here's one way to deploy to PyPI:

* https://github.com/pypa/gh-action-pypi-publish
",hugovk,1324225,2020-01-28T09:57:18Z,CONTRIBUTOR,True,84,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,835c75233ad2fb94a365736a9cf7202d88a1b656,Update and simplify GHA config
113,https://api.github.com/repos/mozilla/bleach/pulls/513,513,Drop support for EOL Python 3.4,"Python 3.4 is EOL and no longer receiving security updates (or any updates) from the core Python team.

Version | Release date | Supported until
--- | ---------- | ----------
2.7 | 2010-07-03 | 2020-01-01
3.4 | 2014-03-16 | 2019-03-16

Source: https://en.wikipedia.org/wiki/CPython#Version_history

It's also little used. Here's the pip installs for bleach from PyPI for December 2019:

| category | percent | downloads |
|----------|--------:|----------:|
| 2.7      |  45.22% | 2,184,849 |
| 3.6      |  24.90% | 1,203,109 |
| 3.7      |  17.44% |   842,550 |
| 3.5      |   9.00% |   434,677 |
| 3.8      |   2.53% |   122,121 |
| 3.4      |   0.65% |    31,312 |
| null     |   0.26% |    12,381 |
| 3.9      |   0.01% |       342 |
| 3.3      |   0.00% |        20 |
| 2.6      |   0.00% |        12 |
| 3.1      |   0.00% |         1 |
| Total    |         | 4,831,374 |

Source: `pip install -U pypistats && pypistats python_minor bleach --last-month`

",hugovk,1324225,2020-01-28T09:12:28Z,CONTRIBUTOR,True,4,12,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c28dd63456f17900332cacd2af3f45bc22ec4816,Drop support for EOL Python 3.4
114,https://api.github.com/repos/mozilla/bleach/pulls/512,512,Travis CI: test on PyPy 7,Plain `pypy` and `pypy3` now point to PyPy 7.1.1.,hugovk,1324225,2020-01-28T09:08:46Z,CONTRIBUTOR,True,2,2,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,99375effdc1842db9f05382ebd3db587733c342e,Test on PyPy 7
115,https://api.github.com/repos/mozilla/bleach/pulls/511,511,Add relative link to code of conduct,Fix #442 - links to the generated code of conduct,dbxnr,17500013,2020-01-11T02:54:35Z,CONTRIBUTOR,True,3,6,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,575de68eb6186a8cd8e4657948893d4a070c20fa,Add relative link to code of conduct
116,https://api.github.com/repos/mozilla/bleach/pulls/509,509,Aligning code to documentation,DEFAULT_CALLBACKS was missing.,mitar,585279,2020-01-06T22:44:03Z,CONTRIBUTOR,False,2,2,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4e8c378a405162f060858b7fd7363af382458839,"Aligning code to documentation.

DEFAULT_CALLBACKS was missing."
117,https://api.github.com/repos/mozilla/bleach/pulls/507,507,Drop deprecated 'setup.py test' support,"Since setuptools v41.5.0 (27 Oct 2019), the 'test' command is formally
deprecated and should not be used. Contributors should run test tests
using tox, pytest, run_test.sh or some other entry point.

For details on the setuptools change, see:

https://setuptools.readthedocs.io/en/latest/history.html#v41-5-0",jdufresne,347634,2020-01-05T20:51:54Z,COLLABORATOR,True,0,15,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c3c74a69f2ab890b5bb7498037852b9d47d6f986,"Drop deprecated 'setup.py test' support

Since setuptools v41.5.0 (27 Oct 2019), the 'test' command is formally
deprecated and should not be used. Contributors should run test tests
using tox, pytest, run_test.sh or some other entry point.

For details on the setuptools change, see:

https://setuptools.readthedocs.io/en/latest/history.html#v41-5-0"
118,https://api.github.com/repos/mozilla/bleach/pulls/506,506,Adding Travis-Ci Support For Arm64,Travis-CI has added support for ARM64. Added ARM64 job in Travis-CI.,ossdev07,39188636,2019-12-27T12:26:27Z,NONE,False,52,18,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,52ebda7efb49de4b78b2c8262a0315fb1605f2c9,"Adding Travis-Ci Support For Arm64

Signed-off-by: ossdev07 <ossdev@puresoftware.com>"
119,https://api.github.com/repos/mozilla/bleach/pulls/505,505,Fix simple typo: curren -> current,"Closes #504

",timgates42,47873678,2019-12-21T08:33:04Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3c525ac264cb442616b1dca62bbab7e4be0ec667,"Fix simple typo: curren -> current

Closes #504"
120,https://api.github.com/repos/mozilla/bleach/pulls/502,502,only install six for python2 versions,"I noticed that for my application running python 3.6 that installing bleach was still installing six, which is not needed. This PR modifies the setup arguments to match the [setuptools docs](https://setuptools.readthedocs.io/en/latest/setuptools.html#id17) for declaring platform specific dependencies.

Let me know what you think and if there's anything else I can do here :)",shaneikennedy,24571820,2019-12-17T11:40:02Z,NONE,False,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1fbd537884ff7282ee9cdccd24522b9ef04622dd,only install six for python2 versions
121,https://api.github.com/repos/mozilla/bleach/pulls/500,500,Fix collections ABCs deprecation warning,"DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working
    from collections import Mapping",paxet,776821,2019-12-13T10:42:18Z,NONE,False,6,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,be611d9a84a790f156776cce3382ef9510f02311,"Fix collections ABCs deprecation warning

DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working
    from collections import Mapping"
122,https://api.github.com/repos/mozilla/bleach/pulls/498,498,Add missing quote,The ending quote for a string in code example is missing. This PR adds it.,sblondon,1708780,2019-12-11T09:58:26Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,02a22a0838722c9b9819dce9a6202f60fe1ca723,"Add missing quote

The ending quote for a string in code example is missing. This PR adds it."
123,https://api.github.com/repos/mozilla/bleach/pulls/496,496,build email re,Rebased #486 with a format string escaping comment and docs,g-k,226605,2019-12-05T15:28:15Z,COLLABORATOR,True,42,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,567eb46b21616b5bf6fe0214d720ff6bdc944f16,Add build_email_re() and use list of TLDs
124,https://api.github.com/repos/mozilla/bleach/pulls/496,496,build email re,Rebased #486 with a format string escaping comment and docs,g-k,226605,2019-12-05T15:28:15Z,COLLABORATOR,True,42,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,05038634395b7728d90b31bab867fa8e25cc14c6,docs: add build_email_re with tlds example
125,https://api.github.com/repos/mozilla/bleach/pulls/494,494,Create SECURITY.md,"fixes: #479
copied reporting info from readme

r? @willkg thoughts? are lots of people still on 1.x and 2.x and would it be hard to support them?",g-k,226605,2019-12-03T21:06:23Z,COLLABORATOR,True,20,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f2e3728500d44ac0decc217393a18ab4c5f15069,"Create SECURITY.md

fixes: #479
copied reporting info from readme"
126,https://api.github.com/repos/mozilla/bleach/pulls/493,493,Parser tags nonetype exception,rebased #458 ,g-k,226605,2019-12-03T20:33:16Z,COLLABORATOR,True,8,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a8f7323eb900fd2ab796d5b149d439295f82de57,"Added failing test

BleachHTMLTokenizer tries to iterate parser.tags"
127,https://api.github.com/repos/mozilla/bleach/pulls/493,493,Parser tags nonetype exception,rebased #458 ,g-k,226605,2019-12-03T20:33:16Z,COLLABORATOR,True,8,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6ba1dd0d49a8d7a31f71d172483822a5a6f2da23,Check parser.tags before trying to iterate
128,https://api.github.com/repos/mozilla/bleach/pulls/493,493,Parser tags nonetype exception,rebased #458 ,g-k,226605,2019-12-03T20:33:16Z,COLLABORATOR,True,8,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,92769bc0db11ef01140945bc62a19188805eff61,"Fixed 'expected-closing-tag-but-got-char' not to enter if tags=None

Updated test accordingly since html5lib turns it into a comment."
129,https://api.github.com/repos/mozilla/bleach/pulls/492,492,Add tld example to docs,Carries #478 with some modifications.,g-k,226605,2019-12-03T19:48:47Z,COLLABORATOR,False,23,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e2d88c53c8fa385bd532f4d9ed66241fe2d0cb5a,docs: Add linkify example using tlds package
130,https://api.github.com/repos/mozilla/bleach/pulls/492,492,Add tld example to docs,Carries #478 with some modifications.,g-k,226605,2019-12-03T19:48:47Z,COLLABORATOR,False,23,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,eed991bf892678b07f06dc1bb45b9f1e36e0cf0f,docs: add caveat about maintainers not having reviewed tlds
131,https://api.github.com/repos/mozilla/bleach/pulls/491,491,Support pytest5 syntax for tests,"per @mastizada in #483

> Tox test with python 2.7 and 3.7 passed (python 3.7 gave warning for html5lib - external library).
> Don't know what was the issue with python 2.7 before, but just making these 2 changes worked in both. I was going to add a solution for python 2 case, but it wasn't needed.
> 
> Fixes #459
> Fixes #475

Fixes #459
Fixes #475",g-k,226605,2019-12-03T18:39:08Z,COLLABORATOR,True,5,3,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,24907609ca727947a588230d9691f1d2930374bb,Support pytest5 syntax for tests
132,https://api.github.com/repos/mozilla/bleach/pulls/490,490,Add Python 3.8 to the test matrix,Rebased #485,g-k,226605,2019-12-03T18:21:35Z,COLLABORATOR,True,4,2,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3ad258e6f83e667e1f92f776e70abfab274e4859,Add Python 3.8 to the test matrix
133,https://api.github.com/repos/mozilla/bleach/pulls/486,486,Add build_email_re() and use list of TLDs,"Right now, emails are being parsed through either through the static `EMAIL_RE` or a user-provided regex.

However: parsing emails will however fail for a variety of gTLDs - even if those would be included in the list of `TLDS`, because bleach assumes that any tld cannot be longer than 6 characters.

My first instinct would have been to pass a new `email_re` to the `Linker` and use a `build_email_re()` the same way as the `build_url_re()`.

Since this function did not exist yet, I took the liberty to implement it in this PR - thus allowing the discovery and linking of all TLDs in the same way as for the URL-detection.

The test suite still passes - so I'll assume that this change won't be breaking anything for users opting not to provide any custom list of TLDs.",pc-coholic,654548,2019-11-22T15:48:53Z,CONTRIBUTOR,False,24,9,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7f9f248a9c96fcf48aa3bf41b8f730daeb1e4be1,Add build_email_re() and use list of TLDs
134,https://api.github.com/repos/mozilla/bleach/pulls/486,486,Add build_email_re() and use list of TLDs,"Right now, emails are being parsed through either through the static `EMAIL_RE` or a user-provided regex.

However: parsing emails will however fail for a variety of gTLDs - even if those would be included in the list of `TLDS`, because bleach assumes that any tld cannot be longer than 6 characters.

My first instinct would have been to pass a new `email_re` to the `Linker` and use a `build_email_re()` the same way as the `build_url_re()`.

Since this function did not exist yet, I took the liberty to implement it in this PR - thus allowing the discovery and linking of all TLDs in the same way as for the URL-detection.

The test suite still passes - so I'll assume that this change won't be breaking anything for users opting not to provide any custom list of TLDs.",pc-coholic,654548,2019-11-22T15:48:53Z,CONTRIBUTOR,False,24,9,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d7fa91288126dfeda35a193d4e77663355f2cd49,Change to str.format()
135,https://api.github.com/repos/mozilla/bleach/pulls/485,485,Add Python 3.8 to the test matrix,,jdufresne,347634,2019-11-11T18:42:51Z,COLLABORATOR,False,4,2,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7d624cc45a4fb6d34712e5099465642468f18107,Add Python 3.8 to the test matrix
136,https://api.github.com/repos/mozilla/bleach/pulls/484,484,Remove references to IRC,"Mozilla is shutting down irc.mozilla.org soon. We should stop talking about the IRC channel.

Fixes #482",willkg,820826,2019-11-10T21:12:17Z,MEMBER,True,1,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,31ee817a3acecfe08e88e19be55708ab8fd051ae,"Remove references to IRC

Fixes #482"
137,https://api.github.com/repos/mozilla/bleach/pulls/483,483,Support pytest5 syntax for tests,"Tox test with python 2.7 and 3.7 passed (python 3.7 gave warning for html5lib - external library).
Don't know what was the issue with python 2.7 before, but just making these 2 changes worked in both. I was going to add a solution for python 2 case, but it wasn't needed.

Fixes #459
Fixes #475",mastizada,1975818,2019-10-16T14:51:29Z,CONTRIBUTOR,False,5,3,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9201b4708a90dc1f841285c6ec47814f6ed17495,Support pytest5 syntax for tests
138,https://api.github.com/repos/mozilla/bleach/pulls/481,481,Fix tox.ini to run doctests in docs,"This fixes `tox.ini` to run doctests with the `docs` environment. You can run it manually like this:

```
$ tox -e docs
```

I also tweaked the CI setup to build the docs and run doctests in CI. I think that'll work.",willkg,820826,2019-09-25T13:43:16Z,MEMBER,True,5,0,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f0306aad47d6cb1cf8e73735851d884d3fbc2a84,Fix tox.ini to run doctests in docs
139,https://api.github.com/repos/mozilla/bleach/pulls/481,481,Fix tox.ini to run doctests in docs,"This fixes `tox.ini` to run doctests with the `docs` environment. You can run it manually like this:

```
$ tox -e docs
```

I also tweaked the CI setup to build the docs and run doctests in CI. I think that'll work.",willkg,820826,2019-09-25T13:43:16Z,MEMBER,True,5,0,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0b85bb5882e30e4371cab151bf4fcb5f16e0e330,Fix docs pass in CI to use python 3.6
140,https://api.github.com/repos/mozilla/bleach/pulls/478,478,docs: Add linkify example using tlds package,Not sure if this is the best way to do this but this PR is supposed to amend mozilla/bleach#473,philippbosch,57509,2019-09-10T10:27:09Z,NONE,False,61,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2c4d502cc141af1fcff1fc85f014f8ed16c3176b,"docs: Add linkify Linker examples using custom TLDs and protocols

fixes: #472"
141,https://api.github.com/repos/mozilla/bleach/pulls/478,478,docs: Add linkify example using tlds package,Not sure if this is the best way to do this but this PR is supposed to amend mozilla/bleach#473,philippbosch,57509,2019-09-10T10:27:09Z,NONE,False,61,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3e6e62f0fec124b8bc9be2786dcaf4dd3a34642d,"docs: Add linkify TLD encoding example for localized TLDs

refs: #368"
142,https://api.github.com/repos/mozilla/bleach/pulls/478,478,docs: Add linkify example using tlds package,Not sure if this is the best way to do this but this PR is supposed to amend mozilla/bleach#473,philippbosch,57509,2019-09-10T10:27:09Z,NONE,False,61,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5fe07a53ec0ef215ebe70f64607047b345f53f40,docs: Add linkify example using tlds package
143,https://api.github.com/repos/mozilla/bleach/pulls/476,476,docs: add IDN homograph attacks to goals and linkify,"refs: #464 and discussion in the associated BMO bug

r? @willkg 

If this looks good, I'll also open an issue for adding examples of how one might handle those threats sanely.",g-k,226605,2019-09-05T21:19:52Z,COLLABORATOR,True,18,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f336af3b34458d635d17389a346307ecfbe020d8,"docs: add IDN homograph attacks to goals and linkify

refs: #464"
144,https://api.github.com/repos/mozilla/bleach/pulls/474,474,require pytest 5+ and update exception handling tests,"force pytest <5 to workaround #459 #467 and I'll make a new issue for supporting / upgrading to pytest 5+ (edit: done in #475)

r? @jdufresne ",g-k,226605,2019-09-05T19:01:18Z,COLLABORATOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b75f2e4c510f8377a2ab419b88388cab03ae62d9,"require pytest <5

fixes #467"
145,https://api.github.com/repos/mozilla/bleach/pulls/473,473,docs: Add linkify Linker examples using custom TLDs and protocols,"fixes: #472 see the linked issues for additional info.

Surfaces the `build_url_re` docstring and adds a couple examples to the docs. One possible downside is if we move away from the `url_re` kwarg then it'll break backwards compatibility, but I think that's OK.

r? @jdufresne or @willkg",g-k,226605,2019-09-05T18:03:13Z,COLLABORATOR,True,42,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3ed13943c6b05b3ff7e9f79f91da5a18c66bc945,"docs: Add linkify Linker examples using custom TLDs and protocols

fixes: #472"
146,https://api.github.com/repos/mozilla/bleach/pulls/473,473,docs: Add linkify Linker examples using custom TLDs and protocols,"fixes: #472 see the linked issues for additional info.

Surfaces the `build_url_re` docstring and adds a couple examples to the docs. One possible downside is if we move away from the `url_re` kwarg then it'll break backwards compatibility, but I think that's OK.

r? @jdufresne or @willkg",g-k,226605,2019-09-05T18:03:13Z,COLLABORATOR,True,42,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,62fd85c779457a4ea11668d0b2cb8d91f2bab71b,"docs: Add linkify TLD encoding example for localized TLDs

refs: #368"
147,https://api.github.com/repos/mozilla/bleach/pulls/471,471,Correct typo: bleach.clean(user_bio} → bleach.clean(user_bio),Carries #454 without merging master back into the feature branch. Previously reviewed in that PR.,g-k,226605,2019-09-05T15:19:14Z,COLLABORATOR,True,2,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7d29a8c23975afe266994b89ca87ca51912b4b8c,Correct typo: bleach.clean(user_bio} → bleach.clean(user_bio)
148,https://api.github.com/repos/mozilla/bleach/pulls/470,470,Typo fixes,Carries #466 without merging master back into the feature branch. Previously reviewed in that PR.,g-k,226605,2019-09-05T15:09:03Z,COLLABORATOR,True,3,3,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ad3bae8c0325045baf34ee5779b4f4bc706116dc,Fix typo
149,https://api.github.com/repos/mozilla/bleach/pulls/470,470,Typo fixes,Carries #466 without merging master back into the feature branch. Previously reviewed in that PR.,g-k,226605,2019-09-05T15:09:03Z,COLLABORATOR,True,3,3,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2c1833a917998291e69e24e05f12a8e2a5c8ec5a,Fix typo
150,https://api.github.com/repos/mozilla/bleach/pulls/470,470,Typo fixes,Carries #466 without merging master back into the feature branch. Previously reviewed in that PR.,g-k,226605,2019-09-05T15:09:03Z,COLLABORATOR,True,3,3,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bcb63a293088db5412b6ba70144031a627ef27d5,Fix typo
151,https://api.github.com/repos/mozilla/bleach/pulls/469,469,Stop using deprecated Travis container environment,"https://blog.travis-ci.com/2018-11-19-required-linux-infrastructure-migration

Carries #468 without merging master back into the feature branch.",g-k,226605,2019-09-05T15:01:28Z,COLLABORATOR,True,0,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,dab32d54699a7b35c5481296b62e688e10a47934,"Stop using deprecated Travis container environment

https://blog.travis-ci.com/2018-11-19-required-linux-infrastructure-migration"
152,https://api.github.com/repos/mozilla/bleach/pulls/468,468,Stop using deprecated Travis container environment,https://blog.travis-ci.com/2018-11-19-required-linux-infrastructure-migration,jdufresne,347634,2019-08-20T12:48:46Z,COLLABORATOR,False,0,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,405e3d0719b6bc2ecdd8a3308b8602a00ea58afc,"Stop using deprecated Travis container environment

https://blog.travis-ci.com/2018-11-19-required-linux-infrastructure-migration"
153,https://api.github.com/repos/mozilla/bleach/pulls/466,466,Fix typos,,zborboa-g,6154360,2019-08-16T15:02:19Z,CONTRIBUTOR,False,3,3,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,954a2b6ca062d8f09007e33f2a8841aee86e5788,Fix typo
154,https://api.github.com/repos/mozilla/bleach/pulls/466,466,Fix typos,,zborboa-g,6154360,2019-08-16T15:02:19Z,CONTRIBUTOR,False,3,3,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,da72f9f65700e8e47042ca2779b5a10b7f72e039,Fix typo
155,https://api.github.com/repos/mozilla/bleach/pulls/466,466,Fix typos,,zborboa-g,6154360,2019-08-16T15:02:19Z,CONTRIBUTOR,False,3,3,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,454bdc354211aab499230345b55bd03da8e0edb8,Fix typo
156,https://api.github.com/repos/mozilla/bleach/pulls/465,465,Make the documentation reproducible,"Whilst working on the [Reproducible Builds effort](https://reproducible-builds.org/) I noticed that python-bleach could not be built reproducibly.

This is because the documentation included a default arguments that was (originally) generated from a `frozenset` type which are iterated over at runtime in a nondeterministic order.

This commit therefore ensures a regular expression is constructed in a deterministic manner, rendering the documentation reproducible.

This bug was originally filed in Debian as [#934120](https://bugs.debian.org/934120).",lamby,133209,2019-08-07T08:50:25Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,27693345f4439bff5fb7e92ec4caa145f7cdd13f,"Make the documentation reproducible.

Whilst working on the Reproducible Builds effort [0] we noticed
that python-bleach could not be built reproducibly.

This is because the documentation included a default arguments that
was (originally) generated from a ""frozenset"" type which are iterated
over at runtime in a nondeterministic order.

This commit therefore ensures a regular expression is constructed in
a deterministic manner, rendering the documentation reproducible.

This bug was originally filed in Debian as #934120 [1]

 [0] https://reproducible-builds.org/
 [1] https://bugs.debian.org/934120"
157,https://api.github.com/repos/mozilla/bleach/pulls/463,463,Added link to supported tlds,,savitha-suresh,19798961,2019-07-29T13:46:31Z,NONE,False,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3f9ed7893295460ec280757d4e1e2ab17cc93f82,Added link to supported tlds
158,https://api.github.com/repos/mozilla/bleach/pulls/461,461,Fix semantic whitespace (Issue #369),"After testing with many edge-cases, I decided two things:

1. minimizing whitespace is far too difficult due to the design of this package.  the 'stripping' of tags occurs in a place that can not look backwards enough and can not access the 'content' without a large redesign

2. the whitespace should be a newline, not a space (as suggested in #369). this is because content becomes too confusing to understand with a ""space"" (such as list elements)",jvanasco,204779,2019-07-12T19:23:44Z,CONTRIBUTOR,False,89,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,46c7334ac20d106d9b7e0d1906692eedc9186eae,fix for issue #369
159,https://api.github.com/repos/mozilla/bleach/pulls/461,461,Fix semantic whitespace (Issue #369),"After testing with many edge-cases, I decided two things:

1. minimizing whitespace is far too difficult due to the design of this package.  the 'stripping' of tags occurs in a place that can not look backwards enough and can not access the 'content' without a large redesign

2. the whitespace should be a newline, not a space (as suggested in #369). this is because content becomes too confusing to understand with a ""space"" (such as list elements)",jvanasco,204779,2019-07-12T19:23:44Z,CONTRIBUTOR,False,89,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7f7a90b71ceedc7f12310b3ce3a5ca4343835d0e,"handling case where token has attributes in data, not text"
160,https://api.github.com/repos/mozilla/bleach/pulls/461,461,Fix semantic whitespace (Issue #369),"After testing with many edge-cases, I decided two things:

1. minimizing whitespace is far too difficult due to the design of this package.  the 'stripping' of tags occurs in a place that can not look backwards enough and can not access the 'content' without a large redesign

2. the whitespace should be a newline, not a space (as suggested in #369). this is because content becomes too confusing to understand with a ""space"" (such as list elements)",jvanasco,204779,2019-07-12T19:23:44Z,CONTRIBUTOR,False,89,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,01fb08c695dfde7c519bb8727b39deb7c446a5c9,"* extending last-character check to include newline and tab (was just space)
* adjusting if-condition to have a lower-cpu check for `_token_data` first, before checking for it's type via `isinstance`"
161,https://api.github.com/repos/mozilla/bleach/pulls/461,461,Fix semantic whitespace (Issue #369),"After testing with many edge-cases, I decided two things:

1. minimizing whitespace is far too difficult due to the design of this package.  the 'stripping' of tags occurs in a place that can not look backwards enough and can not access the 'content' without a large redesign

2. the whitespace should be a newline, not a space (as suggested in #369). this is because content becomes too confusing to understand with a ""space"" (such as list elements)",jvanasco,204779,2019-07-12T19:23:44Z,CONTRIBUTOR,False,89,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,45bb0c6b9ad226eb5e9fa8d79bee054fcd36773e,casting _token_data to None by default as there is now a check against text types
162,https://api.github.com/repos/mozilla/bleach/pulls/461,461,Fix semantic whitespace (Issue #369),"After testing with many edge-cases, I decided two things:

1. minimizing whitespace is far too difficult due to the design of this package.  the 'stripping' of tags occurs in a place that can not look backwards enough and can not access the 'content' without a large redesign

2. the whitespace should be a newline, not a space (as suggested in #369). this is because content becomes too confusing to understand with a ""space"" (such as list elements)",jvanasco,204779,2019-07-12T19:23:44Z,CONTRIBUTOR,False,89,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b930e07a73f4b9e1d0f76322893075cb2b2898da,"1. using newline as the character for block elements
2. tracking state of the last stripped tag
3. some small optimizations on __init__"
163,https://api.github.com/repos/mozilla/bleach/pulls/461,461,Fix semantic whitespace (Issue #369),"After testing with many edge-cases, I decided two things:

1. minimizing whitespace is far too difficult due to the design of this package.  the 'stripping' of tags occurs in a place that can not look backwards enough and can not access the 'content' without a large redesign

2. the whitespace should be a newline, not a space (as suggested in #369). this is because content becomes too confusing to understand with a ""space"" (such as list elements)",jvanasco,204779,2019-07-12T19:23:44Z,CONTRIBUTOR,False,89,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f343d4ded82f22e227e9582a51ef3d59ba5c5562,"* added more test conditions for block level stripping
* dropped tracking of the last tag; not worth it"
164,https://api.github.com/repos/mozilla/bleach/pulls/460,460,fix for issue #369,"This is an attempt at #369.  I am not particularly happy with it, but I could not figure out a better way to handle this.  The start/end tokens are already collapsed by the time we get to any of the sections I would feel more comfortable handling this in.  More tests are needed, but i'll defer that to others.

Changes:
* `HTML_TAGS__BLOCK_LEVEL` contains the list of block level elements
* `InputStreamWithMemory` now tracks the last emitted token, because...
* `InputStreamWithMemory` emits a SPACE instead of no-space if the following conditions are met:
 1. We have already emitted a token; this guards against a leading space.
 2. We are a START token; this guards against a trailing space.
 3. The last emitted token did not end in a space; this guards against double spaces.

",jvanasco,204779,2019-07-11T20:50:22Z,CONTRIBUTOR,False,67,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,46c7334ac20d106d9b7e0d1906692eedc9186eae,fix for issue #369
165,https://api.github.com/repos/mozilla/bleach/pulls/460,460,fix for issue #369,"This is an attempt at #369.  I am not particularly happy with it, but I could not figure out a better way to handle this.  The start/end tokens are already collapsed by the time we get to any of the sections I would feel more comfortable handling this in.  More tests are needed, but i'll defer that to others.

Changes:
* `HTML_TAGS__BLOCK_LEVEL` contains the list of block level elements
* `InputStreamWithMemory` now tracks the last emitted token, because...
* `InputStreamWithMemory` emits a SPACE instead of no-space if the following conditions are met:
 1. We have already emitted a token; this guards against a leading space.
 2. We are a START token; this guards against a trailing space.
 3. The last emitted token did not end in a space; this guards against double spaces.

",jvanasco,204779,2019-07-11T20:50:22Z,CONTRIBUTOR,False,67,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7f7a90b71ceedc7f12310b3ce3a5ca4343835d0e,"handling case where token has attributes in data, not text"
166,https://api.github.com/repos/mozilla/bleach/pulls/460,460,fix for issue #369,"This is an attempt at #369.  I am not particularly happy with it, but I could not figure out a better way to handle this.  The start/end tokens are already collapsed by the time we get to any of the sections I would feel more comfortable handling this in.  More tests are needed, but i'll defer that to others.

Changes:
* `HTML_TAGS__BLOCK_LEVEL` contains the list of block level elements
* `InputStreamWithMemory` now tracks the last emitted token, because...
* `InputStreamWithMemory` emits a SPACE instead of no-space if the following conditions are met:
 1. We have already emitted a token; this guards against a leading space.
 2. We are a START token; this guards against a trailing space.
 3. The last emitted token did not end in a space; this guards against double spaces.

",jvanasco,204779,2019-07-11T20:50:22Z,CONTRIBUTOR,False,67,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,01fb08c695dfde7c519bb8727b39deb7c446a5c9,"* extending last-character check to include newline and tab (was just space)
* adjusting if-condition to have a lower-cpu check for `_token_data` first, before checking for it's type via `isinstance`"
167,https://api.github.com/repos/mozilla/bleach/pulls/460,460,fix for issue #369,"This is an attempt at #369.  I am not particularly happy with it, but I could not figure out a better way to handle this.  The start/end tokens are already collapsed by the time we get to any of the sections I would feel more comfortable handling this in.  More tests are needed, but i'll defer that to others.

Changes:
* `HTML_TAGS__BLOCK_LEVEL` contains the list of block level elements
* `InputStreamWithMemory` now tracks the last emitted token, because...
* `InputStreamWithMemory` emits a SPACE instead of no-space if the following conditions are met:
 1. We have already emitted a token; this guards against a leading space.
 2. We are a START token; this guards against a trailing space.
 3. The last emitted token did not end in a space; this guards against double spaces.

",jvanasco,204779,2019-07-11T20:50:22Z,CONTRIBUTOR,False,67,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,45bb0c6b9ad226eb5e9fa8d79bee054fcd36773e,casting _token_data to None by default as there is now a check against text types
168,https://api.github.com/repos/mozilla/bleach/pulls/458,458,"Check parser.tags for None on ""expected-closing-tag-but-got-char""","Hi,

I hit this edge case while using `BleachHTMLParser` with `tags=None`. `BleachHTMLTokenizer` will try to iterate `self.parser.tags` if `last_error_token['data'] == 'expected-closing-tag-but-got-char'`.

I've added a test along with the fix. I also had to update the exception string checks in `test_clean.py` since they've changed with pytest 5 update (11 hours ago?).",bope,2004087,2019-07-05T11:25:32Z,CONTRIBUTOR,False,8,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2bc49191ab467653f1020c1a2f5e93b0683b4955,"Added failing test

BleachHTMLTokenizer tries to iterate parser.tags"
169,https://api.github.com/repos/mozilla/bleach/pulls/458,458,"Check parser.tags for None on ""expected-closing-tag-but-got-char""","Hi,

I hit this edge case while using `BleachHTMLParser` with `tags=None`. `BleachHTMLTokenizer` will try to iterate `self.parser.tags` if `last_error_token['data'] == 'expected-closing-tag-but-got-char'`.

I've added a test along with the fix. I also had to update the exception string checks in `test_clean.py` since they've changed with pytest 5 update (11 hours ago?).",bope,2004087,2019-07-05T11:25:32Z,CONTRIBUTOR,False,8,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6bad1dec55468cef34fe0d3cf8ee5c09898203d4,Check parser.tags before trying to iterate
170,https://api.github.com/repos/mozilla/bleach/pulls/458,458,"Check parser.tags for None on ""expected-closing-tag-but-got-char""","Hi,

I hit this edge case while using `BleachHTMLParser` with `tags=None`. `BleachHTMLTokenizer` will try to iterate `self.parser.tags` if `last_error_token['data'] == 'expected-closing-tag-but-got-char'`.

I've added a test along with the fix. I also had to update the exception string checks in `test_clean.py` since they've changed with pytest 5 update (11 hours ago?).",bope,2004087,2019-07-05T11:25:32Z,CONTRIBUTOR,False,8,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,072f6395c3c916386ae132e4d0438b84c24d81ab,"Fixed 'expected-closing-tag-but-got-char' not to enter if tags=None

Updated test accordingly since html5lib turns it into a comment."
171,https://api.github.com/repos/mozilla/bleach/pulls/454,454,Correct typo: bleach.clean(user_bio} → bleach.clean(user_bio),,jdufresne,347634,2019-06-10T20:45:05Z,COLLABORATOR,False,2,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,fef64d5ae4c6b91a798a6733b92395a3d295e380,Correct typo: bleach.clean(user_bio} → bleach.clean(user_bio)
172,https://api.github.com/repos/mozilla/bleach/pulls/452,452,Issue 450: invalid character entities,"Possible fix for https://github.com/mozilla/bleach/issues/450.

This change fixes the case where there was precisely two characters between a valid character entity prefix and a semicolon, and the helper function returned the entity `ad` from `&adp;` (which later led to returning `&ad;;`.

In doing so, I also changed so that other invalid character entities (such as `&xx;`) were escaped, instead of keeping them around if the non-matchning parts were short. Not sure what you think about that?",alvinlindstam,1712882,2019-05-01T12:50:26Z,NONE,False,11,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d6a67bdfdbf7daf0a426db3f85b8d3b74c3654ca,"Only emit possible character entities if they are a valid prefix

Previously, the logic could emit entities if all but the last characters
between & and ; were valid entity prefixes."
173,https://api.github.com/repos/mozilla/bleach/pulls/452,452,Issue 450: invalid character entities,"Possible fix for https://github.com/mozilla/bleach/issues/450.

This change fixes the case where there was precisely two characters between a valid character entity prefix and a semicolon, and the helper function returned the entity `ad` from `&adp;` (which later led to returning `&ad;;`.

In doing so, I also changed so that other invalid character entities (such as `&xx;`) were escaped, instead of keeping them around if the non-matchning parts were short. Not sure what you think about that?",alvinlindstam,1712882,2019-05-01T12:50:26Z,NONE,False,11,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ec8ecfb00d71bae71348722f3dbbbb1f0edace3c,"Only preserve actual, valid, character entities

Previously, we accepted and preserved ""ambiguous"" character entities,
which they were classified as if they had some characters matching
an entity prefix and at most one non matching characters.

Keeping some nonexistant character entities while escaping the ampersand
in others seemed like a strange thing to do, so I thought that we might as
well check for if it exists as a valid entity."
174,https://api.github.com/repos/mozilla/bleach/pulls/451,451,Update PyPI link to new location,"Rebased #449 so we can land it by the 30th.

For details on the new PyPI, see the blog post:

https://pythoninsider.blogspot.ca/2018/04/new-pypi-launched-legacy-pypi-shutting.html",g-k,226605,2019-04-29T17:31:45Z,COLLABORATOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d804b24c2793e57e3426231310568e7dfd178daf,"Update PyPI link to new location

For details on the new PyPI, see the blog post:

https://pythoninsider.blogspot.ca/2018/04/new-pypi-launched-legacy-pypi-shutting.html"
175,https://api.github.com/repos/mozilla/bleach/pulls/449,449,Update PyPI link to new location,"For details on the new PyPI, see the blog post:

https://pythoninsider.blogspot.ca/2018/04/new-pypi-launched-legacy-pypi-shutting.html",jdufresne,347634,2019-04-21T15:10:06Z,COLLABORATOR,False,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,52d034df4cc3f756c2a893c1866ae63243e6f193,"Update PyPI link to new location

For details on the new PyPI, see the blog post:

https://pythoninsider.blogspot.ca/2018/04/new-pypi-launched-legacy-pypi-shutting.html"
176,https://api.github.com/repos/mozilla/bleach/pulls/448,448,Fix ResourceWarning emitted during tests,"Always close the open file by using a context manager. Previously
Appeared as:

    tests/test_clean.py:790
      tests/test_clean.py:790: ResourceWarning: unclosed file <_io.TextIOWrapper name='.../tests/data/1.test' mode='r' encoding='UTF-8'>
        for fn in tests",jdufresne,347634,2019-04-13T01:40:54Z,COLLABORATOR,True,5,4,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b1546881ae0f7187d3af9a43d05e42c246a0b20a,"Fix ResourceWarning emitted during tests

Always close the open file by using a context manager. Previously
Appeared as:

    tests/test_clean.py:790
      tests/test_clean.py:790: ResourceWarning: unclosed file <_io.TextIOWrapper name='.../tests/data/1.test' mode='r' encoding='UTF-8'>
        for fn in tests"
177,https://api.github.com/repos/mozilla/bleach/pulls/447,447,Fix ResourceWarnings emitted from setup.py,"Use io over codecs. It is the more recently developed library and
follows the same semantics as Python3's builtin open.

Warnings appeared as:

    setup.py:37: ResourceWarning: unclosed file <_io.BufferedReader name='bleach/__init__.py'>
      version_file = codecs.open(fn, mode='r', encoding='utf-8').read()
    ResourceWarning: Enable tracemalloc to get the object allocation traceback
    setup.py:28: ResourceWarning: unclosed file <_io.BufferedReader name='README.rst'>
      desc = codecs.open('README.rst', encoding='utf-8').read()
    ResourceWarning: Enable tracemalloc to get the object allocation traceback
    setup.py:30: ResourceWarning: unclosed file <_io.BufferedReader name='CHANGES'>
      desc += codecs.open('CHANGES', encoding='utf-8').read()",jdufresne,347634,2019-04-13T01:34:32Z,COLLABORATOR,True,7,4,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,df28d50f066883492926be69fab5d8299cb01ab7,"Fix ResourceWarnings emitted from setup.py

Use io over codecs. It is the more recently developed library and
follows the same semantics as Python3's builtin open.

Warnings appeared as:

    setup.py:37: ResourceWarning: unclosed file <_io.BufferedReader name='bleach/__init__.py'>
      version_file = codecs.open(fn, mode='r', encoding='utf-8').read()
    ResourceWarning: Enable tracemalloc to get the object allocation traceback
    setup.py:28: ResourceWarning: unclosed file <_io.BufferedReader name='README.rst'>
      desc = codecs.open('README.rst', encoding='utf-8').read()
    ResourceWarning: Enable tracemalloc to get the object allocation traceback
    setup.py:30: ResourceWarning: unclosed file <_io.BufferedReader name='CHANGES'>
      desc += codecs.open('CHANGES', encoding='utf-8').read()"
178,https://api.github.com/repos/mozilla/bleach/pulls/446,446,Use set literals,,jdufresne,347634,2019-04-13T01:20:59Z,COLLABORATOR,True,4,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b5ebc86a9956dde90e91955be703b31fc9724ece,Use set literals
179,https://api.github.com/repos/mozilla/bleach/pulls/445,445,Add pypy3 testing to tox and Travis,"In Travis, use `dist: xenial` by default to provide support for all test platforms.",jdufresne,347634,2019-04-12T17:58:00Z,COLLABORATOR,True,5,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,04541600fea357bb2811a2fb31ac992c17f05f16,"Add pypy3 testing to tox and Travis

In Travis, use `dist: xenial` by default to provide support for all test
platforms."
180,https://api.github.com/repos/mozilla/bleach/pulls/444,444,Simplify tox configuration,"Remove boilerplate comment from the top of the file.

In envlist, move pypy to same line as rest of the default Python
environments.

Don't override basepython. The default uses the correct Python
executable:

https://tox.readthedocs.io/en/latest/config.html#conf-basepython

> If not specified, the virtual environments factors (e.g. name part)
> will be used to automatically set one. For example, py37 means
> python3.7, py3 means python3 and py means python.",jdufresne,347634,2019-04-12T15:30:47Z,COLLABORATOR,True,1,18,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b776610202a3cd354f0161d08fe4d0e1c153c955,"Simplify tox configuration

Remove boilerplate comment from the top of the file.

In envlist, move pypy to same line as rest of the default Python
environments.

Don't override basepython. The default uses the correct Python
executable:

https://tox.readthedocs.io/en/latest/config.html#conf-basepython

> If not specified, the virtual environments factors (e.g. name part)
> will be used to automatically set one. For example, py37 means
> python3.7, py3 means python3 and py means python."
181,https://api.github.com/repos/mozilla/bleach/pulls/443,443,Remove u string prefix in files with unicode_literals,Using `from __future__ import unicode_literals` guarantees that all string literals will be Unicode strings by default. Using the u prefix is redundant. Cleans up the code towards a Python 3 style.,jdufresne,347634,2019-04-12T15:19:00Z,COLLABORATOR,True,81,71,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,43f8a576a819d551464ec587d412f5f0b0f78291,"Remove u string prefix in files with unicode_literals

Using `from __future__ import unicode_literals` guarantees that all
string literals will be Unicode strings by default. Using the u prefix
is redundant. Cleans up the code towards a Python 3 style."
182,https://api.github.com/repos/mozilla/bleach/pulls/441,441,Add Mozilla Code of Conduct,"Fixes #440

_(Message COC002)_",Mozilla-GitHub-Standards,48073334,2019-03-28T03:35:43Z,CONTRIBUTOR,True,15,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a130d9a7abc09a414649fafcbfeb03471caccba8,"Add Mozilla Code of Conduct file

Fixes #440.

_(Message COC002)_"
183,https://api.github.com/repos/mozilla/bleach/pulls/438,438,Unvendor the html5lib library,"html5lib development has stabilized in recent months. So concerns of frequent API breakage is less than it was in the past.

Reduces the need for users to have html5lib installed multiple times: once by itself and once by Bleach. setup.py now uses a version specifier to ensure a compatible version is installed.

Unvendoring is more secure. Should the html5lib library discover and fix a security issue, library users can update html5lib -- and only html5lib -- to incorporate the fix across their project. In Bleach's current
state, Bleach will immediately need to make a release to include such a security fix. This creates unnecessary additional attack vectors.",jdufresne,347634,2019-02-13T14:13:25Z,COLLABORATOR,False,12,14397,53,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,178eed48809ea8f1592243ce62e995737629274b,"Unvendor the html5lib library

html5lib development has stabilized in recent months. So concerns of
frequent API breakage is less than it was in the past.

Reduces the need for users to have html5lib installed multiple times:
once by itself and once by Bleach. setup.py now uses a version specifier
to ensure a compatible version is installed.

Unvendoring is more secure. Should the html5lib library discover and fix
a security issue, library users can update html5lib -- and only html5lib
-- to incorporate the fix across their project. In Bleach's current
state, Bleach will immediately need to make a release to include such a
security fix. This creates unnecessary additional attack vectors."
184,https://api.github.com/repos/mozilla/bleach/pulls/437,437,Fix style tests,"This fixes the style tests so they're more explicit and less
composed-on-the-fly which makes them harder to verify.",willkg,820826,2019-01-18T15:39:06Z,MEMBER,True,33,44,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4bb6d9a7b69689ebd75a48eed028d0f6ce4e138b,"Fix style tests

This fixes the style tests so they're more explicit and less
composed-on-the-fly which makes them harder to verify."
185,https://api.github.com/repos/mozilla/bleach/pulls/435,435,Update for 3.1.0 release,,willkg,820826,2019-01-09T15:06:02Z,MEMBER,True,16,6,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ad910ce30926f8698cf7c8f4ec8b32d00d0897b2,Update for 3.1.0 release
186,https://api.github.com/repos/mozilla/bleach/pulls/434,434,fix #426,"This PR will fix #426.

",sekineh,3956266,2019-01-09T05:44:16Z,CONTRIBUTOR,True,17,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5842f2d3cd7b7e5ebc89a64d678b507b4d3b8f7b,fix #426
187,https://api.github.com/repos/mozilla/bleach/pulls/434,434,fix #426,"This PR will fix #426.

",sekineh,3956266,2019-01-09T05:44:16Z,CONTRIBUTOR,True,17,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1d3422b88c0021b18ea1e62db50b566c46cef8d8,Add magic comment for python 2.
188,https://api.github.com/repos/mozilla/bleach/pulls/434,434,fix #426,"This PR will fix #426.

",sekineh,3956266,2019-01-09T05:44:16Z,CONTRIBUTOR,True,17,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,67a33146068934838776004646d11db3f3f879cf,Use unicode literal for python 2.
189,https://api.github.com/repos/mozilla/bleach/pulls/434,434,fix #426,"This PR will fix #426.

",sekineh,3956266,2019-01-09T05:44:16Z,CONTRIBUTOR,True,17,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,287b584068f4db2d2c465b268a41f3fbefe4b07f,Convert to unicode explicitly when using python 2.
190,https://api.github.com/repos/mozilla/bleach/pulls/434,434,fix #426,"This PR will fix #426.

",sekineh,3956266,2019-01-09T05:44:16Z,CONTRIBUTOR,True,17,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9a751e34dd8937650e583ffa069ecce9ef297339,Refactored.
191,https://api.github.com/repos/mozilla/bleach/pulls/434,434,fix #426,"This PR will fix #426.

",sekineh,3956266,2019-01-09T05:44:16Z,CONTRIBUTOR,True,17,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5f236099df01c52122cb4a92c4b32647f2f43440,Make regex unicode aware for python2.
192,https://api.github.com/repos/mozilla/bleach/pulls/434,434,fix #426,"This PR will fix #426.

",sekineh,3956266,2019-01-09T05:44:16Z,CONTRIBUTOR,True,17,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,33f294d8a18db149400180db3b56c7b723123613,Follow @willkg 's suggestions.
193,https://api.github.com/repos/mozilla/bleach/pulls/434,434,fix #426,"This PR will fix #426.

",sekineh,3956266,2019-01-09T05:44:16Z,CONTRIBUTOR,True,17,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d3399cc9eca43218cfe6eacb7369549c6e354901,Merge branch 'master' into fix_426
194,https://api.github.com/repos/mozilla/bleach/pulls/433,433,Fix doctest failures,"This reworks the doctests to run and pass in Python 3.

Fixes #357",willkg,820826,2019-01-08T17:11:44Z,MEMBER,True,55,55,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,245c21c3cef788dbfdb380514434497866443e87,"Fix doctest failures

This reworks the doctests to run and pass in Python 3.

Fixes #357"
195,https://api.github.com/repos/mozilla/bleach/pulls/432,432,"Fix parsing ""meta"" tag with encoding attribute","When parsing a <meta encoding=""""> tag, the parser calls charEncoding
and changeEncoding in the input stream, but the InputStreamWithMemory
wrapper didn't have those methods. This fixes that.

This also creates a new test set for BleachHTMLParser functionality.

Fixes #431",willkg,820826,2019-01-08T15:35:30Z,MEMBER,True,78,13,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,cb156cb9054c34b817f8ed2dff92801a594b9107,"Fix parsing ""meta"" tag with encoding attribute

When parsing a <meta encoding=""""> tag, the parser calls charEncoding
and changeEncoding in the input stream, but the InputStreamWithMemory
wrapper didn't have those methods. This fixes that.

This also creates a new test set for BleachHTMLParser functionality.

Fixes #431"
196,https://api.github.com/repos/mozilla/bleach/pulls/429,429,Convert &amp; to & as a Characters token,"This fixes a problem in `LinkifyFilter` when using it with the `Cleaner` where
the `Cleaner` sets up the tokenizer to not consume entities. So character
entities end up in their own `Entity` tokens and `Linkifyfilter` can't match
links that cross token boundaries. If there's a `&amp;`, then `LinkifyFilter`
won't match across that.

This fixes that by converting `&amp;` to `&` in the sanitizer when it's pulling out
entities and putting them in separate `Entity` tokens. The `&` `Characters` tokens
will get merged by `BleachSanitizerFilter.__iter__` and `&` will get converted
back to `&amp;` in the serialier.

Fixes #422",willkg,820826,2019-01-03T23:07:58Z,MEMBER,True,16,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8d7fd48179b5020d9b1521be7b81e06648d868d3,"Convert &amp; to & as a Characters token

This fixes a problem in LinkifyFilter when using it with the Cleaner where
the Cleaner sets up the tokenizer to not consume entities. So character
entities end up in their own Entity tokens and Linkifyfilter can't match
links that cross token boundaries. If there's a &amp;, then LinkifyFilter
won't match across that.

This fixes that by converting &amp; to & in the sanitizer when it's pulling out
entities and putting them in separate Entity tokens. The & Characters tokens
will get merged by BleachSanitizerFilter.__iter__ and & will get converted
back to &amp; in the serialier.

Fixes #422"
197,https://api.github.com/repos/mozilla/bleach/pulls/428,428,"Shim for wrapped stream, InputStreamWithMemory, charEncoding:","AttributeError: 'InputStreamWithMemory' object has no attribute 'charEncoding'
(16 additional frame(s) were not displayed)
...
  File ""bleach/_vendor/html5lib/html5parser.py"", line 241, in mainLoop
    new_token = phase.processStartTag(new_token)
  File ""bleach/_vendor/html5lib/html5parser.py"", line 472, in processStartTag
    return self.startTagHandler[token[""name""]](token)
  File ""bleach/_vendor/html5lib/html5parser.py"", line 1067, in startTagProcessInHead
    return self.parser.phases[""inHead""].processStartTag(token)
  File ""bleach/_vendor/html5lib/html5parser.py"", line 472, in processStartTag
    return self.startTagHandler[token[""name""]](token)
  File ""bleach/_vendor/html5lib/html5parser.py"", line 745, in startTagMeta
    if self.parser.tokenizer.stream.charEncoding[1] == ""tentative"":

Signed-off-by: allen-munsch <enderplux@protonmail.com>",allen-munsch,33908344,2019-01-03T22:46:55Z,NONE,False,4,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,37f1f76ec982bd94ee404ae07138a3678919cca6,"Shim for wrapped steam, InputSteamWithMemory, charEncoding:

AttributeError: 'InputStreamWithMemory' object has no attribute 'charEncoding'
(16 additional frame(s) were not displayed)
...
  File ""bleach/_vendor/html5lib/html5parser.py"", line 241, in mainLoop
    new_token = phase.processStartTag(new_token)
  File ""bleach/_vendor/html5lib/html5parser.py"", line 472, in processStartTag
    return self.startTagHandler[token[""name""]](token)
  File ""bleach/_vendor/html5lib/html5parser.py"", line 1067, in startTagProcessInHead
    return self.parser.phases[""inHead""].processStartTag(token)
  File ""bleach/_vendor/html5lib/html5parser.py"", line 472, in processStartTag
    return self.startTagHandler[token[""name""]](token)
  File ""bleach/_vendor/html5lib/html5parser.py"", line 745, in startTagMeta
    if self.parser.tokenizer.stream.charEncoding[1] == ""tentative"":

Signed-off-by: allen-munsch <enderplux@protonmail.com>"
198,https://api.github.com/repos/mozilla/bleach/pulls/427,427,drop invalid attribute names,"This fixes the case where the `HTMLTokenizer` will be tokenizing and hit a character that kicks up an `invalid-character-in-attribute-name` error. Previously, the tokenizer would create the attribute anyhow and keep on chugging along.

For Bleach's purposes, it's better to drop that invalid attribute altogether. This fixes the `BleachHTMLTokenizer` to do that.

Fixes #419.",willkg,820826,2018-12-31T21:14:19Z,MEMBER,True,67,7,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,821a0ff8959b96d91f1e2b1779c9ad8b42da4173,Update for 3.0.3 development
199,https://api.github.com/repos/mozilla/bleach/pulls/427,427,drop invalid attribute names,"This fixes the case where the `HTMLTokenizer` will be tokenizing and hit a character that kicks up an `invalid-character-in-attribute-name` error. Previously, the tokenizer would create the attribute anyhow and keep on chugging along.

For Bleach's purposes, it's better to drop that invalid attribute altogether. This fixes the `BleachHTMLTokenizer` to do that.

Fixes #419.",willkg,820826,2018-12-31T21:14:19Z,MEMBER,True,67,7,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,33c4a23886ed7e33995529a25247a724b1feac1c,"Drop invalid attribute names (#419)

It's possible for the tokenizer to kick up an
invalid-character-in-attribute-name error. When it does that, the
BleachHTMLTokenizer should drop the attribute with the invalid name.
This fixes that."
200,https://api.github.com/repos/mozilla/bleach/pulls/427,427,drop invalid attribute names,"This fixes the case where the `HTMLTokenizer` will be tokenizing and hit a character that kicks up an `invalid-character-in-attribute-name` error. Previously, the tokenizer would create the attribute anyhow and keep on chugging along.

For Bleach's purposes, it's better to drop that invalid attribute altogether. This fixes the `BleachHTMLTokenizer` to do that.

Fixes #419.",willkg,820826,2018-12-31T21:14:19Z,MEMBER,True,67,7,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4a4c4956ff6bfd9e354b5db330f1bbd9f2828453,Add note to CHANGES
201,https://api.github.com/repos/mozilla/bleach/pulls/423,423,Add recognized_tags to Linker arguments,"`recognized_tags` lets someone specify a different set of recognized tags
to the `Linker` when they're using it by itself. One use of this is if
you're doing a clean pass, storing that, and then linkifying on demand.
The `recognized_tags` argument lets you re-use the allowed tags from the
clean step and then there isn't any additional oddities occuring in
the linkify step.

Fixes #409",willkg,820826,2018-12-12T22:04:41Z,MEMBER,True,33,12,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,83738b9dd8ac5242fe1ca54059b1ca1310ac6610,"Add recognized_tags to Linker arguments

recognized_tags lets someone specify a different set of recognized tags
to the Linker when they're using it by itself. One use of this is if
you're doing a clean pass, storing that, and then linkifying on demand.
The recognized_tags argument lets you re-use the allowed tags from the
clean step and then there isn't any additional oddities occuring in
the linkify step.

Fixes #409"
202,https://api.github.com/repos/mozilla/bleach/pulls/421,421,travis: use xenial and python 3.7,"simplifies the CI config a bit

refs: https://github.com/travis-ci/travis-ci/issues/9815",g-k,226605,2018-12-07T20:33:29Z,COLLABORATOR,False,2,3,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,211ee08fd92381a694136464e2c038c32d21cbe7,travis: use xenial and python 3.7
203,https://api.github.com/repos/mozilla/bleach/pulls/417,417,Fix regex strings--they should be marked raw,This fixes regex strings. They should always be marked raw since they have `\` in them and that needs to get interpreted as a regex `\` and not a Python string `\`.,willkg,820826,2018-10-25T20:15:44Z,MEMBER,True,4,4,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5c72a54b5c7e1286147bf20328465f3867878d2b,Fix regex strings--they should be marked raw
204,https://api.github.com/repos/mozilla/bleach/pulls/416,416,Fix six dependency in setup.py,"After tracing through a build failure in our of my projects, I found out that (1) we weren't clearing our virtualenv's in our builds and (2) your vendored version of [html5lib requires `six>=1.9`](https://github.com/html5lib/html5lib-python/blob/1.0.1/requirements.txt#L1).  It's buried in the [vendored METADATA](https://github.com/mozilla/bleach/blob/master/bleach/_vendor/html5lib-1.0.1.dist-info/METADATA#L25) file as well.

For the sake of posterity and googler's everywhere, here's the traceback that I got with an older version of six installed.

```
Traceback (most recent call last):
  File ""./setup.py"", line 47, in <module>
    'Programming Language :: Python :: 2.7',
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/setuptools/__init__.py"", line 140, in setup
    return distutils.core.setup(**attrs)
  File ""/usr/lib/python2.7/distutils/core.py"", line 151, in setup
    dist.run_commands()
  File ""/usr/lib/python2.7/distutils/dist.py"", line 953, in run_commands
    self.run_command(cmd)
  File ""/usr/lib/python2.7/distutils/dist.py"", line 972, in run_command
    cmd_obj.run()
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/setuptools/command/sdist.py"", line 52, in run
    self.run_command(cmd_name)
  File ""/usr/lib/python2.7/distutils/cmd.py"", line 326, in run_command
    self.distribution.run_command(command)
  File ""/usr/lib/python2.7/distutils/dist.py"", line 970, in run_command
    cmd_obj = self.get_command_obj(command)
  File ""/usr/lib/python2.7/distutils/dist.py"", line 845, in get_command_obj
    klass = self.get_command_class(command)
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/setuptools/dist.py"", line 635, in get_command_class
    self.cmdclass[command] = cmdclass = ep.load()
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/pkg_resources/__init__.py"", line 2332, in load
    return self.resolve()
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/pkg_resources/__init__.py"", line 2338, in resolve
    module = __import__(self.module_name, fromlist=['__name__'], level=0)
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/readme_renderer/integration/distutils.py"", line 25, in <module>
    from ..rst import render
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/readme_renderer/rst.py"", line 22, in <module>
    from .clean import clean
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/readme_renderer/clean.py"", line 18, in <module>
    import bleach
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/bleach/__init__.py"", line 7, in <module>
    from bleach.linkifier import (
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/bleach/linkifier.py"", line 6, in <module>
    from bleach import html5lib_shim
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/bleach/html5lib_shim.py"", line 14, in <module>
    from bleach._vendor.html5lib import (
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/bleach/_vendor/html5lib/__init__.py"", line 25, in <module>
    from .html5parser import HTMLParser, parse, parseFragment
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/bleach/_vendor/html5lib/html5parser.py"", line 2, in <module>
    from six import with_metaclass, viewkeys
ImportError: cannot import name viewkeys
```",dave-shawley,350812,2018-10-25T19:45:08Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f98d4f06c939c63af20d244f113404ea0f17c488,setup.py: six >=1.9 is required.
205,https://api.github.com/repos/mozilla/bleach/pulls/416,416,Fix six dependency in setup.py,"After tracing through a build failure in our of my projects, I found out that (1) we weren't clearing our virtualenv's in our builds and (2) your vendored version of [html5lib requires `six>=1.9`](https://github.com/html5lib/html5lib-python/blob/1.0.1/requirements.txt#L1).  It's buried in the [vendored METADATA](https://github.com/mozilla/bleach/blob/master/bleach/_vendor/html5lib-1.0.1.dist-info/METADATA#L25) file as well.

For the sake of posterity and googler's everywhere, here's the traceback that I got with an older version of six installed.

```
Traceback (most recent call last):
  File ""./setup.py"", line 47, in <module>
    'Programming Language :: Python :: 2.7',
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/setuptools/__init__.py"", line 140, in setup
    return distutils.core.setup(**attrs)
  File ""/usr/lib/python2.7/distutils/core.py"", line 151, in setup
    dist.run_commands()
  File ""/usr/lib/python2.7/distutils/dist.py"", line 953, in run_commands
    self.run_command(cmd)
  File ""/usr/lib/python2.7/distutils/dist.py"", line 972, in run_command
    cmd_obj.run()
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/setuptools/command/sdist.py"", line 52, in run
    self.run_command(cmd_name)
  File ""/usr/lib/python2.7/distutils/cmd.py"", line 326, in run_command
    self.distribution.run_command(command)
  File ""/usr/lib/python2.7/distutils/dist.py"", line 970, in run_command
    cmd_obj = self.get_command_obj(command)
  File ""/usr/lib/python2.7/distutils/dist.py"", line 845, in get_command_obj
    klass = self.get_command_class(command)
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/setuptools/dist.py"", line 635, in get_command_class
    self.cmdclass[command] = cmdclass = ep.load()
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/pkg_resources/__init__.py"", line 2332, in load
    return self.resolve()
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/pkg_resources/__init__.py"", line 2338, in resolve
    module = __import__(self.module_name, fromlist=['__name__'], level=0)
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/readme_renderer/integration/distutils.py"", line 25, in <module>
    from ..rst import render
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/readme_renderer/rst.py"", line 22, in <module>
    from .clean import clean
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/readme_renderer/clean.py"", line 18, in <module>
    import bleach
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/bleach/__init__.py"", line 7, in <module>
    from bleach.linkifier import (
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/bleach/linkifier.py"", line 6, in <module>
    from bleach import html5lib_shim
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/bleach/html5lib_shim.py"", line 14, in <module>
    from bleach._vendor.html5lib import (
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/bleach/_vendor/html5lib/__init__.py"", line 25, in <module>
    from .html5parser import HTMLParser, parse, parseFragment
  File ""/var/lib/jenkins/shiningpanda/jobs/1f336430/virtualenvs/d41d8cd9/local/lib/python2.7/site-packages/bleach/_vendor/html5lib/html5parser.py"", line 2, in <module>
    from six import with_metaclass, viewkeys
ImportError: cannot import name viewkeys
```",dave-shawley,350812,2018-10-25T19:45:08Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6932601b8900d8834da834316099be887e978966,Merge branch 'master' into fix-requirements
206,https://api.github.com/repos/mozilla/bleach/pulls/415,415,fixed docs on callback location,found an error in the docs.,jvanasco,204779,2018-10-16T21:17:10Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6f16fec8cff27ff665efe0b8ac22ef1cecf8c8dd,fixed docs on callback location
207,https://api.github.com/repos/mozilla/bleach/pulls/414,414,filtering tags and their contents ,"this could be broken up into two PRs/concepts.

1. the main `bleach.clean` function is extended with a filters argument, which simply proxies the value to `Cleaner.__init__`

2. an `extras.py` was added to support a `TagTreeFilter`, which is a filter capable of removing an entire tag tree.  as a reference, utility and test-requirement a function named `clean_strip_content` was also included to invoke this.  This function addresses #234

For the concern of security/safety, this filter deletes the entire tree of a matching tag - including any tags that may appear within it.",jvanasco,204779,2018-10-16T20:23:28Z,CONTRIBUTOR,False,155,1,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b57dbbf22e4598fc60b6ef0640a7b0f4a5091a20,"* extended `bleach.clean` with a `filters` argument, which simply passes through to bleach.sanitize.Cleaner.__init__
* added `bleach.extras` namespace, which includes `TagTreeFilter` and `clean_strip_content`"
208,https://api.github.com/repos/mozilla/bleach/pulls/414,414,filtering tags and their contents ,"this could be broken up into two PRs/concepts.

1. the main `bleach.clean` function is extended with a filters argument, which simply proxies the value to `Cleaner.__init__`

2. an `extras.py` was added to support a `TagTreeFilter`, which is a filter capable of removing an entire tag tree.  as a reference, utility and test-requirement a function named `clean_strip_content` was also included to invoke this.  This function addresses #234

For the concern of security/safety, this filter deletes the entire tree of a matching tag - including any tags that may appear within it.",jvanasco,204779,2018-10-16T20:23:28Z,CONTRIBUTOR,False,155,1,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,47e892b359153f88a6547a8d77f2c7c13e7a6998,lint fixes
209,https://api.github.com/repos/mozilla/bleach/pulls/413,413,initial attempt at stripping content of script and style tags,"this is an attempt at addressing #234 (removing the contents of script and style tags)

a new option is added to several methods: `tags_strip_content`. this is a list of tags which should have their content stripped.

the stripping is achieved in two phases:

1. The tokenizer will ignore these tags.
2. The serializer maintains state of being in a tag marked for stripping

I had tried to do an alternate implementation in which:

* the tokenizer would escape/strip the tag as in the current implementation
* the tokenizer adds a payload to the token noting that it should be stripped

unfortunately that approach is incompatible with multiple parts of the tag parsing. there may be a way to convert the tags to something else (perhaps `<unsafe>` then strip out the unsafe tags on render.

this could be refactored into a new 'prettify' function as previously suggested, but it seems cleaner as a kwarg
",jvanasco,204779,2018-10-16T17:50:55Z,CONTRIBUTOR,False,85,6,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,02383f72acc55b9e5f5c13076649736323640957,initial attempt at stripping content of script and style tags
210,https://api.github.com/repos/mozilla/bleach/pulls/412,412,Define a full list of valid elements for HTML_TAGS,"Previously, the list of valid HTML tags being used by linkify was a
combination of various element lists from the html5lib constants.
However, these lists don't cover all of the valid HTML elements, so
linkify was escaping some valid tags (including `<abbr>`, `<span>`, and
more).

This commit just defines a full list of valid, non-deprecated HTML
elements for linkify to use instead.

This should address https://github.com/mozilla/bleach/issues/409, please let me know if you'd like this to be done in a different manner.",Deimos,9033,2018-10-11T21:56:14Z,CONTRIBUTOR,True,114,11,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e05edfc076c48a4a1fd9adc9d32f41a395830eda,"Define a full list of valid elements for HTML_TAGS

Previously, the list of valid HTML tags being used by linkify was a
combination of various element lists from the html5lib constants.
However, these lists don't cover all of the valid HTML elements, so
linkify was escaping some valid tags (including <abbr>, <span>, and
more).

This commit just defines a full list of valid, non-deprecated HTML
elements for linkify to use instead."
211,https://api.github.com/repos/mozilla/bleach/pulls/412,412,Define a full list of valid elements for HTML_TAGS,"Previously, the list of valid HTML tags being used by linkify was a
combination of various element lists from the html5lib constants.
However, these lists don't cover all of the valid HTML elements, so
linkify was escaping some valid tags (including `<abbr>`, `<span>`, and
more).

This commit just defines a full list of valid, non-deprecated HTML
elements for linkify to use instead.

This should address https://github.com/mozilla/bleach/issues/409, please let me know if you'd like this to be done in a different manner.",Deimos,9033,2018-10-11T21:56:14Z,CONTRIBUTOR,True,114,11,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d445230222ec710542c89046103c4bad715f7c0a,"Clarify source of HTML tag list, fix discrepancies"
212,https://api.github.com/repos/mozilla/bleach/pulls/412,412,Define a full list of valid elements for HTML_TAGS,"Previously, the list of valid HTML tags being used by linkify was a
combination of various element lists from the html5lib constants.
However, these lists don't cover all of the valid HTML elements, so
linkify was escaping some valid tags (including `<abbr>`, `<span>`, and
more).

This commit just defines a full list of valid, non-deprecated HTML
elements for linkify to use instead.

This should address https://github.com/mozilla/bleach/issues/409, please let me know if you'd like this to be done in a different manner.",Deimos,9033,2018-10-11T21:56:14Z,CONTRIBUTOR,True,114,11,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9728fd01db3d57b9104a293cecbdd7c94298cae2,Merge branch 'master' into linkify-valid-elements
213,https://api.github.com/repos/mozilla/bleach/pulls/411,411,Prep for 3.0.2 release,,willkg,820826,2018-10-11T13:06:46Z,MEMBER,True,23,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,34bd0664b6a2ae2dbaba90ae8600e1c19a1d103c,Prep for 3.0.2 release
214,https://api.github.com/repos/mozilla/bleach/pulls/410,410,Merge Characters tokens,"The sanitizer causes fracturing of `Characters` tokens. That causes problems
with anything downstream in the filters because now the things they're
looking for can be split across token boundaries.

Instead of dealing with that, this fixes the sanitizer to merge characters
tokens as they're being yielded.

Fixes #374",willkg,820826,2018-10-10T18:58:35Z,MEMBER,True,58,7,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6847f4a02c2ad0743f55d6ab67cfcc8876e40333,"Merge Characters tokens

The sanitizer causes fracturing of Characters tokens. That causes problems
with anything downstream in the filters because now the things they're
looking for can be split across token boundaries.

Instead of dealing with that, this fixes the sanitizer to merge characters
tokens as they're being yielded.

Fixes #374"
215,https://api.github.com/repos/mozilla/bleach/pulls/410,410,Merge Characters tokens,"The sanitizer causes fracturing of `Characters` tokens. That causes problems
with anything downstream in the filters because now the things they're
looking for can be split across token boundaries.

Instead of dealing with that, this fixes the sanitizer to merge characters
tokens as they're being yielded.

Fixes #374",willkg,820826,2018-10-10T18:58:35Z,MEMBER,True,58,7,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,fca551be2ebea623b284842392077266864584b4,Fix lint issues
216,https://api.github.com/repos/mozilla/bleach/pulls/410,410,Merge Characters tokens,"The sanitizer causes fracturing of `Characters` tokens. That causes problems
with anything downstream in the filters because now the things they're
looking for can be split across token boundaries.

Instead of dealing with that, this fixes the sanitizer to merge characters
tokens as they're being yielded.

Fixes #374",willkg,820826,2018-10-10T18:58:35Z,MEMBER,True,58,7,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,44202d5f18e18753c9e3e352b268cf9af9da8e12,Add test with anchor
217,https://api.github.com/repos/mozilla/bleach/pulls/408,408,Update release process,We stopped doing releases through Travis CI. This updates the release process docs to reflect that.,willkg,820826,2018-10-09T14:13:48Z,MEMBER,True,12,4,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c0474eff6159d4c1c1684eb4e8531ba9f47ea100,Update release process
218,https://api.github.com/repos/mozilla/bleach/pulls/407,407,Prep for 3.0.1 release,,willkg,820826,2018-10-09T14:00:26Z,MEMBER,True,10,8,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,fc3319933fd738c026e4204973328b1b99851a3b,Prep for 3.0.1 release
219,https://api.github.com/repos/mozilla/bleach/pulls/405,405,fix 377 - add python 3.7 support,"This fixes `vendor_verify.sh` script accounting for `RECORD` being unsorted and occasionally failing the diff.

This also adds testing Bleach in Python 3.7 to tox and Travis.",willkg,820826,2018-10-08T20:33:57Z,MEMBER,True,51,6,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2052f00700a0405a312a8f2337b6f601bd34a2dd,"Fix vendor_verify.sh problems with RECORD

RECORD is not sorted and the lines are in a different order once in a while
causing vendor_verify.sh to fail. The order of the lines doesn't matter for
this file, so this tweaks the script to diff that file separately after
sorting the contents on both sides."
220,https://api.github.com/repos/mozilla/bleach/pulls/405,405,fix 377 - add python 3.7 support,"This fixes `vendor_verify.sh` script accounting for `RECORD` being unsorted and occasionally failing the diff.

This also adds testing Bleach in Python 3.7 to tox and Travis.",willkg,820826,2018-10-08T20:33:57Z,MEMBER,True,51,6,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,cfd0be5e084e17e18f1c0c6b4b8058e34993835d,"Add Python 3.7 environment to tox and Travis

Fixes #377"
221,https://api.github.com/repos/mozilla/bleach/pulls/405,405,fix 377 - add python 3.7 support,"This fixes `vendor_verify.sh` script accounting for `RECORD` being unsorted and occasionally failing the diff.

This also adds testing Bleach in Python 3.7 to tox and Travis.",willkg,820826,2018-10-08T20:33:57Z,MEMBER,True,51,6,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,45f55d6dad2fe786dfc05055bbf413927948fef3,Update CHANGES and setup.py
222,https://api.github.com/repos/mozilla/bleach/pulls/404,404,Fix regression with dynamic Cleaner object tags.,Fixes #403 ,russellballestrini,909098,2018-10-07T21:17:12Z,NONE,False,23,6,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e4b9fd22303eec7a5c9bf3d9ec191f3584d4d558,"Add broken test case for ""dynamic cleaner tags""

	modified:   tests/test_clean.py"
223,https://api.github.com/repos/mozilla/bleach/pulls/404,404,Fix regression with dynamic Cleaner object tags.,Fixes #403 ,russellballestrini,909098,2018-10-07T21:17:12Z,NONE,False,23,6,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1f1d52e8f00049b3830c6075af833b6fd545bd29,"fix failing test case.

	modified:   bleach/sanitizer.py"
224,https://api.github.com/repos/mozilla/bleach/pulls/401,401,Add abbr to HTML_TAGS,"This fixes the issue where linkify will escape `<abbr>`.

Fixes #400",willkg,820826,2018-10-05T16:34:59Z,MEMBER,True,13,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,be2f3cc5a4c79d1a9844cf904efe2c1919a51fda,"Add abbr to HTML_TAGS

This fixes the issue where linkify will escape <abbr>.

Fixes #400"
225,https://api.github.com/repos/mozilla/bleach/pulls/401,401,Add abbr to HTML_TAGS,"This fixes the issue where linkify will escape `<abbr>`.

Fixes #400",willkg,820826,2018-10-05T16:34:59Z,MEMBER,True,13,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d796f53e462e54e8110662417f8e62c3c2a08681,Fix vendor_verify.sh script to clean up after itself if successful
226,https://api.github.com/repos/mozilla/bleach/pulls/401,401,Add abbr to HTML_TAGS,"This fixes the issue where linkify will escape `<abbr>`.

Fixes #400",willkg,820826,2018-10-05T16:34:59Z,MEMBER,True,13,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4278434e125c9e44440c7e694dc1dd6ed2f00862,Flesh out comments in vendor_verify script
227,https://api.github.com/repos/mozilla/bleach/pulls/399,399,Fix token['data'] usage in error handling,"This undoes something I did for better readability. If the token is a tag,
then it doesn't have a string value for data. This fixes the handling.

Fixes #398.",willkg,820826,2018-10-04T18:46:29Z,MEMBER,True,1,2,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,fc1369fdac410f414effe0cdfb9998d26ee73d0f,"Fix token['data'] usage in error handling

This undoes something I did for better readability. If the token is a tag,
then it doesn't have a string value for data. This fixes the handling.

Fixes #398"
228,https://api.github.com/repos/mozilla/bleach/pulls/396,396,This disables auto-release,,willkg,820826,2018-10-03T16:48:24Z,MEMBER,True,0,11,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8b36980cfdd88fc3fc418b4a31de1973b0a4b622,This disables auto-release
229,https://api.github.com/repos/mozilla/bleach/pulls/395,395,Update for 3.0.0 release,,willkg,820826,2018-10-02T23:26:28Z,MEMBER,True,15,11,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,03bdafe9e58791b8217684ef5106644541f6f8dd,Update for 3.0.0 release
230,https://api.github.com/repos/mozilla/bleach/pulls/394,394,fixes #392: linkify fix,"This tweaks the code for the `BleachHTMLParser` and `BleachHTMLTokenizer` to work with the needs of the linkifier. This fixes the case where the linkifier was ""fixing"" non-HTML tags like `</sarcasm>`.

Fixes #392.",willkg,820826,2018-10-02T14:44:48Z,MEMBER,True,79,31,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f967428b30b415b114632831b062e7060fd2637f,"Tweak BleachHTMLTokenizer to use a set

This tweaks the BleachHTMLTokenizer to use a set of token types. It also
includes the EmtpyTag token type which wasn't previously included. It
also fixes some of the comments."
231,https://api.github.com/repos/mozilla/bleach/pulls/394,394,fixes #392: linkify fix,"This tweaks the code for the `BleachHTMLParser` and `BleachHTMLTokenizer` to work with the needs of the linkifier. This fixes the case where the linkifier was ""fixing"" non-HTML tags like `</sarcasm>`.

Fixes #392.",willkg,820826,2018-10-02T14:44:48Z,MEMBER,True,79,31,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6b25f6cfaab9fdf352bee0116cbf389b28396cbe,Adjust how we import things from constants
232,https://api.github.com/repos/mozilla/bleach/pulls/394,394,fixes #392: linkify fix,"This tweaks the code for the `BleachHTMLParser` and `BleachHTMLTokenizer` to work with the needs of the linkifier. This fixes the case where the linkifier was ""fixing"" non-HTML tags like `</sarcasm>`.

Fixes #392.",willkg,820826,2018-10-02T14:44:48Z,MEMBER,True,79,31,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bea164a3a7e6ce2dfb826130e8faa6f447680dc1,"Fix linkifier regarding non-tags

This changes the BleachHTMLParser and BleachHTMLTokenizer to optionally
consume entities. It also changes the linkifier to use those and pass
in the list of known HTML tags. In this way, linkify correctly handles
non-tags--a regression from the Bleach 2.0 rewrite.

Fixes #392"
233,https://api.github.com/repos/mozilla/bleach/pulls/393,393,Move security text higher in README; fix typo,,willkg,820826,2018-09-27T18:09:21Z,MEMBER,True,16,16,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0cc95b4a83629b4d3bfeee4abbd9123f362f8e11,Move security text higher in README; fix typo
234,https://api.github.com/repos/mozilla/bleach/pulls/391,391,Fix regressions from Bleach 2.0 rewrite,"The Bleach 2.0 rewrite involved changing Bleach `clean()` from making
changes during the tokenizing step to operating as an html5lib filter
that runs between the parsing and serializing steps. There were some
consequences of that rewrite namely that the html5lib parser got to
""fix"" the HTML before Bleach could strip/escape disallowed tags. Because
of that, there were a variety of regressions from Bleach 1.x behavior
and Bleach 2.x behavior. For example:

1. Added end tags:
   ```
   bleach.clean('<sarcasm>') -> '&lt;sarcasm&gt;&lt;/sarcasm&gt;'
   ```
2. Parsed malformed tags as comments:
   ```
   bleach.clean('</sarcasm>') -> ''
   ```
Et cetera.

This change fixes that in a few ways. First, it overrides `emitCurrentToken()`
in the tokenizer to know about the allowed tags and whether they're going
to get stripped or escaped. It does the stripping at this point and changes
tags to be escaped into character data. That way the parser doesn't do any
""fixing"".

Second, it adds some additional scrutiny for the
""expected-closing-tag-but-got-char"" parser error case. That gets kicked
up when the tag is malformed. The parser will treat this as a comment
and then Bleach `clean()` will drop it. Instead, this fixes that to
turn that into character data to be escaped later.

Fixes #271
Fixes #279
Fixes #280",willkg,820826,2018-09-13T21:12:08Z,MEMBER,True,276,89,20,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6b05f3c133e84b0e4ab61e8e117f4c4b333d80d4,"Fix regressions from Bleach 2.0 rewrite

The Bleach 2.0 rewrite involved changing Bleach clean() from making
changes during the tokenizing step to operating as an html5lib filter
that runs between the parsing and serializing steps. There were some
consequences of that rewrite namely that the html5lib parser got to
""fix"" the HTML before Bleach could strip/escape disallowed tags. Because
of that, there were a variety of regressions from Bleach 1.x behavior
and Bleach 2.x behavior. For example:

1. Added end tags:

   bleach.clean('<sarcasm>') -> '&lt;sarcasm&gt;&lt;/sarcasm&gt;'

2. Parsed malformed tags as comments:

   bleach.clean('</sarcasm>') -> ''

Et cetera.

This change fixes that in a few ways. First, it overrides emitCurrentToken()
in the tokenizer to know about the allowed tags and whether they're going
to get stripped or escaped. It does the stripping at this point and changes
tags to be escaped into character data. That way the parser doesn't do any
""fixing"".

Second, it adds some additional scrutiny for the
""expected-closing-tag-but-got-char"" parser error case. That gets kicked
up when the tag is malformed. The parser will treat this as a comment
and then Bleach .clean() will drop it. Instead, this fixes that to
turn that into character data to be escaped later.

Fixes #271
Fixes #279
Fixes #280"
235,https://api.github.com/repos/mozilla/bleach/pulls/391,391,Fix regressions from Bleach 2.0 rewrite,"The Bleach 2.0 rewrite involved changing Bleach `clean()` from making
changes during the tokenizing step to operating as an html5lib filter
that runs between the parsing and serializing steps. There were some
consequences of that rewrite namely that the html5lib parser got to
""fix"" the HTML before Bleach could strip/escape disallowed tags. Because
of that, there were a variety of regressions from Bleach 1.x behavior
and Bleach 2.x behavior. For example:

1. Added end tags:
   ```
   bleach.clean('<sarcasm>') -> '&lt;sarcasm&gt;&lt;/sarcasm&gt;'
   ```
2. Parsed malformed tags as comments:
   ```
   bleach.clean('</sarcasm>') -> ''
   ```
Et cetera.

This change fixes that in a few ways. First, it overrides `emitCurrentToken()`
in the tokenizer to know about the allowed tags and whether they're going
to get stripped or escaped. It does the stripping at this point and changes
tags to be escaped into character data. That way the parser doesn't do any
""fixing"".

Second, it adds some additional scrutiny for the
""expected-closing-tag-but-got-char"" parser error case. That gets kicked
up when the tag is malformed. The parser will treat this as a comment
and then Bleach `clean()` will drop it. Instead, this fixes that to
turn that into character data to be escaped later.

Fixes #271
Fixes #279
Fixes #280",willkg,820826,2018-09-13T21:12:08Z,MEMBER,True,276,89,20,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,173202fe570181ce6701f365f05168e923fce990,Fix BleachHTMLTokenizer.__init__ to do less
236,https://api.github.com/repos/mozilla/bleach/pulls/391,391,Fix regressions from Bleach 2.0 rewrite,"The Bleach 2.0 rewrite involved changing Bleach `clean()` from making
changes during the tokenizing step to operating as an html5lib filter
that runs between the parsing and serializing steps. There were some
consequences of that rewrite namely that the html5lib parser got to
""fix"" the HTML before Bleach could strip/escape disallowed tags. Because
of that, there were a variety of regressions from Bleach 1.x behavior
and Bleach 2.x behavior. For example:

1. Added end tags:
   ```
   bleach.clean('<sarcasm>') -> '&lt;sarcasm&gt;&lt;/sarcasm&gt;'
   ```
2. Parsed malformed tags as comments:
   ```
   bleach.clean('</sarcasm>') -> ''
   ```
Et cetera.

This change fixes that in a few ways. First, it overrides `emitCurrentToken()`
in the tokenizer to know about the allowed tags and whether they're going
to get stripped or escaped. It does the stripping at this point and changes
tags to be escaped into character data. That way the parser doesn't do any
""fixing"".

Second, it adds some additional scrutiny for the
""expected-closing-tag-but-got-char"" parser error case. That gets kicked
up when the tag is malformed. The parser will treat this as a comment
and then Bleach `clean()` will drop it. Instead, this fixes that to
turn that into character data to be escaped later.

Fixes #271
Fixes #279
Fixes #280",willkg,820826,2018-09-13T21:12:08Z,MEMBER,True,276,89,20,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d3366bc688a5362cec5edf95a74ad3bdf597f3f7,Fix typos and make QUOTEY_THINGS a set
237,https://api.github.com/repos/mozilla/bleach/pulls/391,391,Fix regressions from Bleach 2.0 rewrite,"The Bleach 2.0 rewrite involved changing Bleach `clean()` from making
changes during the tokenizing step to operating as an html5lib filter
that runs between the parsing and serializing steps. There were some
consequences of that rewrite namely that the html5lib parser got to
""fix"" the HTML before Bleach could strip/escape disallowed tags. Because
of that, there were a variety of regressions from Bleach 1.x behavior
and Bleach 2.x behavior. For example:

1. Added end tags:
   ```
   bleach.clean('<sarcasm>') -> '&lt;sarcasm&gt;&lt;/sarcasm&gt;'
   ```
2. Parsed malformed tags as comments:
   ```
   bleach.clean('</sarcasm>') -> ''
   ```
Et cetera.

This change fixes that in a few ways. First, it overrides `emitCurrentToken()`
in the tokenizer to know about the allowed tags and whether they're going
to get stripped or escaped. It does the stripping at this point and changes
tags to be escaped into character data. That way the parser doesn't do any
""fixing"".

Second, it adds some additional scrutiny for the
""expected-closing-tag-but-got-char"" parser error case. That gets kicked
up when the tag is malformed. The parser will treat this as a comment
and then Bleach `clean()` will drop it. Instead, this fixes that to
turn that into character data to be escaped later.

Fixes #271
Fixes #279
Fixes #280",willkg,820826,2018-09-13T21:12:08Z,MEMBER,True,276,89,20,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a708fb830edbc168ec237ed8fb772e9b95f143af,Clear stream history once a tag has been found
238,https://api.github.com/repos/mozilla/bleach/pulls/391,391,Fix regressions from Bleach 2.0 rewrite,"The Bleach 2.0 rewrite involved changing Bleach `clean()` from making
changes during the tokenizing step to operating as an html5lib filter
that runs between the parsing and serializing steps. There were some
consequences of that rewrite namely that the html5lib parser got to
""fix"" the HTML before Bleach could strip/escape disallowed tags. Because
of that, there were a variety of regressions from Bleach 1.x behavior
and Bleach 2.x behavior. For example:

1. Added end tags:
   ```
   bleach.clean('<sarcasm>') -> '&lt;sarcasm&gt;&lt;/sarcasm&gt;'
   ```
2. Parsed malformed tags as comments:
   ```
   bleach.clean('</sarcasm>') -> ''
   ```
Et cetera.

This change fixes that in a few ways. First, it overrides `emitCurrentToken()`
in the tokenizer to know about the allowed tags and whether they're going
to get stripped or escaped. It does the stripping at this point and changes
tags to be escaped into character data. That way the parser doesn't do any
""fixing"".

Second, it adds some additional scrutiny for the
""expected-closing-tag-but-got-char"" parser error case. That gets kicked
up when the tag is malformed. The parser will treat this as a comment
and then Bleach `clean()` will drop it. Instead, this fixes that to
turn that into character data to be escaped later.

Fixes #271
Fixes #279
Fixes #280",willkg,820826,2018-09-13T21:12:08Z,MEMBER,True,276,89,20,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,73d08b27beda761e015aae1b60841efe128073a0,"Drop get_recent_tag_string()

tagOpenState() is always called for every < that denotes a StartTag,
EndTag, or ParseError and never any other time. We can (ab)use that
fact to reset the input stream history and then we don't have
to search backwards in the history for the < to find the original
tag string which is super because that was fragile and not very
performant."
239,https://api.github.com/repos/mozilla/bleach/pulls/390,390,Fix ids for regression tests,"This fixes test ids so when the regression tests fail, it's easier to isolate and run just one of them. Otherwise, this is cosmetic.",willkg,820826,2018-09-04T23:18:07Z,MEMBER,True,11,5,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,614f4ef2da7579c65781284faddca69f0f16b0a3,Fix ids for regression tests
240,https://api.github.com/repos/mozilla/bleach/pulls/389,389,Extract all html5lib things into a shim module,"This creates an intermediary `html5lib_shim` module between the html5lib
library and Bleach. This will make it easier to update html5lib and fix
any issues that arise from that.

We're going to treat this as an incompatible API change, so changing
the upcoming version to 3.0.0.

Fixes #316",willkg,820826,2018-08-28T19:16:17Z,MEMBER,True,392,287,7,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b07814e0753ca6cbcf0b4747b8d59b90adec0b91,"Extract all html5lib things into a shim module

This creates an intermediary html5lib_shim module between the html5lib
library and Bleach. This will make it easier to update html5lib and fix
any issues that arise from that.

We're going to treat this as an incompatible API change, so changing
the upcoming version to 3.0.0.

Fixes #316"
241,https://api.github.com/repos/mozilla/bleach/pulls/389,389,Extract all html5lib things into a shim module,"This creates an intermediary `html5lib_shim` module between the html5lib
library and Bleach. This will make it easier to update html5lib and fix
any issues that arise from that.

We're going to treat this as an incompatible API change, so changing
the upcoming version to 3.0.0.

Fixes #316",willkg,820826,2018-08-28T19:16:17Z,MEMBER,True,392,287,7,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,78e06f7e864a8d39af0a2794b296de12f123bf24,Add serializer tests; improve comments and changes
242,https://api.github.com/repos/mozilla/bleach/pulls/388,388,Drop easy_install instructions,"This isn't earth-shattering or anything. I haven't tested `easy_install` installation ever, so I don't even know if it works anymore.

Fixes #373.",willkg,820826,2018-08-27T13:10:39Z,MEMBER,True,0,4,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a507a4ed7e37cd594b8af5b4722bd6b058e9c2c2,"Drop easy_install instructions

Fixes #373"
243,https://api.github.com/repos/mozilla/bleach/pulls/387,387,vendor html5lib 1.0.1,"This vendors html5lib 1.0.1 and in doing that, drops the requirement to
install html5lib.

Fixes #386",willkg,820826,2018-08-26T19:28:22Z,MEMBER,True,14427,63,60,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7970857c78bec0060f527277a91a8ca72aaabe8d,"vendor html5lib 1.0.1

This vendors html5lib 1.0.1 and in doing that, drops the requirement to
install html5lib.

Fixes #386"
244,https://api.github.com/repos/mozilla/bleach/pulls/387,387,vendor html5lib 1.0.1,"This vendors html5lib 1.0.1 and in doing that, drops the requirement to
install html5lib.

Fixes #386",willkg,820826,2018-08-26T19:28:22Z,MEMBER,True,14427,63,60,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,45abd92d0b28820e11447351bd1e1c1e8d025991,"Update .travis.yml file regarding html5lib

We don't need to test a million variations of html5lib anymore."
245,https://api.github.com/repos/mozilla/bleach/pulls/387,387,vendor html5lib 1.0.1,"This vendors html5lib 1.0.1 and in doing that, drops the requirement to
install html5lib.

Fixes #386",willkg,820826,2018-08-26T19:28:22Z,MEMBER,True,14427,63,60,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f2aa0af07a0ca6b6a7a99bf6f5b848328746b4dd,Add hash for html5lib; add review instructions
246,https://api.github.com/repos/mozilla/bleach/pulls/387,387,vendor html5lib 1.0.1,"This vendors html5lib 1.0.1 and in doing that, drops the requirement to
install html5lib.

Fixes #386",willkg,820826,2018-08-26T19:28:22Z,MEMBER,True,14427,63,60,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ba37abea00955cbebff74dbc611c6063645110f8,"Add vendor verify

Adds vendor_verify step in Travis testing. This also tweaks Travis testing
to lint in just a couple of environments rather than all of them."
247,https://api.github.com/repos/mozilla/bleach/pulls/385,385,Update for v2.1.4 release,,willkg,820826,2018-08-16T20:35:45Z,MEMBER,True,4,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9960da4ddd777627fc39d8c1f4a36923102af06d,Update for v2.1.4 release
248,https://api.github.com/repos/mozilla/bleach/pulls/383,383,Sync travis and tox environments,"This makes sure travis and tox are testing Bleach with the same
configurations.",willkg,820826,2018-07-20T00:57:14Z,MEMBER,True,15,9,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8f88b41810ef82f5a1204e45ad8d6c9329b0c0b1,"Sync travis and tox environments

This makes sure travis and tox are testing Bleach with the same
configurations."
249,https://api.github.com/repos/mozilla/bleach/pulls/382,382,"Add Python 3.7, htmllib 1.0b10 and 1.0.1 to tests","Fixes #377, plus add the most recent htmlib versions. The new tox targets worked locally (thanks pyenv!)

Based on ``setup.py``, it looks like htmllib 0.99999999 (8) should be dropped from the tests.",jwhitlock,286017,2018-07-19T21:55:45Z,MEMBER,False,14,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bce256bee34dcbc5cf896bf223296d77a0cf586a,"Add Python 3.7, htmllib 1.0b10 and 1.0.1 to tests"
250,https://api.github.com/repos/mozilla/bleach/pulls/378,378,Fix error when parsing invalid URI,Fix for https://github.com/mozilla/bleach/issues/376,antoineleclair,159290,2018-06-29T17:14:08Z,CONTRIBUTOR,True,12,3,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9319ec77a06c582bd5e7726c0b3c69139ad67732,Fix error when parsing invalid URI
251,https://api.github.com/repos/mozilla/bleach/pulls/375,375,Drop support for html5lib<1.0,"This is a duplicate of https://github.com/mozilla/bleach/pull/343 (except for CHANGES).

I had hastily deleted my fork after another PR was merged, and forgot #343 was still open, and now that one is unmergeable.

So here's a recreated PR, sorry for the noise!

No rush to merge this, see https://github.com/mozilla/bleach/pull/343#issuecomment-352434866.",hugovk,1324225,2018-06-13T14:43:38Z,CONTRIBUTOR,False,3,32,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9cd531744029b705d144a4d99efbffe4d6651731,Drop support for html5lib<1.0
252,https://api.github.com/repos/mozilla/bleach/pulls/372,372,fixes 371 - reqs updates,"This nixes pinning of development-centric packages for Bleach. There's no need for us to pin those packages (with the exception of pytest--we might want to pin that, but we can re-pin it later if we hit issues) and not pinning them reduces maintenance burden.

This also fixes the lint and docs tox environments which had bitrotted.

Fixes #371.",willkg,820826,2018-06-07T18:35:02Z,MEMBER,True,22,22,7,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f1f04f6580e24bd1b977b8be0a1bc1e5d5f944da,Nix pinning in dev requirements
253,https://api.github.com/repos/mozilla/bleach/pulls/372,372,fixes 371 - reqs updates,"This nixes pinning of development-centric packages for Bleach. There's no need for us to pin those packages (with the exception of pytest--we might want to pin that, but we can re-pin it later if we hit issues) and not pinning them reduces maintenance burden.

This also fixes the lint and docs tox environments which had bitrotted.

Fixes #371.",willkg,820826,2018-06-07T18:35:02Z,MEMBER,True,22,22,7,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8f6c2ea0b1155716ced070d87dc2c9d4f664ddcb,"Change requirements.txt to requirements-dev.txt

This change makes it clearer what the file is for."
254,https://api.github.com/repos/mozilla/bleach/pulls/372,372,fixes 371 - reqs updates,"This nixes pinning of development-centric packages for Bleach. There's no need for us to pin those packages (with the exception of pytest--we might want to pin that, but we can re-pin it later if we hit issues) and not pinning them reduces maintenance burden.

This also fixes the lint and docs tox environments which had bitrotted.

Fixes #371.",willkg,820826,2018-06-07T18:35:02Z,MEMBER,True,22,22,7,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,63076f4420498571027bb853703f06b3bfd469ff,Fix lint and docs tox environments
255,https://api.github.com/repos/mozilla/bleach/pulls/372,372,fixes 371 - reqs updates,"This nixes pinning of development-centric packages for Bleach. There's no need for us to pin those packages (with the exception of pytest--we might want to pin that, but we can re-pin it later if we hit issues) and not pinning them reduces maintenance burden.

This also fixes the lint and docs tox environments which had bitrotted.

Fixes #371.",willkg,820826,2018-06-07T18:35:02Z,MEMBER,True,22,22,7,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9959a1a57c1574806e24ea29209af882c5bdbd95,Update CHANGES re: Python 3.3 support
256,https://api.github.com/repos/mozilla/bleach/pulls/372,372,fixes 371 - reqs updates,"This nixes pinning of development-centric packages for Bleach. There's no need for us to pin those packages (with the exception of pytest--we might want to pin that, but we can re-pin it later if we hit issues) and not pinning them reduces maintenance burden.

This also fixes the lint and docs tox environments which had bitrotted.

Fixes #371.",willkg,820826,2018-06-07T18:35:02Z,MEMBER,True,22,22,7,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b8aae5660693f4d30d76a0b8e7525af1adcbc3cc,Fix requirements file name in travis
257,https://api.github.com/repos/mozilla/bleach/pulls/364,364,Convert entities in CSS values before sanitizing,"The CSS is in an HTML attribute value, so we need to convert character
entities in it which makes it proper CSS before we can sanitize it.

Fixes #363",willkg,820826,2018-03-22T01:17:39Z,MEMBER,True,23,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,46fa500e2b3275af09e888feb495d1fcd541fb00,"Convert entities in CSS values before sanitizing

The CSS is in an HTML attribute value, so we need to convert character
entities in it which makes it proper CSS before we can sanitize it.

Fixes #363"
258,https://api.github.com/repos/mozilla/bleach/pulls/361,361,Handle nonexistent namespaces better,"Issue 352 has a string that manages to tokenize an html attribute with
a namespace, but no name. Then the namespace doesn't exist in prefixes
and that throws a `KeyError`.

This alleviates that a bit such that if there's a namespace, but no
name, it swaps the two values. Further, if prefixes doesn't have the
namespace, then it ignores the namespace.

Fixes #352",willkg,820826,2018-03-19T21:48:55Z,MEMBER,True,26,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3f2270e42582d8f2d7392a54edff997b8675c797,"Handle nonexistent namespaces better

Issue 352 has a string that manages to tokenize an html attribute with
a namespace, but no name. Then the namespace doesn't exist in prefixes
and that throws a KeyError.

This alleviates that a bit such that if there's a namespace, but no
name, it swaps the two values. Further, if prefixes doesn't have the
namespace, then it ignores the namespace.

Fixes #352"
259,https://api.github.com/repos/mozilla/bleach/pulls/360,360,Handle ambiguous ampersands correctly,"This fixes the ambiguous ampersand case in character entity handling in
attribute values.

Fixes #359",willkg,820826,2018-03-16T15:36:27Z,MEMBER,True,48,10,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,28e7c3292bded1e91d194117e7d4d93ce855d698,"Handle ambiguous ampersands correctly

This fixes the ambiguous ampersand case in character entity handling in
attribute values.

Fixes #359"
260,https://api.github.com/repos/mozilla/bleach/pulls/360,360,Handle ambiguous ampersands correctly,"This fixes the ambiguous ampersand case in character entity handling in
attribute values.

Fixes #359",willkg,820826,2018-03-16T15:36:27Z,MEMBER,True,48,10,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9818ffb81a362f4d141835a291225c2e65706ae2,Add regression test with character entity in url
261,https://api.github.com/repos/mozilla/bleach/pulls/358,358,Add tests for sanitizing urls in css properties,,willkg,820826,2018-03-06T14:26:45Z,MEMBER,True,53,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3e9b9ec55bbec5906800c3838d0840b4741f74d9,Add tests for sanitizing urls in css properties
262,https://api.github.com/repos/mozilla/bleach/pulls/356,356,Fix url sanitizing,This fixes an issue in uri sanitizing where character entities in the schema muck up the matching which allows disallowed schemes through.,willkg,820826,2018-03-05T21:10:27Z,MEMBER,True,210,22,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,73dfef1d3b96c2e432660d8d2f2e9d0eaa230e36,"Fix url sanitizing

Fixes a security issue where url sanitizing wouldn't work if there were
character entities breaking up the scheme. This allowed javascript urls
even when they were not explicitly allowed."
263,https://api.github.com/repos/mozilla/bleach/pulls/356,356,Fix url sanitizing,This fixes an issue in uri sanitizing where character entities in the schema muck up the matching which allows disallowed schemes through.,willkg,820826,2018-03-05T21:10:27Z,MEMBER,True,210,22,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,61bf0e6db3bdce6294633555e08dd061af465c3c,Fix errant comment
264,https://api.github.com/repos/mozilla/bleach/pulls/355,355,Fix MANIFEST and data_to_json.py related to recent changes,"I squashed test cases into single files--no more `.out` files. This carries
that change through to `MANIFEST.in` and our tests_website system.

I missed this in the previous cleanup passes. :(",willkg,820826,2018-03-03T23:16:52Z,MEMBER,True,22,18,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d580f0abba6ae62da22e59be4355ea1d690eb1f5,"Fix MANIFEST and data_to_json.py related to recent changes

I squashed test cases into single files--no more .out files. This carries
that change through to MANIFEST.in and our tests_website system."
265,https://api.github.com/repos/mozilla/bleach/pulls/354,354,Merge all the clean tests into one file and clean up,"* Moves `test_security.py` tests into `test_clean.py`
* Removes duplicate tests and unhelpful tests
* Adds additional helpful test cases
* Reworks some tests to be easier and run to read by parametrizing them
* Adds comments and adjusts function names to be more helpful

This is a broad cleanup of `clean` tests. To review this, I'd:

1. go through my comments and see if they make sense
2. go through the final `test_clean.py` file and make sure you understand all the things being tested; for tests that aren't clear or readable, we want to fix that",willkg,820826,2018-03-03T16:00:57Z,MEMBER,True,404,355,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,588286152b0c24d2d2c9e68d4761c14f00ce88b6,"Merge all the clean tests into one file and clean up

* Moves test_security.py tests into test_clean.py
* Removes duplicate tests and unhelpful tests
* Adds additional helpful test cases
* Reworks some tests to be easier and run to read by parametrizing them
* Adds comments and adjusts function names to be more helpful"
266,https://api.github.com/repos/mozilla/bleach/pulls/354,354,Merge all the clean tests into one file and clean up,"* Moves `test_security.py` tests into `test_clean.py`
* Removes duplicate tests and unhelpful tests
* Adds additional helpful test cases
* Reworks some tests to be easier and run to read by parametrizing them
* Adds comments and adjusts function names to be more helpful

This is a broad cleanup of `clean` tests. To review this, I'd:

1. go through my comments and see if they make sense
2. go through the final `test_clean.py` file and make sure you understand all the things being tested; for tests that aren't clear or readable, we want to fix that",willkg,820826,2018-03-03T16:00:57Z,MEMBER,True,404,355,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,18ecceb5f61896e1a88e8d965b1e61e860ded2a5,Correct a regression comment and fix a test I misunderstood
267,https://api.github.com/repos/mozilla/bleach/pulls/353,353,Tests cleanup and dev prep,,willkg,820826,2018-03-02T22:38:03Z,MEMBER,True,49,27,41,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,33e926c25b7c587383e6a54ab2963d204146dfd0,Fix release process versions
268,https://api.github.com/repos/mozilla/bleach/pulls/353,353,Tests cleanup and dev prep,,willkg,820826,2018-03-02T22:38:03Z,MEMBER,True,49,27,41,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,86acc45023c73462d0d75cb5148702ec2e88f242,Update to 2.1.3dev0 for dev work
269,https://api.github.com/repos/mozilla/bleach/pulls/353,353,Tests cleanup and dev prep,,willkg,820826,2018-03-02T22:38:03Z,MEMBER,True,49,27,41,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,138e5d7084c533cc3a2420942df47281c6e4e1e0,"Rework tests

This switches it so the ""in"" and ""out"" for tests are in the same file. This
makes them easier to read through on GitHub and in an editor."
270,https://api.github.com/repos/mozilla/bleach/pulls/350,350,Support data URIs with content types whitelist. Based on html5lib.,"https://github.com/html5lib/html5lib-python/blob/master/html5lib/filters/sanitizer.py#L820

To maintain backward compatibility, I didn't set any default content type. You must set `content_types` to use this feature.",iurisilvio,105852,2018-02-13T22:53:52Z,NONE,False,45,8,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,58f3755c6e36c436d1460cc9569a28a6ed4e7d5a,"Support data URIs with content types whitelist. Based on html5lib.

https://github.com/html5lib/html5lib-python/blob/master/html5lib/filters/sanitizer.py#L820"
271,https://api.github.com/repos/mozilla/bleach/pulls/346,346,Add VALUE_SAFE return value for attribute filters,"In my use case (sanitize HTML output by student programs), I would like to allow certain `data:` URLs--specifically those of an `audio/wav` MIME type. Those currently (and rightfully) get killed by `allowed_protocols`. I'm wary of just outright allowing all `data:` URLs, and so I've extended the attribute filter interface with a special return value `VALUE_SAFE` that allows attribute values past without further vetting.",inducer,352067,2018-01-15T04:36:35Z,NONE,False,20,6,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8ab3aaba3a77b4875262377787bdab20330379a1,Add VALUE_SAFE return value for attribute filters
272,https://api.github.com/repos/mozilla/bleach/pulls/345,345,Updates README.rst with svg badge,,sobolevn,4660275,2018-01-08T09:13:10Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a418d02e8039078e2028f440344df17dbc4d0938,Updates README.rst with svg badge
273,https://api.github.com/repos/mozilla/bleach/pulls/343,343,Drop support for html5lib<1.0,,hugovk,1324225,2017-12-18T12:59:51Z,CONTRIBUTOR,False,24,33,7,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8677db173b4f864cb2c121004d5392cf70d0001f,Drop support for html5lib<1.0
274,https://api.github.com/repos/mozilla/bleach/pulls/342,342,Regex support for style value filtering,"# WIP 
Regarding #341 ",sherubthakur,10345612,2017-12-15T09:41:44Z,NONE,False,13,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,51c2cabac32b2c2ddef53193165229679b604c3b,Regex support for style value filtering
275,https://api.github.com/repos/mozilla/bleach/pulls/338,338,Support html5lib-python 1.0.1,Fixes #337,willkg,820826,2017-12-07T15:53:28Z,MEMBER,True,44,2,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0070fe79dd6f60d8f8583a01c2e8a4bc4f03cdef,"Support html5lib-python 1.0.1

Fixes #337"
276,https://api.github.com/repos/mozilla/bleach/pulls/336,336,Drop support for EOL Python 3.3,Fixes #328.,hugovk,1324225,2017-11-21T16:32:37Z,CONTRIBUTOR,True,5,12,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,404679fb4956523dc40ee372213c570843c204c3,Drop support for EOL Python 3.3
277,https://api.github.com/repos/mozilla/bleach/pulls/336,336,Drop support for EOL Python 3.3,Fixes #328.,hugovk,1324225,2017-11-21T16:32:37Z,CONTRIBUTOR,True,5,12,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,33afccce25e04001017c3d8b877b1203f1172694,Merge branch 'master' into rm-3.3
278,https://api.github.com/repos/mozilla/bleach/pulls/336,336,Drop support for EOL Python 3.3,Fixes #328.,hugovk,1324225,2017-11-21T16:32:37Z,CONTRIBUTOR,True,5,12,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e90b85e3c0c8b0019bfcc5042d43c9d937dd0600,Add python_requires to help pip
279,https://api.github.com/repos/mozilla/bleach/pulls/336,336,Drop support for EOL Python 3.3,Fixes #328.,hugovk,1324225,2017-11-21T16:32:37Z,CONTRIBUTOR,True,5,12,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d49d98d759e272258ea6d13627a2e3a1ef164b20,Merge branch 'master' into rm-3.3
280,https://api.github.com/repos/mozilla/bleach/pulls/335,335,Fix typo,"Same thing needs fixing on the homepage by someone with access:

![image](https://user-images.githubusercontent.com/1324225/33083240-7e4e93b4-cee7-11e7-9f7d-c65550da2a94.png)
",hugovk,1324225,2017-11-21T16:13:15Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,98addf884d0d0d7e2f91f9bdf0468aab49e968b1,Fix typo
281,https://api.github.com/repos/mozilla/bleach/pulls/332,332,Insert the provided type in error message when it's a wrong one,"so, for example, the error message will be 'argument cannot be of int type, must be of text type'.

It can help for debugging.",sblondon,1708780,2017-11-10T13:15:43Z,CONTRIBUTOR,True,7,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3d4eaebb0888e2f5f11c8fe66ccb2cce9fcdcaa8,Insert the provided type in error message when it's a wrong one
282,https://api.github.com/repos/mozilla/bleach/pulls/332,332,Insert the provided type in error message when it's a wrong one,"so, for example, the error message will be 'argument cannot be of int type, must be of text type'.

It can help for debugging.",sblondon,1708780,2017-11-10T13:15:43Z,CONTRIBUTOR,True,7,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,39a69127a1e8f6a9d3952f880390325c3d6cf2a7,The wrong type is wrapped in quote in error message and better assertion in test
283,https://api.github.com/repos/mozilla/bleach/pulls/329,329,Prep for 2.1.1 release,,willkg,820826,2017-10-02T18:39:23Z,MEMBER,True,5,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ad5e6e739588502383da754b7e2130484d0a314d,Prep for 2.1.1 release
284,https://api.github.com/repos/mozilla/bleach/pulls/327,327,"fixes unicodedecodeerror in ""python setup.py build"" with LANG=",,willkg,820826,2017-10-02T17:37:14Z,MEMBER,True,61,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,42629f7a39fb20f7d45b004bb2cb727d6e6c9fae,"Add lint, docs, and LANG= build rules to tox.ini

This adds a bunch of rules to tox.ini to improve release quality:

* docs: builds the docs and verifies no errors
* lint: lints the bleach codebase and verifies no issues
* py{27,33,34,35,36}-build-no-lang: builds bleach with LANG="
285,https://api.github.com/repos/mozilla/bleach/pulls/327,327,"fixes unicodedecodeerror in ""python setup.py build"" with LANG=",,willkg,820826,2017-10-02T17:37:14Z,MEMBER,True,61,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c64dd261d10f8f0b80a6ac7e99ba39fe6b074bfa,"Change how setup.py opens files

In Python3 environments where LANG=, then Python uses the ascii codec to decode
files. That broke when we added a non-ascii character to CHANGES in the last
release.

Fixes #324."
286,https://api.github.com/repos/mozilla/bleach/pulls/326,326,Prep for v2.1.1 development,,willkg,820826,2017-10-02T16:57:43Z,MEMBER,True,22,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,821088c9ce30fbe691344bf89af3d6ac9ea05444,Prep for v2.1.1 development
287,https://api.github.com/repos/mozilla/bleach/pulls/325,325,"Fix grammar in error message, ""argument must of text type""",,staticshock,13100,2017-10-02T16:49:57Z,CONTRIBUTOR,True,2,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b7cea23b22288ec2603705e3fc36fbc385709ca3,"Fix grammar in error message, ""argument must of text type"""
288,https://api.github.com/repos/mozilla/bleach/pulls/323,323,Convert invisible characters to ? in Characters tokens,"This prevents someone from using backspace and other invisible characters from
tricking a user into copy and pasting a seemingly innocuous command into doing
something they really don't want to do.

I made the replacement character a constant figuring people can replace it if
they want something different.

Fixes #298.",willkg,820826,2017-09-28T14:47:11Z,MEMBER,True,53,0,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c0fa1aa5bd59cf9e9f4824d96191ba0acaa25438,"Convert invisible characters to ? in Characters tokens

This prevents someone from using backspace and other invisible characters from
tricking a user into copy and pasting a seemingly innocuous command into doing
something they really don't want to do.

I made the replacement character a constant figuring people can replace it if
they want something different.

Fixes #298."
289,https://api.github.com/repos/mozilla/bleach/pulls/321,321,Fix character entities in HTML attributes,"This is option 2 in 

https://github.com/mozilla/bleach/issues/294#issuecomment-331233053

I thought this would be more involved, but it wasn't. Go figure.

This is squirrely, but what's going on is that the tokenizer no longer consumes
entities so when the serializer goes to convert all & to &amp;, it's not a good
thing to do.

This wraps the serializer and looks for HTML attribute values, undoes the
categorical ""all & shall be &amp;!"" and then redoes it taking care only to
escape bare &.

Fixes #294.",willkg,820826,2017-09-21T18:21:58Z,MEMBER,True,145,74,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d8f7d1d651a6b5a4c8e5a5932ea4fd61769a60d4,"Fix character entities in HTML attributes

This is squirrely, but what's going on is that the tokenizer no longer consumes
entities so when the serializer goes to convert all & to &amp;, it's not a good
thing to do.

This wraps the serializer and looks for HTML attribute values, undoes the
categorical ""all & shall be &amp;!"" and then redoes it taking care only to
escape bare &."
290,https://api.github.com/repos/mozilla/bleach/pulls/320,320,Further clarify where it's safe to use bleach.clean() output,"This makes it more explicit and hopefully clarifies for people who might not understand ""HTML"" vs. ""HTML attribute"".",willkg,820826,2017-09-21T16:51:58Z,MEMBER,True,20,10,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,25388a6ab6293196ad266afe801d52a36b06c28d,Further clarify where it's safe to use bleach.clean() output
291,https://api.github.com/repos/mozilla/bleach/pulls/319,319,prevent unescaping of entities (#143),"This is a second attempt at fixing #143. It's based on the first attempt, but then adds a `sanitize_characters` method for sanitizing Characters tokens by extracting Entity tokens from the Characters token data. It's a bit tricky, but I think it's more correct than the previous attempt.

It doesn't escape all `&`, `clean` and `linkify` remain idempotent, and it's more backwards compatible.

Fixes #143.",willkg,820826,2017-09-20T16:06:04Z,MEMBER,True,305,63,13,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,67afdf8ae7d323305ea104c0efb6bcb37547edc2,"Prevent HTMLTokenizer from unescaping entities

This overrides the HTMLTokenizer's .consumeEntity() method such that it doesn't
convert character entities.

This also fixes some other escaping/unescaping oddities so that the output of
bleach.clean() is more correct in regards to intended behavior.

One thing this breaks is the idempotent property for bleach.clean()--it's no
longer idempotent. Since it escapes text more correctly now and that's not an
idempotent transform, this is no longer idempotent.

For example, bleach.clean() can't differentiate between a user talking about
code and saying this:

   I like my html wrapped in <b>!

and this:

   I like my html escaped like this &lt;b&gt;!

I'm not sure why we thought bleach.clean() could ever be correct and idempotent.
Seems like that was an error."
292,https://api.github.com/repos/mozilla/bleach/pulls/319,319,prevent unescaping of entities (#143),"This is a second attempt at fixing #143. It's based on the first attempt, but then adds a `sanitize_characters` method for sanitizing Characters tokens by extracting Entity tokens from the Characters token data. It's a bit tricky, but I think it's more correct than the previous attempt.

It doesn't escape all `&`, `clean` and `linkify` remain idempotent, and it's more backwards compatible.

Fixes #143.",willkg,820826,2017-09-20T16:06:04Z,MEMBER,True,305,63,13,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3e5bddb6f12f573be3bd977983c36c3756c5be6b,"Merge manual regression test in

We don't have the problem with \r anymore, so we can merge this in with the
other regression tests."
293,https://api.github.com/repos/mozilla/bleach/pulls/319,319,prevent unescaping of entities (#143),"This is a second attempt at fixing #143. It's based on the first attempt, but then adds a `sanitize_characters` method for sanitizing Characters tokens by extracting Entity tokens from the Characters token data. It's a bit tricky, but I think it's more correct than the previous attempt.

It doesn't escape all `&`, `clean` and `linkify` remain idempotent, and it's more backwards compatible.

Fixes #143.",willkg,820826,2017-09-20T16:06:04Z,MEMBER,True,305,63,13,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,29de026000c2894b129702bf4b971bf6768b5bab,"Rework entity fix to not escape all &

This redoes the entity fix such that it doesn't escape all &. What this does is
add a ""sanitize_characters"" pass for Characters tokens which looks for entities
within the token data and extracts them into Entity tokens.

Handling entities this way prevents them from being expanded during
tokenization, but keeps them as distinct entities during serialization so they
don't get escaped.

This handles the &curren problem by requiring that an entity always start with a
& and end with a ;. If it doesn't, then it's treated like characters and all &
are escaped."
294,https://api.github.com/repos/mozilla/bleach/pulls/319,319,prevent unescaping of entities (#143),"This is a second attempt at fixing #143. It's based on the first attempt, but then adds a `sanitize_characters` method for sanitizing Characters tokens by extracting Entity tokens from the Characters token data. It's a bit tricky, but I think it's more correct than the previous attempt.

It doesn't escape all `&`, `clean` and `linkify` remain idempotent, and it's more backwards compatible.

Fixes #143.",willkg,820826,2017-09-20T16:06:04Z,MEMBER,True,305,63,13,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2648d263296bd6b94248f916e03724eba85e938c,Move test_only_text_is_cleaned to test_clean.py
295,https://api.github.com/repos/mozilla/bleach/pulls/318,318,More Python 3 fixes for tests_websites,Urgh--missed these first time around. :(,willkg,820826,2017-09-20T15:31:37Z,MEMBER,True,15,9,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,daec5ef18487fa31779165cb104a22b5931b4c3b,More Python 3 fixes for tests_websites
296,https://api.github.com/repos/mozilla/bleach/pulls/317,317,Fix test_websites to work with Python 3,,willkg,820826,2017-09-20T15:08:33Z,MEMBER,True,13,7,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2a9854d9484797beeed1673454980404483774b3,Fix test_websites to work with Python 3
297,https://api.github.com/repos/mozilla/bleach/pulls/315,315,"Change ""Security issues"" to ""Security fixes""",This is clearer regarding the intent of that block.,willkg,820826,2017-09-20T13:07:55Z,MEMBER,True,4,4,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4c80d008059257a17af3982c1aba4a3b7879370b,"Change ""Security issues"" to ""Security fixes""

This is clearer regarding the intent of that block."
298,https://api.github.com/repos/mozilla/bleach/pulls/314,314,"Add code of conduct blurb, move some docs around",Fixes #313,willkg,820826,2017-09-20T13:01:06Z,MEMBER,True,41,15,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,205edc0094c3a5ad217d164048d57a22a69fed93,"Add code of conduct blurb, move some docs around

Fixes #313"
299,https://api.github.com/repos/mozilla/bleach/pulls/312,312,Clean up tests,"This renames two of the test files to names that better reflect what they're
testing.

I also went through and adjusted the clean() tests to make it easier to read
them and verify the input and output. Granted, this is highly subjective and
specific to me, but I'm hoping the end result is that the tests are more uniform
in structure and easier to read for others, too.",willkg,820826,2017-09-20T01:40:15Z,MEMBER,True,404,365,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d7c920dd35a640cb6c63042e7605298d14c8b0d5,"Clean up tests

This renames two of the test files to names that better reflect what they're
testing.

I also went through and adjusted the clean() tests to make it easier to read
them and verify the input and output. Granted, this is highly subjective and
specific to me, but I'm hoping the end result is that the tests are more uniform
in structure and easier to read for others, too."
300,https://api.github.com/repos/mozilla/bleach/pulls/311,311,Drop encoding module,Fixes #176,willkg,820826,2017-09-19T20:34:27Z,MEMBER,True,28,69,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f592dee6fac2ded945c2e4df879ac34c0cb6848f,"Drop encoding module

Fixes #176"
301,https://api.github.com/repos/mozilla/bleach/pulls/310,310,Update CHANGES and CONTRIBUTORS,,willkg,820826,2017-09-19T19:45:41Z,MEMBER,True,37,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f904b5214d2fe84ed3332cb50171c77c4b68290c,Update CHANGES and CONTRIBUTORS
302,https://api.github.com/repos/mozilla/bleach/pulls/309,309,Redo versioning,"* moves versioning information into bleach/__init__.py
* bases versioning on __version__ which is a version string
* adds a __releasedate__
* updates docs to include version and release date in the footer
* sets the version to 2.1.dev0

Fixes #307",willkg,820826,2017-09-19T19:00:08Z,MEMBER,True,28,33,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4e4996cde546a75489146f9761878b1e32c7452e,"Redo versioning

* moves versioning information into bleach/__init__.py
* bases versioning on __version__ which is a version string
* adds a __releasedate__
* updates docs to include version and release date in the footer
* sets the version to 2.1.dev0

Fixes #307"
303,https://api.github.com/repos/mozilla/bleach/pulls/309,309,Redo versioning,"* moves versioning information into bleach/__init__.py
* bases versioning on __version__ which is a version string
* adds a __releasedate__
* updates docs to include version and release date in the footer
* sets the version to 2.1.dev0

Fixes #307",willkg,820826,2017-09-19T19:00:08Z,MEMBER,True,28,33,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,489c259342806e2278a6e263f7a16dacc61222de,Fix unrelated linting issue
304,https://api.github.com/repos/mozilla/bleach/pulls/308,308,Invert if blocks; add exceptions to docstrings,,willkg,820826,2017-09-19T18:38:38Z,MEMBER,True,44,42,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8b91e536af18383f06754d15abc1995a9f61f337,Invert if blocks; add exceptions to docstrings
305,https://api.github.com/repos/mozilla/bleach/pulls/306,306,Clarify security policy,"Fixes #303 

@g-k Do the changes to the README look ok to you?",willkg,820826,2017-09-19T14:31:47Z,MEMBER,True,120,57,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8965cdd3bb50c2a974153b254c65744142e4c1f4,"Clarify security policy

Fixes #303"
306,https://api.github.com/repos/mozilla/bleach/pulls/306,306,Clarify security policy,"Fixes #303 

@g-k Do the changes to the README look ok to you?",willkg,820826,2017-09-19T14:31:47Z,MEMBER,True,120,57,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6f1259f9aa28da776e28e4f3091e050cdb1175f6,Merge branch 'master' into 303-security-clarifications
307,https://api.github.com/repos/mozilla/bleach/pulls/302,302,Fix links in mails with hyphen,"Do not create a http link inside a mailto link

Partly fixes #300:

```py
>>> linkify('foo@exa-mple.com', parse_email=True)
'<a href=""mailto:foo@exa-mple.com"">foo@exa<a href=""http://-mple.com"" rel=""nofollow"">-mple.com</a></a>'
'<a href=""mailto:foo@exa-mple.com"">foo@exa-mple.com</a>'
```

but it does not fix this issue:

```py
>>> linkify('foo@bar-baz.com')
'foo@bar<a href=""http://-baz.com"" rel=""nofollow"">-baz.com</a>'
```",sedrubal,5571650,2017-08-27T18:24:01Z,CONTRIBUTOR,True,21,0,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,be9ad94962b1c726c620319b9886546269aa727d,"Add shebang to setup.py, ignore virtual environments"
308,https://api.github.com/repos/mozilla/bleach/pulls/302,302,Fix links in mails with hyphen,"Do not create a http link inside a mailto link

Partly fixes #300:

```py
>>> linkify('foo@exa-mple.com', parse_email=True)
'<a href=""mailto:foo@exa-mple.com"">foo@exa<a href=""http://-mple.com"" rel=""nofollow"">-mple.com</a></a>'
'<a href=""mailto:foo@exa-mple.com"">foo@exa-mple.com</a>'
```

but it does not fix this issue:

```py
>>> linkify('foo@bar-baz.com')
'foo@bar<a href=""http://-baz.com"" rel=""nofollow"">-baz.com</a>'
```",sedrubal,5571650,2017-08-27T18:24:01Z,CONTRIBUTOR,True,21,0,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b6537008a61bee98a03eda309e6d26f77af34f9b,"Do not create a http link inside a mailto link

Partly fixes #300:

```py
>>> linkify('foo@exa-mple.com', parse_email=True)
'<a href=""mailto:foo@exa-mple.com"">foo@exa<a href=""http://-mple.com"" rel=""nofollow"">-mple.com</a></a>'
'<a href=""mailto:foo@exa-mple.com"">foo@exa-mple.com</a>'
```

but it does not fix this issue:

```py
>>> linkify('foo@bar-baz.com')
'foo@bar<a href=""http://-baz.com"" rel=""nofollow"">-baz.com</a>'
```"
309,https://api.github.com/repos/mozilla/bleach/pulls/302,302,Fix links in mails with hyphen,"Do not create a http link inside a mailto link

Partly fixes #300:

```py
>>> linkify('foo@exa-mple.com', parse_email=True)
'<a href=""mailto:foo@exa-mple.com"">foo@exa<a href=""http://-mple.com"" rel=""nofollow"">-mple.com</a></a>'
'<a href=""mailto:foo@exa-mple.com"">foo@exa-mple.com</a>'
```

but it does not fix this issue:

```py
>>> linkify('foo@bar-baz.com')
'foo@bar<a href=""http://-baz.com"" rel=""nofollow"">-baz.com</a>'
```",sedrubal,5571650,2017-08-27T18:24:01Z,CONTRIBUTOR,True,21,0,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d12ea1329ada471b199015b27c9743afa6b9cc92,Add test for mail address with hyphen
310,https://api.github.com/repos/mozilla/bleach/pulls/302,302,Fix links in mails with hyphen,"Do not create a http link inside a mailto link

Partly fixes #300:

```py
>>> linkify('foo@exa-mple.com', parse_email=True)
'<a href=""mailto:foo@exa-mple.com"">foo@exa<a href=""http://-mple.com"" rel=""nofollow"">-mple.com</a></a>'
'<a href=""mailto:foo@exa-mple.com"">foo@exa-mple.com</a>'
```

but it does not fix this issue:

```py
>>> linkify('foo@bar-baz.com')
'foo@bar<a href=""http://-baz.com"" rel=""nofollow"">-baz.com</a>'
```",sedrubal,5571650,2017-08-27T18:24:01Z,CONTRIBUTOR,True,21,0,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ac39f418e5cc4cdb095bfaab95690148e3157864,Merge branch 'master' into fix_links-in-mails-with-hyphen
311,https://api.github.com/repos/mozilla/bleach/pulls/302,302,Fix links in mails with hyphen,"Do not create a http link inside a mailto link

Partly fixes #300:

```py
>>> linkify('foo@exa-mple.com', parse_email=True)
'<a href=""mailto:foo@exa-mple.com"">foo@exa<a href=""http://-mple.com"" rel=""nofollow"">-mple.com</a></a>'
'<a href=""mailto:foo@exa-mple.com"">foo@exa-mple.com</a>'
```

but it does not fix this issue:

```py
>>> linkify('foo@bar-baz.com')
'foo@bar<a href=""http://-baz.com"" rel=""nofollow"">-baz.com</a>'
```",sedrubal,5571650,2017-08-27T18:24:01Z,CONTRIBUTOR,True,21,0,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,96540214a73356bbfd47c4e5245d34fd54df6b90,Merge branch 'master' into fix_links-in-mails-with-hyphen
312,https://api.github.com/repos/mozilla/bleach/pulls/301,301,Linkify and clean should accept only six.string_types,"Linkify and clean should accept only six.string_types and otherwise now they raise TypeError.

This PR solves the issue: #292 ",ivellios,200957,2017-08-26T20:14:59Z,CONTRIBUTOR,True,72,35,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,285676021a715be31794f062e6c297369b204aa6,args for linkify and clean must be six.string_types or raise TypeError
313,https://api.github.com/repos/mozilla/bleach/pulls/299,299,Add Greg to maintainers,,willkg,820826,2017-08-04T14:03:24Z,MEMBER,True,3,2,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a75f19c3d33eb1b91f4866c282ac2c2dfbe3ece3,Add Greg to maintainers
314,https://api.github.com/repos/mozilla/bleach/pulls/296,296,Clarify the dangers of using bleach.clean() output in html attributes,This clarifies the dangers usage of `bleach.clean` output in HTML attributes with examples and some other commentary.,willkg,820826,2017-07-31T15:18:27Z,MEMBER,True,56,7,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c89a09fd314fe68f17a52a877a6cf062a5eec668,Clarify the dangers of using bleach.clean() output in html attributes
315,https://api.github.com/repos/mozilla/bleach/pulls/293,293,143 entities,This fixes #143.,willkg,820826,2017-07-27T22:23:01Z,MEMBER,False,173,45,16,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,71ae273eee80f13950863ec8d176a666eff185bd,"Prevent HTMLTokenizer from unescaping entities

This overrides the HTMLTokenizer's .consumeEntity() method such that it doesn't
convert character entities.

This also fixes some other escaping/unescaping oddities so that the output of
bleach.clean() is more correct in regards to intended behavior.

One thing this breaks is the idempotent property for bleach.clean()--it's no
longer idempotent. Since it escapes text more correctly now and that's not an
idempotent transform, this is no longer idempotent.

For example, bleach.clean() can't differentiate between a user talking about
code and saying this:

   I like my html wrapped in <b>!

and this:

   I like my html escaped like this &lt;b&gt;!

I'm not sure why we thought bleach.clean() could ever be correct and idempotent.
Seems like that was an error."
316,https://api.github.com/repos/mozilla/bleach/pulls/293,293,143 entities,This fixes #143.,willkg,820826,2017-07-27T22:23:01Z,MEMBER,False,173,45,16,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9728ecab5e14a445944dcf9086ab449323399b07,"Fix documentation regarding use of bleach.clean in html attributes

As a note, this is clarifying something in the documentation that has always
been true of Bleach."
317,https://api.github.com/repos/mozilla/bleach/pulls/293,293,143 entities,This fixes #143.,willkg,820826,2017-07-27T22:23:01Z,MEMBER,False,173,45,16,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e3bb8369e8f85f189afc4af4f04670804a82044e,"Merge manual regression test in

We don't have the problem with \r anymore, so we can merge this in with the
other regression tests."
318,https://api.github.com/repos/mozilla/bleach/pulls/286,286,docs: Add XSS gadget safe escaping as a non-goal,Per IRC discussion. Please modify as necessary.,g-k,226605,2017-05-19T15:54:02Z,COLLABORATOR,True,12,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0aac93673be106b235e97d2834addc364e2faf08,docs: Add XSS gadget safe escaping as a non-goal
319,https://api.github.com/repos/mozilla/bleach/pulls/284,284,Fix html5lib requirements,Mark package compatible with html5lib versions >=1.0b9.,indivisible,937641,2017-05-02T06:18:29Z,CONTRIBUTOR,True,5,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5e41c6a5c2b43271c8ec142c83cc5b5de0de9328,Add >=1.0b9 to html5lib dependency
320,https://api.github.com/repos/mozilla/bleach/pulls/284,284,Fix html5lib requirements,Mark package compatible with html5lib versions >=1.0b9.,indivisible,937641,2017-05-02T06:18:29Z,CONTRIBUTOR,True,5,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a95e62d54a9cca98023de5c0088515e681f01418,"Add tox for html5lib 1.0b{9,10} versions"
321,https://api.github.com/repos/mozilla/bleach/pulls/284,284,Fix html5lib requirements,Mark package compatible with html5lib versions >=1.0b9.,indivisible,937641,2017-05-02T06:18:29Z,CONTRIBUTOR,True,5,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,64167be73944718e9b41aabdc9b6ce056e40bd9b,Fix html5lib version dependency format.
322,https://api.github.com/repos/mozilla/bleach/pulls/284,284,Fix html5lib requirements,Mark package compatible with html5lib versions >=1.0b9.,indivisible,937641,2017-05-02T06:18:29Z,CONTRIBUTOR,True,5,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0db6ee1ae3d8e119102ccf8da245ab59fd10dbde,Add tox dependencies for alternative html5lib versions
323,https://api.github.com/repos/mozilla/bleach/pulls/283,283,Adjust website tests,"* moves it to a directory name that I think is clearer in what it's for
* switches README.txt to README.rst",willkg,820826,2017-04-28T14:16:29Z,MEMBER,True,28,16,7,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5bcae14fe368ae7095b982552703f85e79777dd7,"Adjust website tests

* moves it to a directory name that I think is clearer in what it's for
* switches README.txt to README.rst"
324,https://api.github.com/repos/mozilla/bleach/pulls/278,278,Add comparison of Bleach vs html5lib to README,"Used notes provided by @willkg on #277 to add a short description of why Bleach may be preferable to html5lib’s built-in sanitizer.

Let me know if you think this should live somewhere else.",stucox,1165817,2017-04-13T12:24:40Z,CONTRIBUTOR,True,13,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d6604aa8965c2a7565a75bfc13bccef7318f2ec0,"Add comparison of Bleach vs html5lib to README

Used notes provided by @willkg on #277 to add a short description of why Bleach may be preferable to html5lib’s built-in sanitizer.

Let me know if you think this should live somewhere else."
325,https://api.github.com/repos/mozilla/bleach/pulls/278,278,Add comparison of Bleach vs html5lib to README,"Used notes provided by @willkg on #277 to add a short description of why Bleach may be preferable to html5lib’s built-in sanitizer.

Let me know if you think this should live somewhere else.",stucox,1165817,2017-04-13T12:24:40Z,CONTRIBUTOR,True,13,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,77f0c6c2393280857426fdab20a41c742a1e97fd,"Move ""Bleach vs html5lib"" comparison from README to Goals"
326,https://api.github.com/repos/mozilla/bleach/pulls/274,274,Add tests for linkify callbacks,"* adds tests for linkify callbacks
* fix linkify calls to always specify ""callbacks"" argument name",willkg,820826,2017-03-20T18:57:03Z,MEMBER,True,69,6,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1fa1c0c0b2eb23a6d13daa00dfb5b2cba3fe8c76,"Add tests for linkify callbacks

* adds tests for linkify callbacks
* fix linkify calls to always specify ""callbacks"" argument name"
327,https://api.github.com/repos/mozilla/bleach/pulls/273,273,Fixed KeyError exception on tags without href attr,,defsen,10106727,2017-03-20T17:53:38Z,CONTRIBUTOR,True,9,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b23c74c1ca5ffcbd308df93e79487fa92a6eb4a7,Fixed KeyError exception on tags without href attr
328,https://api.github.com/repos/mozilla/bleach/pulls/266,266,Lots of docs fixes,"* fixed autoclass calls
* added autodata things
* fixed errors in docs and docstrings and python modules and so on",willkg,820826,2017-03-07T16:06:13Z,MEMBER,True,122,46,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f84132a4c59b8e4486c4e712392067fd7041ac8e,"Lots of docs fixes

* fixed autoclass calls
* added autodata things
* fixed errors in docs and docstrings and python modules and so on"
329,https://api.github.com/repos/mozilla/bleach/pulls/265,265,Change skip_pre to the more general skip_tags,"This changes skip_pre to a more general skip_tags that lets you skip linkifying
in a specified list of tags--not just pre.

This fixes #194.",willkg,820826,2017-03-07T02:52:20Z,MEMBER,True,149,57,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9a617a52d6b5e81bd7ca8407f1e0810fc412cc2a,"Change skip_pre to the more general skip_tags

This changes skip_pre to a more general skip_tags that lets you skip linkifying
in a specified list of tags--not just pre."
330,https://api.github.com/repos/mozilla/bleach/pulls/264,264,Email re,This redoes #249 because I went and rewrote linkify.,willkg,820826,2017-03-07T02:07:24Z,MEMBER,True,10,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2cedde71bfa263ccf0ce76f630468912aa3f212f,"Correct dublicates in email_re

see #247"
331,https://api.github.com/repos/mozilla/bleach/pulls/264,264,Email re,This redoes #249 because I went and rewrote linkify.,willkg,820826,2017-03-07T02:07:24Z,MEMBER,True,10,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,77fa742d6bddb4565f79ea2480c7822c44d2357f,Add test incorrect email
332,https://api.github.com/repos/mozilla/bleach/pulls/263,263,Rework attributes value and filters,"This reworks how attributes argument works. Callables now take three arguments:
tag, attribute name and attribute value. Callables can be passed in as the
attributes argument value or as a value for any of the tags in the dict.

This also reworks the implementation so the complexity of the different shapes
is shuffled away out of ``allow_token`` which simplifies it a bit.

Fixes #126.",willkg,820826,2017-03-07T01:19:28Z,MEMBER,True,166,60,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a08454cdfea4bd758deab28e19084ccaa7388e1c,"Rework attributes value and filters

This reworks how attributes argument works. Callables now take three arguments:
tag, attribute name and attribute value. Callables can be passed in as the
attributes argument value or as a value for any of the tags in the dict.

This also reworks the implementation so the complexity of the different shapes
is shuffled away out of ``allow_token`` which simplifies it a bit."
333,https://api.github.com/repos/mozilla/bleach/pulls/262,262,More test cleanup,"* move linkify tests to test_linkify.py
* remove tests that are related to the previous implementation",willkg,820826,2017-03-06T21:33:58Z,MEMBER,True,29,54,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ef442862f6b0ee64e88570705bf4d287f80669c8,"More test cleanup

* move linkify tests to test_linkify.py
* remove tests that are related to the previous implementation"
334,https://api.github.com/repos/mozilla/bleach/pulls/261,261,Restructure linkify; clean up __init__; update docs,"This is a ton of changes all in one commit. Sorry.

* Restructures linkify so it mirrors clean. This has the nicety in that
  the two are parallel and can be used the same.
* Rework how url_re and email_re work so that it's possible to override
  them and/or provide your own list of allowed procotols and TLDs
* Overhaul the docs including converting linkify examples to doctest
* Update CHANGES",willkg,820826,2017-03-06T18:57:22Z,MEMBER,True,515,333,8,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,460aa6d3a95f5cc89f9589e8398491f3a5e2180d,"Restructure linkify; clean up __init__; update docs

This is a ton of changes all in one commit. Sorry.

* Restructures linkify so it mirrors clean. This has the nicety in that
  the two are parallel and can be used the same.
* Rework how url_re and email_re work so that it's possible to override
  them and/or provide your own list of allowed procotols and TLDs
* Overhaul the docs including converting linkify examples to doctest
* Update CHANGES"
335,https://api.github.com/repos/mozilla/bleach/pulls/261,261,Restructure linkify; clean up __init__; update docs,"This is a ton of changes all in one commit. Sorry.

* Restructures linkify so it mirrors clean. This has the nicety in that
  the two are parallel and can be used the same.
* Rework how url_re and email_re work so that it's possible to override
  them and/or provide your own list of allowed procotols and TLDs
* Overhaul the docs including converting linkify examples to doctest
* Update CHANGES",willkg,820826,2017-03-06T18:57:22Z,MEMBER,True,515,333,8,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,975091d0ba9c9ed4000d0c457eddbd03178ab44e,Minor fixes
336,https://api.github.com/repos/mozilla/bleach/pulls/260,260,Linkify,"This is a rewrite of linkify and all that stuff.

Fixes #46.

Fixes #200.

Fixes #130.",willkg,820826,2017-03-04T02:37:26Z,MEMBER,True,766,448,14,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,313478f17e7107fc659243be4309e6e0c9b86e30,"Reimplement linkify as an html5lib Filter

This reimplements linkify as an html5lib Filter. This has a few advantages:

1. it just has to consume a token stream which involves fewer dance steps to get
   things done

2. it can be used in conjunction with other Filters

3. it can now be used as a post-clean Filter for Cleaner letting you clean
   and linkify in one tree traversal"
337,https://api.github.com/repos/mozilla/bleach/pulls/260,260,Linkify,"This is a rewrite of linkify and all that stuff.

Fixes #46.

Fixes #200.

Fixes #130.",willkg,820826,2017-03-04T02:37:26Z,MEMBER,True,766,448,14,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f4333240eeb543b323e7f26d81dff58ce112fcb6,Update CHANGES
338,https://api.github.com/repos/mozilla/bleach/pulls/260,260,Linkify,"This is a rewrite of linkify and all that stuff.

Fixes #46.

Fixes #200.

Fixes #130.",willkg,820826,2017-03-04T02:37:26Z,MEMBER,True,766,448,14,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1199a6323e4e632d6ec984646d8a1eb1aee937ec,Update documentation
339,https://api.github.com/repos/mozilla/bleach/pulls/260,260,Linkify,"This is a rewrite of linkify and all that stuff.

Fixes #46.

Fixes #200.

Fixes #130.",willkg,820826,2017-03-04T02:37:26Z,MEMBER,True,766,448,14,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ddc39ec4a30c5a378976ca97664939c67420ebe5,Minor code cleanup and comments
340,https://api.github.com/repos/mozilla/bleach/pulls/260,260,Linkify,"This is a rewrite of linkify and all that stuff.

Fixes #46.

Fixes #200.

Fixes #130.",willkg,820826,2017-03-04T02:37:26Z,MEMBER,True,766,448,14,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6968e5d8eec7be235ea167d97c73ea2937ad0a59,Add tests for alphabetize_attributes
341,https://api.github.com/repos/mozilla/bleach/pulls/260,260,Linkify,"This is a rewrite of linkify and all that stuff.

Fixes #46.

Fixes #200.

Fixes #130.",willkg,820826,2017-03-04T02:37:26Z,MEMBER,True,766,448,14,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a1a85e9226e2be45a4eded6680b5ede4b2fa1e4c,Fix handling for over-eager url matching
342,https://api.github.com/repos/mozilla/bleach/pulls/260,260,Linkify,"This is a rewrite of linkify and all that stuff.

Fixes #46.

Fixes #200.

Fixes #130.",willkg,820826,2017-03-04T02:37:26Z,MEMBER,True,766,448,14,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,cf248b374796a90930c65d33013457871a553115,Add tests from #78
343,https://api.github.com/repos/mozilla/bleach/pulls/260,260,Linkify,"This is a rewrite of linkify and all that stuff.

Fixes #46.

Fixes #200.

Fixes #130.",willkg,820826,2017-03-04T02:37:26Z,MEMBER,True,766,448,14,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bb44c173700853c0da33a1cbb43632e95f54e885,"Move ""a"" tag handling to a method"
344,https://api.github.com/repos/mozilla/bleach/pulls/259,259,Implement ability to use Filters in cleaning,"This lets users extend cleaning more easily by specifying an html5lib Filter.

Fixes #58.",willkg,820826,2017-03-03T17:05:38Z,MEMBER,True,142,28,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c0602651f187af1d1b927e1cbf219af0a46ad7c3,"Implement ability to use Filters in cleaning

This lets users extend cleaning more easily by specifying an html5lib Filter."
345,https://api.github.com/repos/mozilla/bleach/pulls/258,258,Cleanup tests,,willkg,820826,2017-03-03T16:20:13Z,MEMBER,True,302,320,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a0b88285cf6bcf8a7050b96ba0632eecf998d6f1,"Cosmetic: Reorganize tests

This is entirely cosmetic reorganization of tests so it's easier to see test
coverage for clean vs. linkify."
346,https://api.github.com/repos/mozilla/bleach/pulls/258,258,Cleanup tests,,willkg,820826,2017-03-03T16:20:13Z,MEMBER,True,302,320,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b46c7ae058c1ad5f2d351f47e6e57a4dfa1591c3,Remove unneeded module
347,https://api.github.com/repos/mozilla/bleach/pulls/258,258,Cleanup tests,,willkg,820826,2017-03-03T16:20:13Z,MEMBER,True,302,320,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bd239771493c1ff6493fcff324e6512bbbb2028d,Add test for Cleaner and fix module import issue
348,https://api.github.com/repos/mozilla/bleach/pulls/257,257,Add cleaner,Fixes #257.,willkg,820826,2017-03-03T15:58:55Z,MEMBER,True,129,38,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,564b040d2e66a8af0ac97e5d4b28cc4aea4f24cb,"Add Cleaner

Bleach.clean() is often used on batches of content. This allows you to create a
Cleaner class that encapsulates all the clean arguments into a single instance
and ald reuses html5lib parser, walker and serializer."
349,https://api.github.com/repos/mozilla/bleach/pulls/257,257,Add cleaner,Fixes #257.,willkg,820826,2017-03-03T15:58:55Z,MEMBER,True,129,38,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a97f3eade7157b22b9d76ccb105f100347b0fe2f,Add docs for Cleaner
350,https://api.github.com/repos/mozilla/bleach/pulls/256,256,Refactor allow_token,"This redoes the innards of allow_token so that it's a single loop across all the
attributes in a token rather than a bunch of little passes.

This has less looping, so theoretically it's more optimal, but I didn't spend
any time testing that theory.",willkg,820826,2017-03-03T15:24:20Z,MEMBER,True,44,33,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a2c015bf23d239deed61341694c52839a5fa68bb,"Refactor allow_token

This redoes the innards of allow_token so that it's a single loop across all the
attributes in a token rather than a bunch of little passes.

This has less looping, so theoretically it's more optimal, but I didn't spend
any time testing that theory."
351,https://api.github.com/repos/mozilla/bleach/pulls/256,256,Refactor allow_token,"This redoes the innards of allow_token so that it's a single loop across all the
attributes in a token rather than a bunch of little passes.

This has less looping, so theoretically it's more optimal, but I didn't spend
any time testing that theory.",willkg,820826,2017-03-03T15:24:20Z,MEMBER,True,44,33,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,62eb131f48745264b1a0b1ccf5495d91349957ec,Fix linting error
352,https://api.github.com/repos/mozilla/bleach/pulls/256,256,Refactor allow_token,"This redoes the innards of allow_token so that it's a single loop across all the
attributes in a token rather than a bunch of little passes.

This has less looping, so theoretically it's more optimal, but I didn't spend
any time testing that theory.",willkg,820826,2017-03-03T15:24:20Z,MEMBER,True,44,33,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,73a205a01fef5d962ff9a9daee6ed041625ae828,Clean up code comments to be clearer
353,https://api.github.com/repos/mozilla/bleach/pulls/254,254,Fixed pypi badge URL,Capital letters dont seem to be working with badge.fury.io,vkotovv,1636249,2017-02-26T11:51:09Z,CONTRIBUTOR,True,2,2,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,19be3f56ecee18c2d43c8bb32bd5b070506449b8,"Fixed pypi badge URL

Capital letters dont seem to be working with badge.fury.io"
354,https://api.github.com/repos/mozilla/bleach/pulls/253,253,DOMPurify testcases,"This is a first pass at adding testcases from the DOMPurify fixtures (specifically https://raw.githubusercontent.com/cure53/DOMPurify/master/test/fixtures/expect.js).

I'm not sure:

1. the conversion script here is correct (with respect to character encodings and how to handle multiple expected values)
1. how closely bleach's behavior matches DOMPurify

However, Cure53 has done a lot of XSS work (e.g. for Github) so there should be some interesting vectors here to test for in bleach too.

Note: this is based off https://github.com/mozilla/bleach/pull/251 so it'll need to be rebased, but as it stands a bunch of the new tests fail so this isn't ready to go in anyway.",g-k,226605,2017-02-24T21:49:40Z,COLLABORATOR,False,1101,0,381,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,14ce11293e9f74009e4c9e55bec3039ac8106540,add test website and scripts
355,https://api.github.com/repos/mozilla/bleach/pulls/253,253,DOMPurify testcases,"This is a first pass at adding testcases from the DOMPurify fixtures (specifically https://raw.githubusercontent.com/cure53/DOMPurify/master/test/fixtures/expect.js).

I'm not sure:

1. the conversion script here is correct (with respect to character encodings and how to handle multiple expected values)
1. how closely bleach's behavior matches DOMPurify

However, Cure53 has done a lot of XSS work (e.g. for Github) so there should be some interesting vectors here to test for in bleach too.

Note: this is based off https://github.com/mozilla/bleach/pull/251 so it'll need to be rebased, but as it stands a bunch of the new tests fail so this isn't ready to go in anyway.",g-k,226605,2017-02-24T21:49:40Z,COLLABORATOR,False,1101,0,381,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,41349916a756c74ef1e249e5a93ce7e789b89a59,isolate in-browser tests; add option to insert unsafe
356,https://api.github.com/repos/mozilla/bleach/pulls/253,253,DOMPurify testcases,"This is a first pass at adding testcases from the DOMPurify fixtures (specifically https://raw.githubusercontent.com/cure53/DOMPurify/master/test/fixtures/expect.js).

I'm not sure:

1. the conversion script here is correct (with respect to character encodings and how to handle multiple expected values)
1. how closely bleach's behavior matches DOMPurify

However, Cure53 has done a lot of XSS work (e.g. for Github) so there should be some interesting vectors here to test for in bleach too.

Note: this is based off https://github.com/mozilla/bleach/pull/251 so it'll need to be rebased, but as it stands a bunch of the new tests fail so this isn't ready to go in anyway.",g-k,226605,2017-02-24T21:49:40Z,COLLABORATOR,False,1101,0,381,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,13dadf8e990f7773758bdac662ff0c9e87f345e0,unsafe and safe insert testcase vectors into dom
357,https://api.github.com/repos/mozilla/bleach/pulls/253,253,DOMPurify testcases,"This is a first pass at adding testcases from the DOMPurify fixtures (specifically https://raw.githubusercontent.com/cure53/DOMPurify/master/test/fixtures/expect.js).

I'm not sure:

1. the conversion script here is correct (with respect to character encodings and how to handle multiple expected values)
1. how closely bleach's behavior matches DOMPurify

However, Cure53 has done a lot of XSS work (e.g. for Github) so there should be some interesting vectors here to test for in bleach too.

Note: this is based off https://github.com/mozilla/bleach/pull/251 so it'll need to be rebased, but as it stands a bunch of the new tests fail so this isn't ready to go in anyway.",g-k,226605,2017-02-24T21:49:40Z,COLLABORATOR,False,1101,0,381,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,043a503b2f2e9a8d06e10b7bd60f60313f5c2ec3,wip: add dompurify test fixture cases
358,https://api.github.com/repos/mozilla/bleach/pulls/251,251,add test website and scripts,"refs: https://github.com/mozilla/bleach/issues/242 https://github.com/mozilla-services/foxsec/issues/133

This probably shouldn't go in as it stands, but I thought I'd document my changes here.

The test page was initially copied from https://cure53.de/purify (dual MPL 2 and Apache licensed which should be compatible) and requires some attribution.

glorious web 1.0 styles:

<img width=""1054"" alt=""screen shot 2017-02-22 at 7 41 58 pm"" src=""https://cloud.githubusercontent.com/assets/226605/23239754/059c90a0-f937-11e6-881a-577df825507d.png"">
",g-k,226605,2017-02-23T00:43:03Z,COLLABORATOR,True,295,0,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,14ce11293e9f74009e4c9e55bec3039ac8106540,add test website and scripts
359,https://api.github.com/repos/mozilla/bleach/pulls/251,251,add test website and scripts,"refs: https://github.com/mozilla/bleach/issues/242 https://github.com/mozilla-services/foxsec/issues/133

This probably shouldn't go in as it stands, but I thought I'd document my changes here.

The test page was initially copied from https://cure53.de/purify (dual MPL 2 and Apache licensed which should be compatible) and requires some attribution.

glorious web 1.0 styles:

<img width=""1054"" alt=""screen shot 2017-02-22 at 7 41 58 pm"" src=""https://cloud.githubusercontent.com/assets/226605/23239754/059c90a0-f937-11e6-881a-577df825507d.png"">
",g-k,226605,2017-02-23T00:43:03Z,COLLABORATOR,True,295,0,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,41349916a756c74ef1e249e5a93ce7e789b89a59,isolate in-browser tests; add option to insert unsafe
360,https://api.github.com/repos/mozilla/bleach/pulls/251,251,add test website and scripts,"refs: https://github.com/mozilla/bleach/issues/242 https://github.com/mozilla-services/foxsec/issues/133

This probably shouldn't go in as it stands, but I thought I'd document my changes here.

The test page was initially copied from https://cure53.de/purify (dual MPL 2 and Apache licensed which should be compatible) and requires some attribution.

glorious web 1.0 styles:

<img width=""1054"" alt=""screen shot 2017-02-22 at 7 41 58 pm"" src=""https://cloud.githubusercontent.com/assets/226605/23239754/059c90a0-f937-11e6-881a-577df825507d.png"">
",g-k,226605,2017-02-23T00:43:03Z,COLLABORATOR,True,295,0,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,13dadf8e990f7773758bdac662ff0c9e87f345e0,unsafe and safe insert testcase vectors into dom
361,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ef0c48765c160f5724d915770060a095cbc69dda,Update dev requirements
362,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,567eebb53e0716f6d267fa8951c548d63bf78a70,"Overhaul bleach to use html5lib >= 0.99999999

This is a bleach rewrite to use the new sanitizer API in html5lib 0.99999999.
The new API happens as a filter when emitting the tree rather than in
the tokenizer. Because of that, the output of .clean() and .linkify() are
different than in previous versions of bleach."
363,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3db588a5ed8b43da8324547b23ad5670b459ee9e,"Update security regression tests

I also moved test_nasty to the regression tests because it's just like those."
364,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,02facd34b02cd9d9e16b547e07b07ddd3db40455,"Minor code cleanup

* address FIXMEs
* minor cleanup to code and comments"
365,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,10852231012ae3eece9c0a2af5c6c7c8e2e5212f,Update CHANGES and docs
366,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,066631af96ee9c16ddcf9d132bd8537a4af17da6,Update .travis.yml
367,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,30772dd20f16a8ec75f7c1ddb7b76c9ff6fd97d2,Another .travis.yml fix
368,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,85cc802584f4290556b14e50384c2ed6bb6959b6,One more .travis.yml fix
369,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4cca43b5f41a4cc157fa2e6f5dd5185f70cb7a6c,Fix flake8 issues
370,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,49f35dd27317019e47febed1c0c507177297a8af,"Add tests, fix alphabetizing, code cleanup

* this adds some missing tests to add more coverage
* html5lib 0.99999999 and 0.999999999 have an alphabeticalattributes filter that
  doesn't work when the attributes set has some items with a namespace and some
  without in Python 3; this rolls alphabetizing into the Bleach sanitizer
* remove some dead code and clean some other code up"
371,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,70d96e390c1525d8508436d8582daa49357fdf3e,"Alphabetize before escaping disallowed tokens

Making this change means the output is stable since attributes will always
happen in the same order. Seems like maybe it's not a great idea, but stable
seems good. If it turns out this is terrible, someone will complain with a
compelling use case and we can undo it.

I also went through and removed a bunch of the ""the output is either this or
that"" in the tests."
372,https://api.github.com/repos/mozilla/bleach/pulls/250,250,Rewrite to use html5lib >= 0.99999999,"This needs another going over. Plus I bumped into a few areas that don't have behavior tests, so it's possible there are things that are broken or not finished, yet. I'll keep working on those.

Fixes #229 ",willkg,820826,2017-02-22T01:46:09Z,MEMBER,True,411,260,28,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,86dea93c17d96a237acd2543264ba27d83f15d79,Cosmetic fix for readability
373,https://api.github.com/repos/mozilla/bleach/pulls/249,249,Correct dublicates in email_re,see #247,tonal,316216,2017-02-21T16:50:05Z,CONTRIBUTOR,False,10,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,692383471cc4d0050d182926c84d2bf45e94c31d,"Correct dublicates in email_re

see #247"
374,https://api.github.com/repos/mozilla/bleach/pulls/249,249,Correct dublicates in email_re,see #247,tonal,316216,2017-02-21T16:50:05Z,CONTRIBUTOR,False,10,3,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6880e1749b424341da6686d122b04257410856cd,Add test incorrect email
375,https://api.github.com/repos/mozilla/bleach/pulls/243,243,Support linkify() callbacks to replace attributes for tags other than <a>,"This will allow, for example, to replace URLs in <img src="""">

See mozilla/bleach#76

In the long term, it might be worth refactoring linkify() a bit, to reduce complexity in that single function and make it more extensible instead.. but I think this should do for now. Comments?

Also, happy new year! 🎉 ",rshk,434561,2016-12-31T17:51:09Z,NONE,False,37,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,60920098d3609a00fe17ba26529798c80e318256,"Support callbacks to replace attributes for tags other than <a>

This will allow, for example, to replace URLs in <img src="""">"
376,https://api.github.com/repos/mozilla/bleach/pulls/241,241,Add regression tests,"We're getting ready to overhaul bleach to use html5lib 0.99999999+.
Before doing that, I wanted to add more regression tests so I can verify
when/how things change. This adds those.

These tests come from the OWASP Testing Guide 4.0 appendix in the Cross
Site Scripting section.",willkg,820826,2016-12-19T20:42:28Z,MEMBER,True,73,0,35,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2900b1020a99e11298fe295f230989c61695e289,"Add regression tests

We're getting ready to overhaul bleach to use html5lib 0.99999999+.
Before doing that, I wanted to add more regression tests so I can verify
when/how things change. This adds those.

These tests come from the OWASP Testing Guide 4.0 appendix in the Cross
Site Scripting section."
377,https://api.github.com/repos/mozilla/bleach/pulls/240,240,Remove support for Python 2.6 and 3.2,"Fixes #206
Fixes #224",willkg,820826,2016-12-08T02:12:43Z,MEMBER,True,12,28,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,38c2ce9775a6083622aeed7a048740567f312cbc,"Remove support for Python 2.6 and 3.2

Fixes #206
Fixes #224"
378,https://api.github.com/repos/mozilla/bleach/pulls/235,235,Fix linkify with node tails,"When linkify is removing nodes, it wasn't capturing the node tail text.
Thus it'd lose text it shouldn't have been losing.

Fixes #132",willkg,820826,2016-11-03T15:31:48Z,MEMBER,True,38,14,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,86982ef08b3d458b2fc8cacfb950d7d80971c1ac,"Fix linkify with node tails

When linkify is removing nodes, it wasn't capturing the node tail text.
Thus it'd lose text it shouldn't have been losing.

Fixes #132"
379,https://api.github.com/repos/mozilla/bleach/pulls/235,235,Fix linkify with node tails,"When linkify is removing nodes, it wasn't capturing the node tail text.
Thus it'd lose text it shouldn't have been losing.

Fixes #132",willkg,820826,2016-11-03T15:31:48Z,MEMBER,True,38,14,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ed215532f1b96f8c32fdcfc027b269778e96fa20,Update CHANGES
380,https://api.github.com/repos/mozilla/bleach/pulls/233,233,Clarify docs regarding appropriate use cases and goals,"This clarifies some of the guiding principles behind what bleach is for
and not for so it's clearer to users whether their needs will be met.",willkg,820826,2016-11-02T14:17:58Z,MEMBER,True,64,24,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4e868219083a0bd6799e5a47b521d20847640661,"Clarify docs regarding appropriate use cases and goals

This clarifies some of the guiding principles behind what bleach is for
and not for so it's clearer to users whether their needs will be met."
381,https://api.github.com/repos/mozilla/bleach/pulls/233,233,Clarify docs regarding appropriate use cases and goals,"This clarifies some of the guiding principles behind what bleach is for
and not for so it's clearer to users whether their needs will be met.",willkg,820826,2016-11-02T14:17:58Z,MEMBER,True,64,24,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,be9ddd8c991eea8b2118972aa46547906333d6b4,Fix issues
382,https://api.github.com/repos/mozilla/bleach/pulls/232,232,"Add support for ""python setup.py test""",,willkg,820826,2016-11-02T13:55:43Z,MEMBER,True,18,1,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,93ac61f6969fb1c0290febaed2fc7e161dc02d7e,"Add support for ""python setup.py test"""
383,https://api.github.com/repos/mozilla/bleach/pulls/231,231,Travis html5lib,,willkg,820826,2016-11-01T13:38:49Z,MEMBER,True,30,15,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e8649dfa7d1a758eba2558240123f0c1cedc735e,"Nix duplicate requirements; add english description of html5lib versions

The requirements.txt file specified requirements already in setup.py, so
there's no point in having both versions. Therefore I nixed the ones in
requirements.txt.

The html5lib versions are hard to read, so I added english descriptions
of them."
384,https://api.github.com/repos/mozilla/bleach/pulls/231,231,Travis html5lib,,willkg,820826,2016-11-01T13:38:49Z,MEMBER,True,30,15,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,feaad361ce840f080c81b4c88f5d8b60190807c5,"Fix .travis.yml and tox.ini to test multiple html5lib versions

This fixes .travis.yml and tox.ini to test multiple html5lib versions
that we allegedly support."
385,https://api.github.com/repos/mozilla/bleach/pulls/231,231,Travis html5lib,,willkg,820826,2016-11-01T13:38:49Z,MEMBER,True,30,15,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8f879871a60cb6cd5e3b610fbc01c884633c1ecf,"Remove support for html5lib 0.9999 and 0.99999

html5lib 0.9999 and 0.99999 have a bug about relative urls and the
bleach tests fail with those two versions. Given that, this removes
support for both of those.

Additionally, I tweaked the CHANGES file a bit."
386,https://api.github.com/repos/mozilla/bleach/pulls/228,228,Do not add trailing period when email address is at the end of a sent…,This fixes PR #219 which I broke when I pushed py.test rewrite.,willkg,820826,2016-10-31T20:14:00Z,MEMBER,True,8,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0c070f6733501b5e2bb3c36e7946f7229b94b79b,Do not add trailing period when email address is at the end of a sentence
387,https://api.github.com/repos/mozilla/bleach/pulls/227,227,Fix test_idempotent to not sometimes fail,"linkify can return text with html attributes in a different order
depending on how the attributes come out of the attrs dict. Because of
that, there are several possible outcomes.

This fixes the linkify test to accept both of them.

Fixes #161",willkg,820826,2016-10-31T19:46:26Z,MEMBER,True,5,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3cd9d32371b0e03d33071eb82735dc48e3f91a6e,"Fix test_idempotent to not sometimes fail

linkify can return text with html attributes in a different order
depending on how the attributes come out of the attrs dict. Because of
that, there are several possible outcomes.

This fixes the linkify test to accept both of them.

Fixes #161"
388,https://api.github.com/repos/mozilla/bleach/pulls/227,227,Fix test_idempotent to not sometimes fail,"linkify can return text with html attributes in a different order
depending on how the attributes come out of the attrs dict. Because of
that, there are several possible outcomes.

This fixes the linkify test to accept both of them.

Fixes #161",willkg,820826,2016-10-31T19:46:26Z,MEMBER,True,5,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4df81b9b6fdf1e4d38715e6e77b22b7e22a30152,Fix the test I just broke
389,https://api.github.com/repos/mozilla/bleach/pulls/226,226,Allow travis to fail with Python 2.6 and 3.2,"It's failing now with Python 2.6 because flake8 doesn't work with Python
2.6. It's failing with Python 3.2 because py.test doesn't work with
Python 3.2.

I'm not quite ready to drop support for both of them, though. So for
now, let's allow the failures.",willkg,820826,2016-10-31T19:25:06Z,MEMBER,True,4,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7a6ab9d3fb7f61d71d4215f5ee308c266cbe8454,"Allow travis to fail with Python 2.6 and 3.2

It's failing now with Python 2.6 because flake8 doesn't work with Python
2.6. It's failing with Python 3.2 because py.test doesn't work with
Python 3.2.

I'm not quite ready to drop support for both of them, though. So for
now, let's allow the failures."
390,https://api.github.com/repos/mozilla/bleach/pulls/225,225,Use ASCII digits in port number parsing,This fixes PR #207 which broke when I converted to py.test.,willkg,820826,2016-10-31T19:08:40Z,MEMBER,True,8,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4d749c9e36d95b852d470537a0b03bdb06e7f5fc,Use ASCII digits in port number parsing
391,https://api.github.com/repos/mozilla/bleach/pulls/222,222,Pytest rewrite,,willkg,820826,2016-10-31T18:08:41Z,MEMBER,True,1074,906,15,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7aebc95eb95224f9303762adfbbce70689ad4b81,Change requirements to use py.test
392,https://api.github.com/repos/mozilla/bleach/pulls/222,222,Pytest rewrite,,willkg,820826,2016-10-31T18:08:41Z,MEMBER,True,1074,906,15,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,01f8cf62d9e70948d412d9dc48b0216d2edec216,Move tests out of the code root
393,https://api.github.com/repos/mozilla/bleach/pulls/222,222,Pytest rewrite,,willkg,820826,2016-10-31T18:08:41Z,MEMBER,True,1074,906,15,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,04f49ff1f93ec6344479a226df5b02cf5bf5a715,Update dev requirements to latest
394,https://api.github.com/repos/mozilla/bleach/pulls/222,222,Pytest rewrite,,willkg,820826,2016-10-31T18:08:41Z,MEMBER,True,1074,906,15,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6c070a8a132f9de3b57d9293fa0aebdfa5ce3af7,Rewrite test_basics.py to work with py.test
395,https://api.github.com/repos/mozilla/bleach/pulls/222,222,Pytest rewrite,,willkg,820826,2016-10-31T18:08:41Z,MEMBER,True,1074,906,15,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,30637ed15a7912af215c1b4ac141b1e41f5ef2f7,Rewrite test_css.py to work with py.test
396,https://api.github.com/repos/mozilla/bleach/pulls/222,222,Pytest rewrite,,willkg,820826,2016-10-31T18:08:41Z,MEMBER,True,1074,906,15,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,dbfb5401922c6b252f0ccb8cb3279d11ea51809b,Rewrite test_links.py to work with py.test
397,https://api.github.com/repos/mozilla/bleach/pulls/222,222,Pytest rewrite,,willkg,820826,2016-10-31T18:08:41Z,MEMBER,True,1074,906,15,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,530fcd283c9eab23a72739ae60e37acf16f23eec,Rewrite test_security.py to work with py.test
398,https://api.github.com/repos/mozilla/bleach/pulls/222,222,Pytest rewrite,,willkg,820826,2016-10-31T18:08:41Z,MEMBER,True,1074,906,15,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,76f54caf0c4b3b53a2708b3a1f45f83c2be346eb,Rewrite test_unicode.py to work with py.test
399,https://api.github.com/repos/mozilla/bleach/pulls/222,222,Pytest rewrite,,willkg,820826,2016-10-31T18:08:41Z,MEMBER,True,1074,906,15,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ba7a7825b25a628e2810279b75d9254f6caee199,Update travis and tox files to use py.test
400,https://api.github.com/repos/mozilla/bleach/pulls/221,221,Stop linkify from hanging on weird email input - should fix #200,"I fixed the hanging issue, but the output looks...wrong:

``` html
<a href=""mailto:an@email.com"">an@email.com</a>&lt;mailto:&lt;a href=""mailto:an@email.com""&gt;an@email.com&gt;
```

And that renders (GitHub linkified the second and third addresses so ignore those) as:

> <a href=""mailto:an@email.com"">an@email.com</a>&lt;mailto:&lt;a href=""mailto:an@email.com""&gt;an@email.com&gt;

Flipping `parse_email` to `False` seems to return something more sensible:

``` html
an@email.com&lt;<a href=""mailto:an@email.com"">mailto:an@email.com</a>&gt;
```

because that renders (GitHub linkified the first address so ignore that) as:

> an@email.com&lt;<a href=""mailto:an@email.com"">mailto:an@email.com</a>&gt;

But doing that prevents `linkify` from hanging to begin with.

I can't tell if this is the intended behavior or not, but it's not hanging anymore.

@willkg I guess merge if you're happy with this. If not, let me know what the expected output is in each case.
",blag,597113,2016-10-22T09:07:05Z,NONE,False,2,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,37577468cf113e65f62ca632d2a1ebdb74515e0c,Stop linkify from hanging on weird email input - should fix #200
401,https://api.github.com/repos/mozilla/bleach/pulls/220,220,ref #204 - Move test_suite to pytest,"ref #204 
#### Move to unittests to pytest

Flake8 on python2.6 is not supported anymore as detailed here:
https://gitlab.com/pycqa/flake8/issues/187

Tests pass except:
- flake8 on python 2.6
- string formatting syntax on python 3.2 (can't find the documentation anymore of python 3.2). Does bleach wants to still support python 3.2?

https://travis-ci.org/mozilla/bleach/builds/165500484
",FlogFr,5289998,2016-10-06T10:39:13Z,NONE,False,249,244,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6204f6e923edba755c6088b00d70fbfc824269be,ref #204 - Move test_suite to pytest
402,https://api.github.com/repos/mozilla/bleach/pulls/219,219,Do not add trailing period when email address is at the end of a sentence,,znerol,23288,2016-09-09T08:26:29Z,CONTRIBUTOR,False,5,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,52289099ab6b60daf1bf4a809f091a8509fc5782,Do not add trailing period when email address is at the end of a sentence
403,https://api.github.com/repos/mozilla/bleach/pulls/218,218,Remove support for Python 2.6,"Fixes #206
",jdufresne,347634,2016-09-07T01:26:51Z,COLLABORATOR,False,8,26,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8d48373d830eec6f76fe85d5e47cf096fdb9c7db,"Remove support for Python 2.6

Fixes #206"
404,https://api.github.com/repos/mozilla/bleach/pulls/215,215,html5lib moved location of sanitizer for ver 0.99999999 and up,"I was getting an error with bleach with the latest version of html5lib, version 0.99999999. Appears the import for HTMLSanitizer has moved locations. Not sure if this is the best way to fix this but worked with 0.9999 and 0.999999999.
",haganf,4603500,2016-07-22T16:15:35Z,NONE,False,4,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e69137e145971b51e9e3e574e79d5be2fddfdcc8,fix for new version of htmllib
405,https://api.github.com/repos/mozilla/bleach/pulls/214,214,Pin down the version of html5lib,"Version `0.999999999` has some breaking changes:

```
   File ""/var/lib/jenkins/workspace/app/env/lib/python2.7/site-packages/bleach/__init__.py"", line 8, in <module>
     from html5lib.sanitizer import HTMLSanitizer
 ImportError: No module named sanitizer
```
",AntonNguyen,659985,2016-07-21T12:44:44Z,NONE,False,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6aa17f88802080f0f8e56eefca852d2d152cf739,Pin down this version of html5lib. Version 0.999999999 has some breaking changes.
406,https://api.github.com/repos/mozilla/bleach/pulls/213,213,changed max prereq to 0.9999999 as 0.99999999 was created a couple of…,"… days ago and was even not backward compatible so that bleach breaks. See https://github.com/mozilla/bleach/issues/212
",matthiaskubik,18662324,2016-07-18T11:39:43Z,NONE,False,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,be09c3fe7226cd19afbc366d05eaa9a85f71a444,changed max prereq to 0.9999999 as 0.99999999 was created a couple of days ago and was even not backward compatible so that bleach breaks. See https://github.com/mozilla/bleach/issues/212
407,https://api.github.com/repos/mozilla/bleach/pulls/210,210,Auto-release to PyPI on tag. Fix #209.,"This also makes wheel files be universal (Python 2 & 3).
",jezdez,1610,2016-06-21T14:48:45Z,MEMBER,True,27,11,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c28b9e37ed659a588e49bf7bf1881ec4e6d7bc25,"Auto-release to PyPI on tag. Fix #209.

This also makes wheel files be universal (Python 2 & 3)."
408,https://api.github.com/repos/mozilla/bleach/pulls/207,207,Use ASCII digits in port number parsing,"Currently, bleach accepts (linkyfies) the following “URLs”:
- `http://foo.com:𝟠𝟘𝟠𝟘/`
- `http://foo.com:٣٩٩٩/`

That is because the `\d` modifier of Python unicode regular expressions matches all digits in the Nd block ([search for `category [Nd]` here](https://docs.python.org/3.5/library/re.html#regular-expression-syntax)), and there are [many things](http://www.fileformat.info/info/unicode/category/Nd/list.htm) in there.

This PR replaces `\d` with `[0-9]+` and two test URLs to assert these links are not recognized.
## 

Note: an alternative would be to use the `re.ASCII` flag but:
- it's hard to be compatible with Python 2
- it may not be appropriate because we _do_ want to match funky unicode chars in other parts of the URL
## 

Note: funnily enough, GitHub-flavored markdown also linkyfies them! http://foo.com:𝟠𝟘𝟠𝟘/
",Zopieux,81353,2016-06-18T23:10:16Z,CONTRIBUTOR,False,5,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3543d864c7f97191b51d3df8b56e729cb8414a0f,Use ASCII digits in port number parsing
409,https://api.github.com/repos/mozilla/bleach/pulls/205,205,Children of <pre> tags should not be linkified when skip_pre=True,"Fixes #150

r?
",willkg,820826,2016-06-14T16:16:47Z,MEMBER,True,8,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9bd8f721f2eabc5a014f33e7053e03bbba98c736,"Children of <pre> tags should not be linkified when skip_pre=True

Fixes #150"
410,https://api.github.com/repos/mozilla/bleach/pulls/203,203,182 nullhandler,"This picks up the commit from #183 and adds another commit that fixes the issue that was having with Travis.

r?
",willkg,820826,2016-06-14T15:35:38Z,MEMBER,True,8,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f635db1718db681afa712da98e0ca76e3a70d298,"Fix logging when there's no handler

Added NullHandler to logging, to prevent ""No handlers could be found for
logger ""bleach"""" warnings in applications that haven't set up logging
properly.

Fixes #182"
411,https://api.github.com/repos/mozilla/bleach/pulls/203,203,182 nullhandler,"This picks up the commit from #183 and adds another commit that fixes the issue that was having with Travis.

r?
",willkg,820826,2016-06-14T15:35:38Z,MEMBER,True,8,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,86af2305f2f4e04ca9f62a00cae7cfba782bc20e,"Fix log so it's not None

Fixes #182"
412,https://api.github.com/repos/mozilla/bleach/pulls/202,202,Fix linkify edge case with ending ),"It's common to put urls in parentheses. Sometimes the url_re will pick
up end parentheses that are part of the parenthetical, but shouldn't be
part of the url. This fix alleviates that somewhat by checking to see if
the url has a ( and if not, stripping any ) from the end. This assumes
that urls won't end in ) without also having a ( in them.

This is based on a fix from Istvan Albert.

Fixes #190 

r?
",willkg,820826,2016-06-14T15:15:28Z,MEMBER,True,18,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,592972bd12962bed9ca1f5af551199828a678be1,"Fix linkify edge case with ending )

It's common to put urls in parentheses. Sometimes the url_re will pick
up end parentheses that are part of the parenthetical, but shouldn't be
part of the url. This fix alleviates that somewhat by checking to see if
the url has a ( and if not, stripping any ) from the end. This assumes
that urls won't end in ) without also having a ( in them.

This is based on a fix from Istvan Albert.

Fixes #190"
413,https://api.github.com/repos/mozilla/bleach/pulls/199,199,Add param to remove contents inside a disallowed tag,"closes #185
",aysonje,1308611,2016-05-27T13:23:40Z,NONE,False,41,5,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6c71c1e22ece02dba4efc4a7f5a20dfdbb5530f1,Add param to remove contents inside a disallowed tag
414,https://api.github.com/repos/mozilla/bleach/pulls/199,199,Add param to remove contents inside a disallowed tag,"closes #185
",aysonje,1308611,2016-05-27T13:23:40Z,NONE,False,41,5,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,86545ee497ba4fc6aa8fde1ebc33e2a41aaa1fa0,add tests
415,https://api.github.com/repos/mozilla/bleach/pulls/199,199,Add param to remove contents inside a disallowed tag,"closes #185
",aysonje,1308611,2016-05-27T13:23:40Z,NONE,False,41,5,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ae9c9d39dc137a2905e0856f81bede63fa5384d4,fix skipping allowed tags when there is an unmatched tag
416,https://api.github.com/repos/mozilla/bleach/pulls/199,199,Add param to remove contents inside a disallowed tag,"closes #185
",aysonje,1308611,2016-05-27T13:23:40Z,NONE,False,41,5,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b9eab16434479dfbd0d0ab159bbdd0b7219d15ce,fix line length errors
417,https://api.github.com/repos/mozilla/bleach/pulls/198,198,Unify version information to rely on a single source.,"For issue #197. I used a separate `version.py` (as per http://stackoverflow.com/a/24517154/112943) since directly importing `__init__.py` doesn't work if you don't have dependencies installed.
",TimDumol,49169,2016-05-27T12:48:46Z,CONTRIBUTOR,True,31,7,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,26aac508617a2ad298479f2cd4cffe1b788d92f0,Unify version information to rely on a single source.
418,https://api.github.com/repos/mozilla/bleach/pulls/195,195,Limit html5lib version before sanitizer API changes get released,"Now https://github.com/html5lib/html5lib-python/pull/110 has landed, Bleach needs to limit its version of html5lib until it's changed to follow the new API. (This is likely going to be the last breaking API change that will affect Bleach until 2.0.)
",gsnedders,176218,2016-05-18T17:04:57Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d0b3af80c723a0407e6dad8e6b2070829aef8f07,Limit html5lib version before sanitizer API changes get released.
419,https://api.github.com/repos/mozilla/bleach/pulls/188,188,Content of <pre> tags should not be linkified when skip_pre=True,"Closes #150 and possibly #162
",ialbert,46249,2016-02-02T18:49:18Z,CONTRIBUTOR,False,46,13,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f4cd6ae1676fdd36e298ef43ad4dff041390a073,Bugfix: Children of <pre> tags should not be linkified when skip_pre=True
420,https://api.github.com/repos/mozilla/bleach/pulls/188,188,Content of <pre> tags should not be linkified when skip_pre=True,"Closes #150 and possibly #162
",ialbert,46249,2016-02-02T18:49:18Z,CONTRIBUTOR,False,46,13,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0d79c120455dd5183a1b46b81c8952c1a2c8dd14,Content of <pre> tags should not be linkified when skip_pre=True
421,https://api.github.com/repos/mozilla/bleach/pulls/188,188,Content of <pre> tags should not be linkified when skip_pre=True,"Closes #150 and possibly #162
",ialbert,46249,2016-02-02T18:49:18Z,CONTRIBUTOR,False,46,13,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,292621c38ec41da0c520c09eb0f5d4a62972ba0e,just making flake8 happy
422,https://api.github.com/repos/mozilla/bleach/pulls/188,188,Content of <pre> tags should not be linkified when skip_pre=True,"Closes #150 and possibly #162
",ialbert,46249,2016-02-02T18:49:18Z,CONTRIBUTOR,False,46,13,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,cb6c6f4fdec24620a24f40d6122417dc6095afde,fixed a corner case with URL autolinking
423,https://api.github.com/repos/mozilla/bleach/pulls/187,187,Content of <pre> tags should not be linkified when skip_pre=True,"Closes #150 and possibly #162
",ialbert,46249,2016-02-02T18:04:40Z,CONTRIBUTOR,False,10,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f4cd6ae1676fdd36e298ef43ad4dff041390a073,Bugfix: Children of <pre> tags should not be linkified when skip_pre=True
424,https://api.github.com/repos/mozilla/bleach/pulls/187,187,Content of <pre> tags should not be linkified when skip_pre=True,"Closes #150 and possibly #162
",ialbert,46249,2016-02-02T18:04:40Z,CONTRIBUTOR,False,10,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0d79c120455dd5183a1b46b81c8952c1a2c8dd14,Content of <pre> tags should not be linkified when skip_pre=True
425,https://api.github.com/repos/mozilla/bleach/pulls/186,186,Bugfix: Content of <pre> tags should not be linkified when skip_pre=…,"Closes #150 and possibly #162
",ialbert,46249,2016-02-02T17:59:58Z,CONTRIBUTOR,False,9,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f4cd6ae1676fdd36e298ef43ad4dff041390a073,Bugfix: Children of <pre> tags should not be linkified when skip_pre=True
426,https://api.github.com/repos/mozilla/bleach/pulls/184,184,Docs updates,"This is a bunch of updates to the documentation to:
1. add examples of usage for things that didn't have examples
2. make all examples testable (which uncovered a typo)
3. reduce duplication between README and docs
4. surface CHANGES in the docs (issue #180)
5. add release dates to versions in CHANGES based on tag dates
",willkg,820826,2015-12-11T03:14:35Z,MEMBER,True,258,173,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,72b4cf30841e05067981dedb63f60631616eed8d,Add Andreas to CONTRIBUTORS
427,https://api.github.com/repos/mozilla/bleach/pulls/184,184,Docs updates,"This is a bunch of updates to the documentation to:
1. add examples of usage for things that didn't have examples
2. make all examples testable (which uncovered a typo)
3. reduce duplication between README and docs
4. surface CHANGES in the docs (issue #180)
5. add release dates to versions in CHANGES based on tag dates
",willkg,820826,2015-12-11T03:14:35Z,MEMBER,True,258,173,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bec703718d59f75909e983d161374df21fd04874,Add note about protocols arg in clean to CHANGES
428,https://api.github.com/repos/mozilla/bleach/pulls/184,184,Docs updates,"This is a bunch of updates to the documentation to:
1. add examples of usage for things that didn't have examples
2. make all examples testable (which uncovered a typo)
3. reduce duplication between README and docs
4. surface CHANGES in the docs (issue #180)
5. add release dates to versions in CHANGES based on tag dates
",willkg,820826,2015-12-11T03:14:35Z,MEMBER,True,258,173,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c3ed34363a4f5026dfea988d4a080411bd82ed36,Add dates to releases in CHANGES
429,https://api.github.com/repos/mozilla/bleach/pulls/184,184,Docs updates,"This is a bunch of updates to the documentation to:
1. add examples of usage for things that didn't have examples
2. make all examples testable (which uncovered a typo)
3. reduce duplication between README and docs
4. surface CHANGES in the docs (issue #180)
5. add release dates to versions in CHANGES based on tag dates
",willkg,820826,2015-12-11T03:14:35Z,MEMBER,True,258,173,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bf4e0935c666d83f516c8442a9f9a5aad8b2c493,Add docstring to bleach.clean
430,https://api.github.com/repos/mozilla/bleach/pulls/184,184,Docs updates,"This is a bunch of updates to the documentation to:
1. add examples of usage for things that didn't have examples
2. make all examples testable (which uncovered a typo)
3. reduce duplication between README and docs
4. surface CHANGES in the docs (issue #180)
5. add release dates to versions in CHANGES based on tag dates
",willkg,820826,2015-12-11T03:14:35Z,MEMBER,True,258,173,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9c4c698bffd0032bdaf36c9bfbd524cf204b03dd,"Reduce some duplication between README and docs

The README was essentially duplicated on the front page of the
docs. This changes it so that the front page of the docs included the
README so we don't have the duplication."
431,https://api.github.com/repos/mozilla/bleach/pulls/184,184,Docs updates,"This is a bunch of updates to the documentation to:
1. add examples of usage for things that didn't have examples
2. make all examples testable (which uncovered a typo)
3. reduce duplication between README and docs
4. surface CHANGES in the docs (issue #180)
5. add release dates to versions in CHANGES based on tag dates
",willkg,820826,2015-12-11T03:14:35Z,MEMBER,True,258,173,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d829e1558d70682a641bb0a9ddfc66eefb131f2e,"Add CHANGES to docs

Surfaces the changes to the docs for bleach.

Fixes #180"
432,https://api.github.com/repos/mozilla/bleach/pulls/184,184,Docs updates,"This is a bunch of updates to the documentation to:
1. add examples of usage for things that didn't have examples
2. make all examples testable (which uncovered a typo)
3. reduce duplication between README and docs
4. surface CHANGES in the docs (issue #180)
5. add release dates to versions in CHANGES based on tag dates
",willkg,820826,2015-12-11T03:14:35Z,MEMBER,True,258,173,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,37431401bcd8e37209fdca9235289a8c1fb3877e,"Clean up clean docs

* change all the examples to doctests that we can test with ""make doctests""
* add some minor autodocs bits
* clean up some of the text"
433,https://api.github.com/repos/mozilla/bleach/pulls/184,184,Docs updates,"This is a bunch of updates to the documentation to:
1. add examples of usage for things that didn't have examples
2. make all examples testable (which uncovered a typo)
3. reduce duplication between README and docs
4. surface CHANGES in the docs (issue #180)
5. add release dates to versions in CHANGES based on tag dates
",willkg,820826,2015-12-11T03:14:35Z,MEMBER,True,258,173,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8f541fa3f904751adf4f9bc29887c62345ed4cd3,Fix README.rst link to changes
434,https://api.github.com/repos/mozilla/bleach/pulls/184,184,Docs updates,"This is a bunch of updates to the documentation to:
1. add examples of usage for things that didn't have examples
2. make all examples testable (which uncovered a typo)
3. reduce duplication between README and docs
4. surface CHANGES in the docs (issue #180)
5. add release dates to versions in CHANGES based on tag dates
",willkg,820826,2015-12-11T03:14:35Z,MEMBER,True,258,173,9,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7b3e341e533e62e639cfaa1f3fac6147eaf0a3af,"Add CHANGES to setup.py long_description

This adds the CHANGES to the long_description so it shows up in PyPI
on the package page. This surfaces warnings for backwards-incompatible
changes there where users might be looking.

Fixes #180"
435,https://api.github.com/repos/mozilla/bleach/pulls/183,183,Added NullHandler to logging,"Added NullHandler to logging, to prevent ""No handlers could be found for logger ""bleach"""" warnings in applications that haven't set up logging properly. 

Fixes #182
",dangayle,129611,2015-12-04T00:07:04Z,CONTRIBUTOR,False,7,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f4a1b0bbff67a21d26a51f920f78609d5e9821bf,"Added NullHandler to logging, to prevent ""No handlers could be found for logger ""bleach"""" warnings in applications that haven't set up logging properly.

See also: http://docs.python-guide.org/en/latest/writing/logging/#logging-in-a-library"
436,https://api.github.com/repos/mozilla/bleach/pulls/178,178,Hashtag support,"This adds hashtag support. It's not really useful without a callback to setup the path for the current application, since each will be different.

I needed it for my own purposes. Totally understand if there is no interesting in merging, just thought I'd throw it out there.
",defrex,57580,2015-11-30T22:14:41Z,NONE,False,49,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0b848455c52c5a06aee1c07bcfa3daedd6ef9385,add hashtag support
437,https://api.github.com/repos/mozilla/bleach/pulls/178,178,Hashtag support,"This adds hashtag support. It's not really useful without a callback to setup the path for the current application, since each will be different.

I needed it for my own purposes. Totally understand if there is no interesting in merging, just thought I'd throw it out there.
",defrex,57580,2015-11-30T22:14:41Z,NONE,False,49,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,69e42dd6b97ff2d725df9b63e50f41605ca41a52,keep the # in the tag
438,https://api.github.com/repos/mozilla/bleach/pulls/178,178,Hashtag support,"This adds hashtag support. It's not really useful without a callback to setup the path for the current application, since each will be different.

I needed it for my own purposes. Totally understand if there is no interesting in merging, just thought I'd throw it out there.
",defrex,57580,2015-11-30T22:14:41Z,NONE,False,49,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5bf20f0968235ca0a112623a16790b6405bd3625,use indexes in format for python 2.6
439,https://api.github.com/repos/mozilla/bleach/pulls/175,175,Remove dependency on six,"six is overkill for the basic compatibility requirements of bleach.
",kovidgoyal,1308621,2015-11-03T03:21:51Z,NONE,False,9,10,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,412970e92d2c21e4b7c358b1c94276b10e1e81b7,Remove dependency on six
440,https://api.github.com/repos/mozilla/bleach/pulls/175,175,Remove dependency on six,"six is overkill for the basic compatibility requirements of bleach.
",kovidgoyal,1308621,2015-11-03T03:21:51Z,NONE,False,9,10,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bf41bcebe73f5058e6fbc5c20ed4839469c77e13,Fix pep8 compliance
441,https://api.github.com/repos/mozilla/bleach/pulls/175,175,Remove dependency on six,"six is overkill for the basic compatibility requirements of bleach.
",kovidgoyal,1308621,2015-11-03T03:21:51Z,NONE,False,9,10,5,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,606df16e47ecc498709656ef8a9cf6bb7cfd9201,"Compatibility fixes

Fix python 2.6 compatibility
Suppress useless warning from flake8 when running in python 3.x"
442,https://api.github.com/repos/mozilla/bleach/pulls/173,173,Add section for security-related bug disclosure,"This PR updates the documentation in one place. If we're ok with the wording, then I'll copy it to the other places (README and CONTRIBUTING).

@jezdez, @jvehent : Does this wording and the links work?
",willkg,820826,2015-10-26T14:06:41Z,MEMBER,True,46,13,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,da6d7d4e74bb08b2008830e674a6c8615f01c810,"Add section for security-related bug disclosure

Fixes #168"
443,https://api.github.com/repos/mozilla/bleach/pulls/172,172,Fix Travis CI badge link,,vkotovv,1636249,2015-10-20T18:39:08Z,CONTRIBUTOR,False,2,2,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,91bff81fe5859220c6274d3a9eb3c7a0b5eccaa5,Fix Travis CI badge link
444,https://api.github.com/repos/mozilla/bleach/pulls/163,163,Add ve/ and venv/ dirs to gitignore,"for virtualenv
",nikolas,59292,2015-09-14T13:05:48Z,CONTRIBUTOR,False,2,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,abd46e9ac6bb10c3f0ac8096ad2e84c3d4a3e076,"Add ve/ and venv/ dirs to gitignore

for virtualenv"
445,https://api.github.com/repos/mozilla/bleach/pulls/162,162,Add skip_code option to linkify(),"The markdown parser I'm using is rendering code blocks like
`<pre><code> ... </code></pre>` instead of `<pre> ... </pre>`.
This is breaking the `skip_pre` behavior, and attempting to linkify
URLs within my code blocks. Adding a skip_code option to linkify
and enabling it fixes my problem.

Let me know if you have any suggestions here.
",nikolas,59292,2015-09-09T18:24:50Z,CONTRIBUTOR,False,27,2,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9945dabcf68005fe2fd3e3ce2fd27db46e27c354,"Add skip_code option to linkify()

The markdown parser I'm using is rendering code blocks like
`<pre><code> ... </code></pre>` instead of `<pre> ... </pre>`.
This is breaking the `skip_pre` behavior, and attempting to linkify
URLs within my code blocks. Adding a skip_code option to linkify
and enabling it fixes my problem.

Let me know if you have any suggestions here."
446,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3c205c62e0d925db74345377c2b5976f72402f47,"Add TLDs from iana tld list
http://data.iana.org/TLD/tlds-alpha-by-domain.txt"
447,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b25c0af9aad6f985ddf0f2de1054aca1bb3ac8e3,Fix E501 line length is too long error
448,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f894ee7a6c63233618157755340daf253385d586,Add idna-decoded TLDs
449,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,346b019e25037ce624e034591cea6116fb2fdd7f,"Replace TLDs to Suffix.

Generate suffix.py with suffix_update.py."
450,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,61183b4a7f4da141de0dadf27b2c746706bbf0f3,Fix error on python 3.2
451,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,afe574351997aefa41aacf2f82816e9a26362f73,Catch UnicodeDecode Error only in read_suffix_list
452,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,aa08ac6e3511bc0fb83cfa3eac59a55c35a4cc22,Rename single character variable name
453,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1eec1dfeb0fc3ecc550114b85b5796e9b62ad447,rename open_c -> open_with_codec
454,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,40661d57013d7777a3ea0ed94564d18d8a8914f1,Add docstring
455,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,de91e571b2d542c2bd800f813a7ab63a9bd104f0,run flake8 for suffix_update.py on travis-ci
456,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,226e2e8738431926c7799d33f5dc657ef6c28cdb,"Fix re to apply special public suffix rule.

Because of my misunderstand about special rules.
Add exceptional domain re."
457,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f75191ab6f5c887dd7c393e479c156492b8843bf,"Fix typo error.

read_suffix_list parses global variable..."
458,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2d52d0845aa84f4b7410c9f6c58f307fd86a43e6,Write empty string for empty list.(suffix_update)
459,https://api.github.com/repos/mozilla/bleach/pulls/159,159,Add TLDs from IANA TLD list,"[All valid TLD list](http://data.iana.org/TLD/tlds-alpha-by-domain.txt) provided by ICANN(IANA)  
List was generated by this script : https://gist.github.com/Perlmint/b125232975e8c6ba5243
",Perlmint,1064275,2015-08-05T12:12:24Z,NONE,False,2229,20,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b765e8e5f2cb15d74f17e43fb4e4d88ca6fc4e4c,Add tests for suffix_update.py
460,https://api.github.com/repos/mozilla/bleach/pulls/151,151,Fix typo in changelog,,nikolas,59292,2015-04-10T20:49:48Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,6988548bc336be7a618a7e5c2485557df5b142a6,Fix typo in changelog
461,https://api.github.com/repos/mozilla/bleach/pulls/149,149,Made protocols configurable.,"For one of my projects, I required configurable protocols for the href attribute of anchor tags when using bleach.clean. This pull request exposes the allowed protocols in bleach.clean.
",AndreasMalecki,8972380,2015-03-27T14:13:44Z,CONTRIBUTOR,True,31,1,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a451154f855961e5f3ec61034e4bfcf1873f8d49,Made protocols configurable.
462,https://api.github.com/repos/mozilla/bleach/pulls/149,149,Made protocols configurable.,"For one of my projects, I required configurable protocols for the href attribute of anchor tags when using bleach.clean. This pull request exposes the allowed protocols in bleach.clean.
",AndreasMalecki,8972380,2015-03-27T14:13:44Z,CONTRIBUTOR,True,31,1,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9395ee68dc86b82916a0d25b46c1c074a8d149c1,Fixed usage of copy.
463,https://api.github.com/repos/mozilla/bleach/pulls/149,149,Made protocols configurable.,"For one of my projects, I required configurable protocols for the href attribute of anchor tags when using bleach.clean. This pull request exposes the allowed protocols in bleach.clean.
",AndreasMalecki,8972380,2015-03-27T14:13:44Z,CONTRIBUTOR,True,31,1,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,82623110d1254f1382296dc2ce8072773a7418c4,Limited number of protocols whitelisted by default and added documentation.
464,https://api.github.com/repos/mozilla/bleach/pulls/144,144,Fix for #124,"There is a bug with email parsing #124.
This happens when html element which is direct parent of email string has child tag inside.
Example:

```
<p><span>foo</span>example@gmail.com</p>
<p>qwer<br />example@gmail.com</p>
<br />example@gmail.com
```

Those 3 above hangs when calling `linkfiy` with `parse_email=True`
It is because `link_repl` is called after `email_repl`, making part of email address(`gmail.com`) to an anchor tag again.

At line 236, in the middle of lines that process `node.text`, that kind of unwanted recursion was taken care of, but for `node.tail`, it wasn't.
So I added a `continue` in the middle of lines that process `node.tail`.

Now it doesn't hang, perfectly showing beautiful links.
",TintypeMolly,2056635,2015-01-20T23:16:06Z,CONTRIBUTOR,False,5,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a976e471a2aaa1961e4fcb17c9d6911e3e1e658e,Fix for #124
465,https://api.github.com/repos/mozilla/bleach/pulls/144,144,Fix for #124,"There is a bug with email parsing #124.
This happens when html element which is direct parent of email string has child tag inside.
Example:

```
<p><span>foo</span>example@gmail.com</p>
<p>qwer<br />example@gmail.com</p>
<br />example@gmail.com
```

Those 3 above hangs when calling `linkfiy` with `parse_email=True`
It is because `link_repl` is called after `email_repl`, making part of email address(`gmail.com`) to an anchor tag again.

At line 236, in the middle of lines that process `node.text`, that kind of unwanted recursion was taken care of, but for `node.tail`, it wasn't.
So I added a `continue` in the middle of lines that process `node.tail`.

Now it doesn't hang, perfectly showing beautiful links.
",TintypeMolly,2056635,2015-01-20T23:16:06Z,CONTRIBUTOR,False,5,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ead22c6eda1c4228587798f486cac676d98a8532,test
466,https://api.github.com/repos/mozilla/bleach/pulls/142,142,tox.ini: Use pytest and pytest-sugar,"@jsocol: You don't have to merge this. Choice of test runner is a very personal decision. But I used to be a nose person and I've come to love pytest and pytest-sugar and I did it locally for my own hacking and thought I'd share it, just in case, you also find it useful. I won't be offended if you don't merge though.
##### Screenshot

![screen shot 2014-12-13 at 4 53 15 pm](https://cloud.githubusercontent.com/assets/305268/5426001/9589c6c2-82e9-11e4-840f-23c56d960097.png)
",msabramo,305268,2014-12-14T01:00:32Z,CONTRIBUTOR,False,3,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2aa18512e527432cd3380b87d25fe634409c44a4,tox.ini: Use pytest and pytest-sugar
467,https://api.github.com/repos/mozilla/bleach/pulls/140,140,README.rst: Add PyPI version badge,"Preview at https://github.com/msabramo/bleach/tree/patch-1
",msabramo,305268,2014-12-13T22:10:38Z,CONTRIBUTOR,True,3,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,02c0db4a74b8eeceb11ef0aa151c3e815ed617d3,README.rst: Add PyPI version badge
468,https://api.github.com/repos/mozilla/bleach/pulls/139,139,README.rst: Add ..code-block:: python,"Preview at https://github.com/msabramo/bleach/tree/README_code_block_python

PyPI also handles this now, whereas it didn't historically.
",msabramo,305268,2014-12-12T15:02:57Z,CONTRIBUTOR,True,3,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d352e2632961cb9725ea294dab3da887484b4d7e,README.rst: Add ..code-block:: python
469,https://api.github.com/repos/mozilla/bleach/pulls/138,138,Claim support for Python 3.4,,msabramo,305268,2014-12-12T14:58:51Z,CONTRIBUTOR,True,3,1,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1e7d256b620045c48c60a648ab7d657a202552d5,Claim support for Python 3.4
470,https://api.github.com/repos/mozilla/bleach/pulls/137,137,Fix GH-121; Make attribute order deterministic,"Always serialize attributes in alpha order by passing `alphabetical_attributes=True` to `html5lib.serializer.HTMLSerializer`.

This allows greatly simplifying tests within bleach itself and in code that makes use of bleach.

Fixes: GH-121

Cc: @metalculus84, @dstufft 
",msabramo,305268,2014-12-12T07:01:13Z,CONTRIBUTOR,True,78,130,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2df578fdb7d3428cbcbfa578805a2173435d4cca,"Always serialize attributes in alpha order

by passing `alphabetical_attributes=True` to
`html5lib.serializer.HTMLSerializer`

Fixes: GH-121"
471,https://api.github.com/repos/mozilla/bleach/pulls/136,136,Fix edge cases where anchor element occurs as the first element within a...,"... parent element.

This fixes a not-so-obscure edge case where an anchor element can be present as the first element within any other element. The data below can illustrate the point better. 

Let my text be: 
`text = '<p><a href=""something"">Something</a></p>'` 

And my custom callback be:

``` python
def attr_callback(attrs, new):
    if '/buy/' in attrs.get('href', '') or '/shop/' in attrs.get('href', ''):
        attrs['_text'] = ''
    return None
```

When I run `bleach.linkify(text, callbacks=[attr_callback])` 

Without the patch, I get: 

``` python
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-6-29baf3b725bc> in <module>()
----> 1 bleach.linkify(text, callbacks=[attr_callback])

/home/gaurav/.virtualenvs/k3/local/lib/python2.7/site-packages/bleach/__init__.pyc in linkify(text, callbacks, skip_pre, parse_email, tokenizer)
    357 
    358     try:
--> 359         linkify_nodes(forest)
    360     except RuntimeError as e:
    361         # If we hit the max recursion depth, just return what we've got.

/home/gaurav/.virtualenvs/k3/local/lib/python2.7/site-packages/bleach/__init__.pyc in linkify_nodes(tree, parse_text)
    296                     linkify_nodes(node, False)
    297                 elif not (node in _seen):
--> 298                     linkify_nodes(node, True)
    299 
    300             current_child += 1

/home/gaurav/.virtualenvs/k3/local/lib/python2.7/site-packages/bleach/__init__.pyc in linkify_nodes(tree, parse_text)
    275                         # <a> tag replaced by the text within it
    276                         adj = replace_nodes(tree, _text, node,
--> 277                                             current_child)
    278                         current_child -= 1
    279                         # pull back current_child by 1 to scan the

/home/gaurav/.virtualenvs/k3/local/lib/python2.7/site-packages/bleach/__init__.pyc in replace_nodes(tree, new_frag, node, index)
    146         if new_tree.text:
    147             if index == 0:
--> 148                 tree.text += new_tree.text
    149             else:
    150                 tree[index-1].tail += new_tree.text

TypeError: unsupported operand type(s) for +=: 'NoneType' and 'unicode'
```

With the patch, I get: 

`u'<p>Something</p>'` 

Which is what I understand I should be getting according to the documentation. I can add the test case for this case if indeed it is the intended behaviour. Else, it would be nice to change the documentation to make it clearer how we'd go about such a case. 
",GVRV,60384,2014-12-10T03:54:38Z,CONTRIBUTOR,False,2,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7d90858e60b401ec8783eac2707f355428a689f1,Fix edge cases where anchor element occurs as the first element within a parent element.
472,https://api.github.com/repos/mozilla/bleach/pulls/135,135,Add extra_serializer_options to the clean and linkify params,,jespino,290303,2014-10-31T11:39:19Z,NONE,False,15,8,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,59919fd09a82744efe3f48dd2f56e5166137b37c,Add extra_serializer_options to the clean params
473,https://api.github.com/repos/mozilla/bleach/pulls/131,131,Whitelist allowed tags by callable,"This adds the possibility to filter the tags by function, similar to the way its done for attributes.

Our use-case here is that we want to dis-allow `script` and other evil tags but don't want to allow an ever-growing whitelist. And our users often add things like `<username here>` in their texts...

I don't know if there is a better way to tell python that the allowed_tags-function is a static function.

Oh, I also renamed the tests for attributes to `bleach.clean` and added a test for the attribute-filter function.
",kampfschlaefer,3831860,2014-08-27T11:42:00Z,NONE,False,38,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,d9153600c3c6a11126e3f9d9556721b66bcefc63,Add a test for function-arg of allowed_attributes
474,https://api.github.com/repos/mozilla/bleach/pulls/131,131,Whitelist allowed tags by callable,"This adds the possibility to filter the tags by function, similar to the way its done for attributes.

Our use-case here is that we want to dis-allow `script` and other evil tags but don't want to allow an ever-growing whitelist. And our users often add things like `<username here>` in their texts...

I don't know if there is a better way to tell python that the allowed_tags-function is a static function.

Oh, I also renamed the tests for attributes to `bleach.clean` and added a test for the attribute-filter function.
",kampfschlaefer,3831860,2014-08-27T11:42:00Z,NONE,False,38,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,19cd0952a1d43209b75c656e55d1a6902116c631,"Allow to set a function for the allowed_tags

Unfortunately I don't know how to make without the @staticmethod decorator.

But this adds the posibility to give a function to determine if a tag is
allowed or not. This allows blacklisting of tags instead of the current
whitelisting. In case your blacklist is much shorter then your whitelist,
especially when you want to allow new or custom tags."
475,https://api.github.com/repos/mozilla/bleach/pulls/131,131,Whitelist allowed tags by callable,"This adds the possibility to filter the tags by function, similar to the way its done for attributes.

Our use-case here is that we want to dis-allow `script` and other evil tags but don't want to allow an ever-growing whitelist. And our users often add things like `<username here>` in their texts...

I don't know if there is a better way to tell python that the allowed_tags-function is a static function.

Oh, I also renamed the tests for attributes to `bleach.clean` and added a test for the attribute-filter function.
",kampfschlaefer,3831860,2014-08-27T11:42:00Z,NONE,False,38,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e4bbf0d3afe81f5c62ca7e9267575ce223d449cc,"Circumvent reordering of attributes.

On my python2.7 it did reorder the allowed attributes in the img-tag. On Travis it doesn't..."
476,https://api.github.com/repos/mozilla/bleach/pulls/131,131,Whitelist allowed tags by callable,"This adds the possibility to filter the tags by function, similar to the way its done for attributes.

Our use-case here is that we want to dis-allow `script` and other evil tags but don't want to allow an ever-growing whitelist. And our users often add things like `<username here>` in their texts...

I don't know if there is a better way to tell python that the allowed_tags-function is a static function.

Oh, I also renamed the tests for attributes to `bleach.clean` and added a test for the attribute-filter function.
",kampfschlaefer,3831860,2014-08-27T11:42:00Z,NONE,False,38,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a3b7f56ac3be07c97c467ad367ea3bc3a51e50e8,flake8
477,https://api.github.com/repos/mozilla/bleach/pulls/123,123,Allow Data URI Schemes,"Allow the 'data' pseudo-protocol as established with https://en.wikipedia.org/wiki/Data_URI_scheme#Format. There is a current PR for html5lib to add 'data' to acceptable_protocols ([PR #148](https://github.com/html5lib/html5lib-python/pull/148)), but this prevents Bleach from incorrectly deleting URI attributes with the 'data' protocol until html5lib is fixed.
",blag,597113,2014-04-28T16:34:20Z,NONE,False,3,2,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8c6b1fbcc9c1babbda922f534ae23ba5e477e87e,"Allow Data URI Schemes

Allow the 'data' pseudo-protocol as established with https://en.wikipedia.org/wiki/Data_URI_scheme#Format."
478,https://api.github.com/repos/mozilla/bleach/pulls/122,122,Allow protocols and svg properties to be configurable.,"I wanted to allow `data` URIs in images, and in order to do that I had to be able to set `allowed_protocols` and plumb it through to the sanitizer. While I was in there, I made the `allowed_svg_properties` attribute configurable, too.
",davestgermain,6515020,2014-03-25T15:32:31Z,NONE,False,20,1,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,11c79c1045dd1166ec5c3322da0dc73411256067,Allow protocols and svg properties to be configurable.
479,https://api.github.com/repos/mozilla/bleach/pulls/117,117,Error in bleach.linkify() using links enclosed by brackets and a dot,"bleach.linkify('text http://example.com.ua/).')
u'text <a href=""http://example.com/"" rel=""nofollow"">http://example.com/</a>).'

Solving #78

Fixed this. By adding exceptions on brackets symbols on regexp.
",Troush,1163074,2014-01-14T12:20:34Z,NONE,False,5,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a86f5155deeed9f3df1df59e79af2c7af279247c,"Error in bleach.linkify() using links enclosed by brackets and a dot

bleach.linkify('text http://example.com.ua/).')
u'text <a href=""http://example.com/"" rel=""nofollow"">http://example.com/</a>).'

Solving #78"
480,https://api.github.com/repos/mozilla/bleach/pulls/117,117,Error in bleach.linkify() using links enclosed by brackets and a dot,"bleach.linkify('text http://example.com.ua/).')
u'text <a href=""http://example.com/"" rel=""nofollow"">http://example.com/</a>).'

Solving #78

Fixed this. By adding exceptions on brackets symbols on regexp.
",Troush,1163074,2014-01-14T12:20:34Z,NONE,False,5,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3ee4c6f3916111845ab81f2b7e73b9e4e2eff83e,"email after dot fix, and test fix"
481,https://api.github.com/repos/mozilla/bleach/pulls/116,116,Need to pin html5lib in tox.ini,"Using `tox` locally for testing and checking the `.tox/py27/lib/python2.7/site-packages/` folder for the actual versions being used, found that `html5lib` was _not_ 0.999 as expected... specifying just ""html5lib"" in `tox.ini` didn't fix this (it kept on getting 1.0b3, which is probably due to the backtracking of html5lib versions...)

Therefore, this PR proposes to pin the `html5lib` in `tox.ini` to allow `tox` for local testing to use the most recent version. That is: v0.999 at this moment, subject to change by future `html5lib` releases; which unfortunately will require rebasing the version.
",mdxs,1143642,2014-01-13T14:17:41Z,CONTRIBUTOR,True,2,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,07a1091d4ecc24352d5d3da73c61ab3bb4492f5f,Need to pin html5lib in tox.ini
482,https://api.github.com/repos/mozilla/bleach/pulls/115,115,"Removed ""...::Web Environment::Mozilla"" classifier","Removed the `'Environment :: Web Environment :: Mozilla',` from `classifiers` in `setup.py` as I see no particular reason to signal/limit use of Bleach to a 'Mozilla' web environment only.

Perhaps it is my limited understanding of the Trove classifiers... in which case you can simply close this PR as uneducated, no worries :-)
",mdxs,1143642,2014-01-13T10:47:37Z,CONTRIBUTOR,True,0,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bca315d471efc1f26d83e13dcb16661408b5fa50,"Removed ""...::Web Environment::Mozilla"" classifier

Removed the `'Environment :: Web Environment :: Mozilla',` from `classifiers` in `setup.py` as I see no particular reason to signal/limit use of Bleach to a 'Mozilla' web environment only.

Perhaps it is my limited understanding of the Trove classifiers... in which case you can simply close this PR as uneducated, no worries :-)"
483,https://api.github.com/repos/mozilla/bleach/pulls/114,114,Bumped version number in docs,"Bumped version number in docs, and updated copyright notice in docs portion.
",mdxs,1143642,2014-01-13T10:11:56Z,CONTRIBUTOR,True,3,3,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,04c985656e76edd6f4bbd801cf432d4e86cbbc46,Bumped version number in docs
484,https://api.github.com/repos/mozilla/bleach/pulls/113,113,Updated TLDS,"Updated TLDS with ['post', 'ss', 'sx', 'xxx'] entries, and commented the purpose of `TLDS.reverse()` in source code.
",mdxs,1143642,2014-01-13T09:31:42Z,CONTRIBUTOR,False,15,8,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5b4912d8a3723b8b263f4dc70fc9c62d2f546533,Explain TLDS.reverse() call
485,https://api.github.com/repos/mozilla/bleach/pulls/113,113,Updated TLDS,"Updated TLDS with ['post', 'ss', 'sx', 'xxx'] entries, and commented the purpose of `TLDS.reverse()` in source code.
",mdxs,1143642,2014-01-13T09:31:42Z,CONTRIBUTOR,False,15,8,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9ba81ccc1c0da161e5d628deb5a3512090ba80ad,"Added ['post', 'ss', 'sx', 'xxx'] to TLDS"
486,https://api.github.com/repos/mozilla/bleach/pulls/113,113,Updated TLDS,"Updated TLDS with ['post', 'ss', 'sx', 'xxx'] entries, and commented the purpose of `TLDS.reverse()` in source code.
",mdxs,1143642,2014-01-13T09:31:42Z,CONTRIBUTOR,False,15,8,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9c9bfbaf8ba0b24f73d19946fb3352e8d86a1734,Updated test_tlds cases
487,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,40e9d500d87154f4a16dbb820a355de486a29955,changes to make it work with python3. now we see if we can make it work on python2.7
488,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,74cd8b6eead3f40b792d2ed015ca0a4b20361668,all tests pass in py3. py27 wip.
489,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,57c68eb78e0a7510943a4ef76bca5373f185c3e0,minor mods to the tests so they pass on updated version of html5lib. just attribute ordering. nothing major
490,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5ef6997aad89640504630b1fadd5d7fded28b208,"fixed the bugs in the tests, now the run on python 2.7 and python 3.2 :D"
491,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,26de59702761e3d912136e64a3ce1520c6e768b8,updated readme
492,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7271defab03c9495d5a0cb0068566440aa5f8511,updated travis file and readme
493,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b1e132bf78f5792250624338a0ff521b218efa13,updated travis file and requirements
494,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a6f0f32e700bddc6b5107749a4b5d94d14f5edd9,"updated tests, so hopefully now we don't get false-failures because the attributes are in reverse order"
495,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ca7071ae50d09ba57ded0dcc68e7306b8ada68c8,updated tests and readme file
496,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0f9a319b2cac1f7f00f1a991ab63f78e026533ba,updated tests and readme file
497,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c0e68284858bf73c2aa146b185fd0b62ef95299a,updated readme file
498,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e501e6fd9828600e429b59b60cc177d359b3028b,lessons learned from the __future__
499,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f3c7280f2f121cf8c18d68c8cf9ed2865e0add27,updated travis file and readme
500,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bd317bea2b2effd1ce7b723939f149f6264c6046,updated travis file and readme
501,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1e46590a8a80e4c0b969953b9552ace0cbad7801,some cleaning up to make things work on python 2.6.
502,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,60dc85baad85c12af269c38f6655033ed16d3ea6,update as per #101
503,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,dea4d611ac840def6bfa7d8564508628710fcd82,"updated setup.py, removed pin to html5lib 0.95"
504,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4bfa1c31f25c78d2c632e5769b4b1cbf920ce72e,Add tox.ini
505,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,51bfa3198a75ba0a8b7951c5f41329262d3fd6f4,.gitignore: Add .tox
506,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,86f6fe33548e00cd4fabe42edf1fa83d48dac4f8,tox.ini: Remove ipdb from deps
507,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3f83cf25bb4c43b5f244e937584ee19609b57356,"Merge pull request #1 from msabramo/marcdm_python3_tox

Add support for testing with tox"
508,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5667e571370853bee0db382cc4e47052c0abac5b,setup.py: Add Trove classifiers for supported Python versions
509,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f6b59b8213586c14595269529869345022e08e0a,"Merge pull request #2 from msabramo/marcdm_python3_trove

setup.py: Add Trove classifiers for supported Python versions"
510,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,00066194024510e1c47be1c4db81efc110e36e78,Update html5lib to 0.999
511,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e4c6488ded5b1f3768bf1ffb93b4951dc3318d20,Removed the forked header
512,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,15bb4fe782d7da4f8cc097872be134febefe7872,Modified changes to reflect html5lib >= 0.999 (not pinned)
513,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a0adccae2f42bf2de51352b85cb4ff274b9e80fb,Bumped version to 1.3.1
514,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c0c38df871d81fd377358675a92bbd1a946ab399,Removed TODO; using newer html5lib with 'poster' already in attr_val_is_uri
515,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1c111fd29911ee9a24e005afe08e2efaa1c3fc09,"Six is required by Bleach directly, as it is used in encoding.py"
516,https://api.github.com/repos/mozilla/bleach/pulls/111,111,Update html5lib to 0.999 (and Python 3 support),"Update html5lib to 0.999 (as released on 2013-12-23); applied to the Python 3 support added by others.

This Pull Request (PR) is heavily based on previous work by @marcdm and @msabramo (see #101 _""Py3k and html5lib 1.0b1 support""_); now updated to the html5lib 0.999 (as released on 2013-12-23). See https://github.com/html5lib/html5lib-python/blob/master/CHANGES.rst (and especially the 0.99 section) on the rationale of html5lib to change their version numbering like this (going back from 1.0b3 to 0.99).

Tested on py26, py27, py32, py33, and pypy using Travis-CI, see https://travis-ci.org/mdxs/bleach for the results.

This PR could: supersede and close #101 _""Py3k and html5lib 1.0b1 support""_ (and this PR also applies the @dstufft feedback given there); close #100 _""Python 3 and html5lib 1.0 compatibility""_; close #110 _""Support html5lib>=0.99""_; and close #94 _""simpletree TreeWalker removed in html5lib 1.0b1""_

This PR suggests a version bump to 1.3.1 (note that https://pypi.python.org/pypi/bleach-py3k/1.3.0 is out there); and though I'm not familiair with the release procedures, I've tried to be consistent in all the ""version holding"" files.

Relatively new to git and GitHub, I've first submitted a PR to the fork by @marcdm (see https://github.com/marcdm/bleach/pull/3) but hope it is okay that I now also propose it to `jsocol:master` directly (it seems to include all the previous work...).
",mdxs,1143642,2014-01-10T10:08:40Z,CONTRIBUTOR,False,469,263,19,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,584d1d6e61ca2134637c02d56511b2af8dc154f0,"Six is required by Bleach directly, as it is used in encoding.py"
517,https://api.github.com/repos/mozilla/bleach/pulls/106,106,More Test For different JavaScript,"The work for this branch is not yet complete however it's well on it's way.

I have added a file test_image.py 
This will produced further testing for bleaching the javascript.

A good majority of the test case does not have a completed function because i am not fully knowledgeable about what is the intended response from all of the bleaching that should take place. 
As I continue to do more work on figuring all of the intended response i will keep this up to date as much as possible.
",shavyg2,1460084,2013-09-28T01:34:44Z,NONE,False,1210,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0e364ca39f6c83a133b77b9810a1dd57b20ce8c6,regex generated file needs to be formatted and rename methods
518,https://api.github.com/repos/mozilla/bleach/pulls/106,106,More Test For different JavaScript,"The work for this branch is not yet complete however it's well on it's way.

I have added a file test_image.py 
This will produced further testing for bleaching the javascript.

A good majority of the test case does not have a completed function because i am not fully knowledgeable about what is the intended response from all of the bleaching that should take place. 
As I continue to do more work on figuring all of the intended response i will keep this up to date as much as possible.
",shavyg2,1460084,2013-09-28T01:34:44Z,NONE,False,1210,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7919e737527d7072a870123a123db0e0032ce4dc,spare test cases to be formatted
519,https://api.github.com/repos/mozilla/bleach/pulls/106,106,More Test For different JavaScript,"The work for this branch is not yet complete however it's well on it's way.

I have added a file test_image.py 
This will produced further testing for bleaching the javascript.

A good majority of the test case does not have a completed function because i am not fully knowledgeable about what is the intended response from all of the bleaching that should take place. 
As I continue to do more work on figuring all of the intended response i will keep this up to date as much as possible.
",shavyg2,1460084,2013-09-28T01:34:44Z,NONE,False,1210,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,09b2485079f470a1a60e7745a01db3bc4cf360b1,created test answer incomplete
520,https://api.github.com/repos/mozilla/bleach/pulls/106,106,More Test For different JavaScript,"The work for this branch is not yet complete however it's well on it's way.

I have added a file test_image.py 
This will produced further testing for bleaching the javascript.

A good majority of the test case does not have a completed function because i am not fully knowledgeable about what is the intended response from all of the bleaching that should take place. 
As I continue to do more work on figuring all of the intended response i will keep this up to date as much as possible.
",shavyg2,1460084,2013-09-28T01:34:44Z,NONE,False,1210,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1499f10755f27aa018833fa8bb2b87105a143112,more image test to be loaded
521,https://api.github.com/repos/mozilla/bleach/pulls/104,104,Fix html5lib link,"html5lib has moved to GitHub, so no point linking to the old site.
",rouge8,237005,2013-07-25T18:46:23Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ffdfe049aee914ef0bb2aa964b1cb1e518f9eac4,"Fix html5lib link

html5lib has moved to GitHub, so no point linking to the old site."
522,https://api.github.com/repos/mozilla/bleach/pulls/103,103,Add support for testing with tox,"[Tox](http://testrun.org/tox/latest/) lets you test across multiple Python versions quickly and easily (and without having to commit and push to GitHub like with Travis CI [so IMHO having both is nice]).

This is a great way for verifying the excellent work by @marcdm in #101!
",msabramo,305268,2013-06-27T22:07:12Z,CONTRIBUTOR,True,14,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f59ab100195a92fb9f210b068b01c524f9fae4c1,Add tox.ini
523,https://api.github.com/repos/mozilla/bleach/pulls/103,103,Add support for testing with tox,"[Tox](http://testrun.org/tox/latest/) lets you test across multiple Python versions quickly and easily (and without having to commit and push to GitHub like with Travis CI [so IMHO having both is nice]).

This is a great way for verifying the excellent work by @marcdm in #101!
",msabramo,305268,2013-06-27T22:07:12Z,CONTRIBUTOR,True,14,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,738ebe1dc6c31882b6fa700bc1ae70d8314119b3,.gitignore: Add .tox
524,https://api.github.com/repos/mozilla/bleach/pulls/103,103,Add support for testing with tox,"[Tox](http://testrun.org/tox/latest/) lets you test across multiple Python versions quickly and easily (and without having to commit and push to GitHub like with Travis CI [so IMHO having both is nice]).

This is a great way for verifying the excellent work by @marcdm in #101!
",msabramo,305268,2013-06-27T22:07:12Z,CONTRIBUTOR,True,14,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a5b8110612e3ad97b0cd777c4e679a587acfd0ed,"tox.ini: Add ipdb to deps, because it's useful for debugging"
525,https://api.github.com/repos/mozilla/bleach/pulls/103,103,Add support for testing with tox,"[Tox](http://testrun.org/tox/latest/) lets you test across multiple Python versions quickly and easily (and without having to commit and push to GitHub like with Travis CI [so IMHO having both is nice]).

This is a great way for verifying the excellent work by @marcdm in #101!
",msabramo,305268,2013-06-27T22:07:12Z,CONTRIBUTOR,True,14,0,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b8e4d69148904dcc6fdc176af44eb4cd36cb18df,tox.ini: Add py32 to envs
526,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,40e9d500d87154f4a16dbb820a355de486a29955,changes to make it work with python3. now we see if we can make it work on python2.7
527,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,74cd8b6eead3f40b792d2ed015ca0a4b20361668,all tests pass in py3. py27 wip.
528,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,57c68eb78e0a7510943a4ef76bca5373f185c3e0,minor mods to the tests so they pass on updated version of html5lib. just attribute ordering. nothing major
529,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5ef6997aad89640504630b1fadd5d7fded28b208,"fixed the bugs in the tests, now the run on python 2.7 and python 3.2 :D"
530,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,26de59702761e3d912136e64a3ce1520c6e768b8,updated readme
531,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,7271defab03c9495d5a0cb0068566440aa5f8511,updated travis file and readme
532,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b1e132bf78f5792250624338a0ff521b218efa13,updated travis file and requirements
533,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a6f0f32e700bddc6b5107749a4b5d94d14f5edd9,"updated tests, so hopefully now we don't get false-failures because the attributes are in reverse order"
534,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ca7071ae50d09ba57ded0dcc68e7306b8ada68c8,updated tests and readme file
535,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0f9a319b2cac1f7f00f1a991ab63f78e026533ba,updated tests and readme file
536,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c0e68284858bf73c2aa146b185fd0b62ef95299a,updated readme file
537,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e501e6fd9828600e429b59b60cc177d359b3028b,lessons learned from the __future__
538,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f3c7280f2f121cf8c18d68c8cf9ed2865e0add27,updated travis file and readme
539,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bd317bea2b2effd1ce7b723939f149f6264c6046,updated travis file and readme
540,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1e46590a8a80e4c0b969953b9552ace0cbad7801,some cleaning up to make things work on python 2.6.
541,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,60dc85baad85c12af269c38f6655033ed16d3ea6,update as per #101
542,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,dea4d611ac840def6bfa7d8564508628710fcd82,"updated setup.py, removed pin to html5lib 0.95"
543,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4bfa1c31f25c78d2c632e5769b4b1cbf920ce72e,Add tox.ini
544,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,51bfa3198a75ba0a8b7951c5f41329262d3fd6f4,.gitignore: Add .tox
545,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,86f6fe33548e00cd4fabe42edf1fa83d48dac4f8,tox.ini: Remove ipdb from deps
546,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3f83cf25bb4c43b5f244e937584ee19609b57356,"Merge pull request #1 from msabramo/marcdm_python3_tox

Add support for testing with tox"
547,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5667e571370853bee0db382cc4e47052c0abac5b,setup.py: Add Trove classifiers for supported Python versions
548,https://api.github.com/repos/mozilla/bleach/pulls/101,101,Py3k and html5lib 1.0b1 support,,jsocol,180459,2013-06-19T20:00:06Z,MEMBER,False,478,245,18,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f6b59b8213586c14595269529869345022e08e0a,"Merge pull request #2 from msabramo/marcdm_python3_trove

setup.py: Add Trove classifiers for supported Python versions"
549,https://api.github.com/repos/mozilla/bleach/pulls/99,99,Minor bugfix for rel attribute,"When linkify is called on some html where the &lt;a&gt; tags already have a rel attribute, it is replaced with ""nofollow"". 
Additionally, if nofollow already one of the values for rel, e.g. if rel=""tt nofollow"", the value is also replaced with just rel=""nofollow"".
This pull request contains a test that exposes the bug and a fix (I hope).
",marcdm,1822068,2013-06-16T19:19:13Z,NONE,False,22,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f4938a114bfad6eef26617c31c8bf8dc7ee49433,Version bump to 1.2.
550,https://api.github.com/repos/mozilla/bleach/pulls/99,99,Minor bugfix for rel attribute,"When linkify is called on some html where the &lt;a&gt; tags already have a rel attribute, it is replaced with ""nofollow"". 
Additionally, if nofollow already one of the values for rel, e.g. if rel=""tt nofollow"", the value is also replaced with just rel=""nofollow"".
This pull request contains a test that exposes the bug and a fix (I hope).
",marcdm,1822068,2013-06-16T19:19:13Z,NONE,False,22,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,44bdbfa6f56822bc8f7a257b06d7e8096a979d0c,merge with bleach master and added test and bugfix
551,https://api.github.com/repos/mozilla/bleach/pulls/95,95,Small doc fix: attrs is a dict of lists.,"So the next person that copy/pastes from the docs doesnt go crazy :smile: 
",rlr,36629,2013-05-25T01:17:37Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,157071e33c724aebff04dd86ccf5c77fd2868f52,Small doc fix: attrs is a dict of lists.
552,https://api.github.com/repos/mozilla/bleach/pulls/88,88,bleach.clean doesn't strip whitespace anymore.,"Several WYSIWYG editor can start a document with `&nbsp;` or some other whitespace characters. 
If those characters are stripped, the document itself will be changed.
This request fixes this problem.
",karipe,763152,2013-01-25T17:25:21Z,NONE,False,7,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,fc2cdfc0eb91c7128dd27ac450af0be4977743e1,clean method isn't strip whitespace anymore.
553,https://api.github.com/repos/mozilla/bleach/pulls/86,86,Match urls case-insensitively,"Fixes #85.
",jaimeirurzun,177610,2013-01-11T15:32:25Z,CONTRIBUTOR,True,3,2,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5eed40c4cad67b7ef766259e19b0080edbd8e1ea,Match urls case-insensitively
554,https://api.github.com/repos/mozilla/bleach/pulls/83,83,Added installation method,"Installation method was missing.
",Alir3z4,591113,2013-01-08T22:38:13Z,CONTRIBUTOR,False,26,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,64fab3960f3d07c7498916f479b7042e8ddb15a3,Added installation method
555,https://api.github.com/repos/mozilla/bleach/pulls/83,83,Added installation method,"Installation method was missing.
",Alir3z4,591113,2013-01-08T22:38:13Z,CONTRIBUTOR,False,26,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1a7130fbd2e2f6947935a782476cf7d17b8c068e,"Okay, this is unforgivable sin."
556,https://api.github.com/repos/mozilla/bleach/pulls/83,83,Added installation method,"Installation method was missing.
",Alir3z4,591113,2013-01-08T22:38:13Z,CONTRIBUTOR,False,26,0,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,64d5e71624a14c6ea005010993afa3cc0e318e0b,Now it's looks like a real and real console.
557,https://api.github.com/repos/mozilla/bleach/pulls/82,82,Allow double-quotes in styles,"CSS and HTML allow either single or double-quotes for its attributes.
Unfortunately, the css guantlet in the sanitizer rejects CSS containing
double-quotes.

The changes here add double-quotes to the set of allowed characters. A
new test ensures that clean works on single-quoted style attributes
containing double-quotes
",nickburlett,1033900,2012-12-20T03:09:35Z,NONE,False,33,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0df7b58cea6771a7e06c698fa8489982d6c43f14,"CSS styles may have double-quotes

CSS and HTML allow either single or double-quotes for its attributes.
Unfortunately, the css guantlet in the sanitizer rejects CSS containing
double-quotes.

The changes here add double-quotes to the set of allowed characters. A
new test ensures that clean works on single-quoted style attributes
containing double-quotes"
558,https://api.github.com/repos/mozilla/bleach/pulls/74,74,Update docs/clean.rst,"Minor docs code example correction.
",ryanniemeyer,163588,2012-09-06T19:22:42Z,CONTRIBUTOR,True,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,179bbba16d08af782f3709e73971077bced9fd8b,"Update docs/clean.rst

Minor docs code example correction."
559,https://api.github.com/repos/mozilla/bleach/pulls/73,73,"Switch to skip CSS gauntlet; allow rect(40px, 200px, 150px, 30px)","More annoying quirks with that gauntlet regex, this time blocking rect().

[@teoli2003 suggested removing the test on styles altogether](https://bugzilla.mozilla.org/show_bug.cgi?id=776603#c23). I'm not sure that's easily done, but I've also added a `skip_css_gauntlet` flag that could let us get around what look like repeat issues in MDN. It defaults to `False`, so should be backwards compatible if other users rely on it.
",lmorchard,21687,2012-08-03T04:36:27Z,MEMBER,False,48,11,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2906726af82ed0063a559124cee610bcd2e5859c,"Switch to skip CSS gauntlet; allow rect(40px, 200px, 150px, 30px)"
560,https://api.github.com/repos/mozilla/bleach/pulls/72,72,Additions to the gauntlet regex for CSS property values,"Found this issue triggered by MDN content:
https://bugzilla.mozilla.org/show_bug.cgi?id=776603
",lmorchard,21687,2012-07-27T20:07:02Z,MEMBER,True,5,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,720a8fe9984c91097731190ba6f7ba943bdb231f,Allow `%` and `.` in parenthesized number lists in CSS property values
561,https://api.github.com/repos/mozilla/bleach/pulls/72,72,Additions to the gauntlet regex for CSS property values,"Found this issue triggered by MDN content:
https://bugzilla.mozilla.org/show_bug.cgi?id=776603
",lmorchard,21687,2012-07-27T20:07:02Z,MEMBER,True,5,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1cfdddfcc1c96ca2552d0afdeb9eaff63dfe1647,"Allow `text-overflow: ',' ellipsis;`"
562,https://api.github.com/repos/mozilla/bleach/pulls/64,64,Add sanitize option to linkify(),"Sometimes sanitization is not wanted when linkifying. Add an option to enable it only if necessary.
It defaults to off since that makes more sense in my optinion (you do not expect a method `linkify` to escape some tags!)
",ThiefMaster,179599,2012-04-30T18:42:12Z,CONTRIBUTOR,False,4,2,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1e4612c87d62f7293c566c57991bc08badf6658d,"Add tokenizer option to linkify()

Sometimes sanitization is not wanted when linkifying. This allows people
to pass HTMLTokenizer instead of HTMLSanitizer if they do not want
sanitization."
563,https://api.github.com/repos/mozilla/bleach/pulls/61,61,Test to reproduce hang in sanitize_styles,"This is not intended as a complete PR, so much as an illustration of the problem and a call for help.

The regex check I commented out in `sanitizer.py` appears to suffer from a hang, when fed the inline styles that appear in the new test. 

Of course, the funny thing is that all tests pass with this regex check commented out, so it might not be that important after all? :)

FWIW, as crazy as it looks, this is data ""in the wild"" from [a page on the MDN wiki](https://developer.mozilla.org/en/SpiderMonkey/Build_Documentation), and it causes the migration process to come to a halt.

I haven't spent too much time dissecting the regex itself, yet. But, I have found that the length of the hang can be reduced by removing some of the styles. I haven't been able to narrow it down to just one style, though. So, that makes me think that it's not an infinite loop per se, but just a very very long process for this given set of inline styles. 

However, the hang is so long on my laptop that it never finished for me after letting it go while I wandered off for an hour for lunch. That seems troublesome.
",lmorchard,21687,2012-04-12T16:43:41Z,MEMBER,True,31,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4bff37ecc60120e2f4dcf093b96898c516fdaba8,"Fix a hang in the style attribute validation gauntlet

Turns out that the addition of a hyphen for vendor-prefixes causes a
long hang in the style validator. Not sure how long, but it seems to be
influenced by the length of the inline styles. This appears to fix it
and passes tests."
564,https://api.github.com/repos/mozilla/bleach/pulls/61,61,Test to reproduce hang in sanitize_styles,"This is not intended as a complete PR, so much as an illustration of the problem and a call for help.

The regex check I commented out in `sanitizer.py` appears to suffer from a hang, when fed the inline styles that appear in the new test. 

Of course, the funny thing is that all tests pass with this regex check commented out, so it might not be that important after all? :)

FWIW, as crazy as it looks, this is data ""in the wild"" from [a page on the MDN wiki](https://developer.mozilla.org/en/SpiderMonkey/Build_Documentation), and it causes the migration process to come to a halt.

I haven't spent too much time dissecting the regex itself, yet. But, I have found that the length of the hang can be reduced by removing some of the styles. I haven't been able to narrow it down to just one style, though. So, that makes me think that it's not an infinite loop per se, but just a very very long process for this given set of inline styles. 

However, the hang is so long on my laptop that it never finished for me after letting it go while I wandered off for an hour for lunch. That seems troublesome.
",lmorchard,21687,2012-04-12T16:43:41Z,MEMBER,True,31,5,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,52896d40c5a9a1ea5d7ea9794f9a7c12bf8bf550,"Accept ""/"" in inline styles, fix hang test expected result"
565,https://api.github.com/repos/mozilla/bleach/pulls/57,57,Remove <script> tags with their content.,"I needed to remove html tags and found out that the contents of the `script` tags did not get stripped too. Therefore I implemented an option to do just that :smile:
",originell,23529,2012-02-28T11:28:19Z,CONTRIBUTOR,False,149,6,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f8d95b127e41a6dfb38893501330da5b1a17a1f7,Add option to strip ``<script>`` tags and their content.
566,https://api.github.com/repos/mozilla/bleach/pulls/57,57,Remove <script> tags with their content.,"I needed to remove html tags and found out that the contents of the `script` tags did not get stripped too. Therefore I implemented an option to do just that :smile:
",originell,23529,2012-02-28T11:28:19Z,CONTRIBUTOR,False,149,6,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a2780e4b60560a8cb1ed67adfa3260256c6d652c,trying to fix a bug in script content stripping
567,https://api.github.com/repos/mozilla/bleach/pulls/57,57,Remove <script> tags with their content.,"I needed to remove html tags and found out that the contents of the `script` tags did not get stripped too. Therefore I implemented an option to do just that :smile:
",originell,23529,2012-02-28T11:28:19Z,CONTRIBUTOR,False,149,6,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a9b79fe9b3d9ca55deb7340d9140bd33a7581ab4,"Fixes <script>-stripping <script> inside <script>

It is now possible to detect <script> tags inside <script> tags...
This fixes a bug with content being deleted after a <script> tag."
568,https://api.github.com/repos/mozilla/bleach/pulls/57,57,Remove <script> tags with their content.,"I needed to remove html tags and found out that the contents of the `script` tags did not get stripped too. Therefore I implemented an option to do just that :smile:
",originell,23529,2012-02-28T11:28:19Z,CONTRIBUTOR,False,149,6,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9565ca816d80826e6d6d46d1569168de62d68ad1,"add a strip_script ""reallife"" test."
569,https://api.github.com/repos/mozilla/bleach/pulls/57,57,Remove <script> tags with their content.,"I needed to remove html tags and found out that the contents of the `script` tags did not get stripped too. Therefore I implemented an option to do just that :smile:
",originell,23529,2012-02-28T11:28:19Z,CONTRIBUTOR,False,149,6,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,236c4860604f0de89364daaa743d884811a20010,transform script tag content to lowercase
570,https://api.github.com/repos/mozilla/bleach/pulls/57,57,Remove <script> tags with their content.,"I needed to remove html tags and found out that the contents of the `script` tags did not get stripped too. Therefore I implemented an option to do just that :smile:
",originell,23529,2012-02-28T11:28:19Z,CONTRIBUTOR,False,149,6,4,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e40ba1085b5faee33914860a4476d0f28b760f5c,add more strip_script_tag tests
571,https://api.github.com/repos/mozilla/bleach/pulls/54,54,TypeError: __init__() got an unexpected keyword argument 'parser',"Hi,
I've stumbled upon an issue today when installing html5lib. Since version 0.95 the init signature adds a parser argument that's missing from the BleachSanitizer. So, i just extended it to accept keyword values arguments, this way any further changes in html5lib will be compatible with Bleach.
Regards,
",zyegfryed,185375,2012-02-17T09:18:24Z,CONTRIBUTOR,True,2,2,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0d7fd66f6aa6aff315444cecc18ac9330e91b759,Fixed tokeniser init signature to handle the new parser argument shipped in html5lib 0.95.
572,https://api.github.com/repos/mozilla/bleach/pulls/50,50,Fix mailto: URLs breaking in delinkify(),"Found a bug while running our test suite.
",pcraciunoiu,191195,2011-10-26T05:40:19Z,CONTRIBUTOR,False,157,8,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5bcdb40c8ff8a497f4609486787173813309e794,Skip mailto: URLs in delinkify().
573,https://api.github.com/repos/mozilla/bleach/pulls/50,50,Fix mailto: URLs breaking in delinkify(),"Found a bug while running our test suite.
",pcraciunoiu,191195,2011-10-26T05:40:19Z,CONTRIBUTOR,False,157,8,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1e6823c4092bfb99576e37be4ba82c626522b54c,allow_mailto option to delinkify.
574,https://api.github.com/repos/mozilla/bleach/pulls/50,50,Fix mailto: URLs breaking in delinkify(),"Found a bug while running our test suite.
",pcraciunoiu,191195,2011-10-26T05:40:19Z,CONTRIBUTOR,False,157,8,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,cca2d1ca8e31210a60bd011699244c0ebcc765aa,Thorough mailto: parsing and flexible option.
575,https://api.github.com/repos/mozilla/bleach/pulls/50,50,Fix mailto: URLs breaking in delinkify(),"Found a bug while running our test suite.
",pcraciunoiu,191195,2011-10-26T05:40:19Z,CONTRIBUTOR,False,157,8,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,1e1cf0cff750f13be78ffd5ea5a04a974e033aa5,Delinkify: Don't break relative links with allow_domains.
576,https://api.github.com/repos/mozilla/bleach/pulls/50,50,Fix mailto: URLs breaking in delinkify(),"Found a bug while running our test suite.
",pcraciunoiu,191195,2011-10-26T05:40:19Z,CONTRIBUTOR,False,157,8,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,a2749c3e830e1c4dbb56f3bb7490475dcf68f1f7,Don't break relative links with allow_domains when allow_relative is False ^_^
577,https://api.github.com/repos/mozilla/bleach/pulls/50,50,Fix mailto: URLs breaking in delinkify(),"Found a bug while running our test suite.
",pcraciunoiu,191195,2011-10-26T05:40:19Z,CONTRIBUTOR,False,157,8,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,4af22f1901c2eac765aa36f936a6cfb288ef34aa,"Merge pull request #1 from tangofoxtrotmike/master

delinkify: more yucky interactions between allow_relative and allow_domains"
578,https://api.github.com/repos/mozilla/bleach/pulls/48,48,Support whitelisting subdomains.,,jsocol,180459,2011-10-21T19:52:08Z,MEMBER,False,89,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8d2723c3616d65f57612670c0f9d2f7427e83302,Support whitelisting subdomains.
579,https://api.github.com/repos/mozilla/bleach/pulls/48,48,Support whitelisting subdomains.,,jsocol,180459,2011-10-21T19:52:08Z,MEMBER,False,89,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,02c94ee5485a514c020ca08a54bebdff122820c9,"WIP, test failing"
580,https://api.github.com/repos/mozilla/bleach/pulls/48,48,Support whitelisting subdomains.,,jsocol,180459,2011-10-21T19:52:08Z,MEMBER,False,89,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,63f319b17623b42c10def93eb222bcb646afcb39,"More WIP, too late in the week for this kind of algorithmic thinking."
581,https://api.github.com/repos/mozilla/bleach/pulls/48,48,Support whitelisting subdomains.,,jsocol,180459,2011-10-21T19:52:08Z,MEMBER,False,89,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,f48e2706e08f7d39b293bfe4fd83ee0aed959dfe,and moar
582,https://api.github.com/repos/mozilla/bleach/pulls/48,48,Support whitelisting subdomains.,,jsocol,180459,2011-10-21T19:52:08Z,MEMBER,False,89,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,54f919b8cba4ec77f1288b795c135b93043e6533,Woo
583,https://api.github.com/repos/mozilla/bleach/pulls/44,44,Don't linkify certain URLs,"I'd like this ability. It's pretty flexible. Looks good?
",pcraciunoiu,191195,2011-10-19T01:47:44Z,CONTRIBUTOR,False,13,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,46fefacda91ed1a6f95775d12c9d1d9e84abce69,Don't linkify URL if returning False from filter_url.
584,https://api.github.com/repos/mozilla/bleach/pulls/43,43,Added a flag to linkify to skip existing links,"Not sure if this is the naming you'd prefer, but I think others might find this useful as well.

Before adding too many more options, I think this needs some kind of more general callback support for each link tag processed - which maybe takes and gives a dict of HTML attributes, or something like that.
",aehlke,71601,2011-10-03T22:42:13Z,CONTRIBUTOR,False,33,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0072f0715488941b9c073110209b14f756a4f32a,add optional target argument to linkify
585,https://api.github.com/repos/mozilla/bleach/pulls/43,43,Added a flag to linkify to skip existing links,"Not sure if this is the naming you'd prefer, but I think others might find this useful as well.

Before adding too many more options, I think this needs some kind of more general callback support for each link tag processed - which maybe takes and gives a dict of HTML attributes, or something like that.
",aehlke,71601,2011-10-03T22:42:13Z,CONTRIBUTOR,False,33,4,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,67f5ff38352a6dfd8f2777d5886118ec2d9cb0e2,add optional argument to skip existing links for linkify
586,https://api.github.com/repos/mozilla/bleach/pulls/42,42,"Add ""target"" argument to linkify","I think this is a pretty common need. Thanks!
",aehlke,71601,2011-10-03T22:03:17Z,CONTRIBUTOR,False,22,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,0072f0715488941b9c073110209b14f756a4f32a,add optional target argument to linkify
587,https://api.github.com/repos/mozilla/bleach/pulls/40,40,make stripping comments False by default [bug 664533],"comments are used to prevent links in the wiki [bug 664533]
",readevalprint,118430,2011-09-09T18:30:59Z,NONE,False,1,1,1,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,c1a00bb26318f455bd796808e40a74beb9275e6e,make stripping comments False by default
588,https://api.github.com/repos/mozilla/bleach/pulls/39,39,Unicode Safe URL Regex,"Hello again :)
I've tried to fix the url regex so it also works with utf8 characters. It works, however I'm not quite sure how secure my change the regex is.

The tests pass, so it can't be that bad (I hope). Did test it with some [ASCII control characters](http://en.wikipedia.org/wiki/ASCII#ASCII_control_characters) and they don't match. So I guess it should be quite secure?

I would really appreciate your feedback :-)
",originell,23529,2011-08-30T10:31:01Z,CONTRIBUTOR,False,30,2,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,139eda7183b9b8c00de4b60f79045249fd914e91,make linkify utf8 save. fixes #33
589,https://api.github.com/repos/mozilla/bleach/pulls/37,37,Don't let linkify eat brackets,"I encountered your issue #23 and needed to fix it. Not that many changes done, except new tests and the according logic. I would have loved to do this somehow with regex only, but I wasn't able to pull that one off ;)
",originell,23529,2011-08-12T15:26:39Z,CONTRIBUTOR,False,96,10,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,ecb5a0b335d6f050b13ee99241421e91b236524e,Add tests for URLs wrapped inside parantheses
590,https://api.github.com/repos/mozilla/bleach/pulls/37,37,Don't let linkify eat brackets,"I encountered your issue #23 and needed to fix it. Not that many changes done, except new tests and the according logic. I would have loved to do this somehow with regex only, but I wasn't able to pull that one off ;)
",originell,23529,2011-08-12T15:26:39Z,CONTRIBUTOR,False,96,10,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,259ca1ab81fab2148e4afdf8c0b0a00521bea1f8,"detect wrapping parantheses of a link, fixes #23"
591,https://api.github.com/repos/mozilla/bleach/pulls/37,37,Don't let linkify eat brackets,"I encountered your issue #23 and needed to fix it. Not that many changes done, except new tests and the according logic. I would have loved to do this somehow with regex only, but I wasn't able to pull that one off ;)
",originell,23529,2011-08-12T15:26:39Z,CONTRIBUTOR,False,96,10,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,974992d59195662894c31a958637ec4c7369faf0,"small code cleanup, comment rewrite and pep8 cleanup"
592,https://api.github.com/repos/mozilla/bleach/pulls/32,32,Allow browser specific styles - issue #31,,adamlofts,11036,2011-06-14T13:32:57Z,CONTRIBUTOR,False,3,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,9e39d7c194710bb87a3a7adef7e0fc232de60388,Allow css names such as -moz-use-text-color
593,https://api.github.com/repos/mozilla/bleach/pulls/29,29,Linkify fixes,"Here you go, fixing issue #24 and some other things I came across.
",SmileyChris,109951,2011-06-09T23:30:34Z,CONTRIBUTOR,True,34,16,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,753c1cb59979fd1b4ae707de9ff802bffcbe2b8f,Add another example to test_simple_link
594,https://api.github.com/repos/mozilla/bleach/pulls/29,29,Linkify fixes,"Here you go, fixing issue #24 and some other things I came across.
",SmileyChris,109951,2011-06-09T23:30:34Z,CONTRIBUTOR,True,34,16,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,bda8d0002d9e2eaedacefcbc4f85b1110aa99db1,"Add fix for linkifying of 3rd level domains (jsocol/#24) and add linkifying
of ""complete"" urls (i.e. those containing user:pass@ sections)."
595,https://api.github.com/repos/mozilla/bleach/pulls/29,29,Linkify fixes,"Here you go, fixing issue #24 and some other things I came across.
",SmileyChris,109951,2011-06-09T23:30:34Z,CONTRIBUTOR,True,34,16,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,59a8ef24d03c0888ed24b537ac8651a06f36d886,Fix email linkify escaping.
596,https://api.github.com/repos/mozilla/bleach/pulls/26,26,Now it is possible to filter attribute values by passing callable in BLEACH_ATTRIBUTES,"Example: 

BLEACH_ATTRIBUTES = {
    'a': ['href', 'title', 'name', 'target'],
    'abbr': ['title'],
    'acronym': ['title'],
    'img': ['src', 'alt'],
    'iframe': lambda name, val: name=='src' and re.match(r'http://www.youtube.com/', val),
    }
",olomix,518068,2011-05-26T14:50:40Z,NONE,True,22,3,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,b7c44d4cd3deab1f5ecb7026c65ae3f13ea71a43,"It is possible to pass callable to filter attributes now.

Example: clean(some_html, attributes={'iframe': lambda name, val: name=='src' and re.match(r'http://www.youtube.com/', val)})"
597,https://api.github.com/repos/mozilla/bleach/pulls/25,25,linkifying emails,"I have added support for bleach to linkify email addresses into &lt;a href=""mailto:""&gt; tag. I hope that it is really useful commit.

I also changed test_email_link() to check that it works right.

``` bash
~/projects/bleach $ nosetests
.................................................................
----------------------------------------------------------------------
Ran 65 tests in 0.374s

OK
```

Thanks.
",vitalyvolkov,205409,2011-05-23T20:17:23Z,NONE,True,31,6,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,636b65963c21a61d052ec42c47dc2f997c9e7f0c,linkifying of mail addresses
598,https://api.github.com/repos/mozilla/bleach/pulls/25,25,linkifying emails,"I have added support for bleach to linkify email addresses into &lt;a href=""mailto:""&gt; tag. I hope that it is really useful commit.

I also changed test_email_link() to check that it works right.

``` bash
~/projects/bleach $ nosetests
.................................................................
----------------------------------------------------------------------
Ran 65 tests in 0.374s

OK
```

Thanks.
",vitalyvolkov,205409,2011-05-23T20:17:23Z,NONE,True,31,6,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,172a1d83bb4f58cfe5b596df2758b2c69214a17d,set parse_email to default off for backward compatible
599,https://api.github.com/repos/mozilla/bleach/pulls/20,20,Allow all CSS properties in a style attribute,"Nice little library, just what we needed for an application...except we want to allow style attributes with arbitrary css without having to whitelist everything. Commit is backwords-compatible. Thanks.
",jordanm,152941,2011-02-09T17:26:21Z,NONE,False,5,2,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,312449e1f920a8837880d11f604a623707014963,added flag to clean() to make style sanitization optional
600,https://api.github.com/repos/mozilla/bleach/pulls/14,14,Let clean() strip disallowed HTML instead of escaping it,"This patch adds a ""strip"" keyword argument to the Bleach.clean() method that causes the sanitizer to omit disallowed elements instead of escaping them.

Let me know if you think there are more cases to test. Thanks!
",markpasc,19693,2010-11-29T15:29:23Z,CONTRIBUTOR,False,28,1,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,74d000b6f0079951e4c0a0076f1da9ddc79b7364,Add a clean(strip=True) flag to omit disallowed elements instead of escaping them
601,https://api.github.com/repos/mozilla/bleach/pulls/14,14,Let clean() strip disallowed HTML instead of escaping it,"This patch adds a ""strip"" keyword argument to the Bleach.clean() method that causes the sanitizer to omit disallowed elements instead of escaping them.

Let me know if you think there are more cases to test. Thanks!
",markpasc,19693,2010-11-29T15:29:23Z,CONTRIBUTOR,False,28,1,3,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,47fef13dd8fcc846a64571c8a2c38e92a5284228,Add tests for clean(strip=True) flag
602,https://api.github.com/repos/mozilla/bleach/pulls/13,13,Customization enhancements,"Hi,

For my (now previous) job, I decided to change our HTML santizer to bleach. In doing so, I made several changes to bleach so that we could extend it without having to maintain an in-house branch of bleach.

Change Summary:
- `strip` option from markpasc/bleach
- XHTML-compatible shorttag change from pcraciunoiu/bleach
- `strip_comments` option
- tag/attribute name normalization option
- whitelisted CSS styles option
- custom sanitizer class support
- custom serializer class support

Most of the changes that I made have tests associated with them, and the default behavior hasn't changed.

Thanks,
-Mark
",malept,11417,2010-11-24T23:45:38Z,NONE,False,110,19,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,03df4a8d8d9031c264948cfcbd3a7cfa79c12290,"Bleach now leaves self-closing tags alone, result is e.g. <img />"
603,https://api.github.com/repos/mozilla/bleach/pulls/13,13,Customization enhancements,"Hi,

For my (now previous) job, I decided to change our HTML santizer to bleach. In doing so, I made several changes to bleach so that we could extend it without having to maintain an in-house branch of bleach.

Change Summary:
- `strip` option from markpasc/bleach
- XHTML-compatible shorttag change from pcraciunoiu/bleach
- `strip_comments` option
- tag/attribute name normalization option
- whitelisted CSS styles option
- custom sanitizer class support
- custom serializer class support

Most of the changes that I made have tests associated with them, and the default behavior hasn't changed.

Thanks,
-Mark
",malept,11417,2010-11-24T23:45:38Z,NONE,False,110,19,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,8d63b73f01cf8097f47bde573f4665550beb5d1c,Add a clean(strip=True) flag to omit disallowed elements instead of escaping them
604,https://api.github.com/repos/mozilla/bleach/pulls/13,13,Customization enhancements,"Hi,

For my (now previous) job, I decided to change our HTML santizer to bleach. In doing so, I made several changes to bleach so that we could extend it without having to maintain an in-house branch of bleach.

Change Summary:
- `strip` option from markpasc/bleach
- XHTML-compatible shorttag change from pcraciunoiu/bleach
- `strip_comments` option
- tag/attribute name normalization option
- whitelisted CSS styles option
- custom sanitizer class support
- custom serializer class support

Most of the changes that I made have tests associated with them, and the default behavior hasn't changed.

Thanks,
-Mark
",malept,11417,2010-11-24T23:45:38Z,NONE,False,110,19,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,e5ac65704263233e27962d64686f43e4497f403e,"Ignore vim swap files, egg-info folders"
605,https://api.github.com/repos/mozilla/bleach/pulls/13,13,Customization enhancements,"Hi,

For my (now previous) job, I decided to change our HTML santizer to bleach. In doing so, I made several changes to bleach so that we could extend it without having to maintain an in-house branch of bleach.

Change Summary:
- `strip` option from markpasc/bleach
- XHTML-compatible shorttag change from pcraciunoiu/bleach
- `strip_comments` option
- tag/attribute name normalization option
- whitelisted CSS styles option
- custom sanitizer class support
- custom serializer class support

Most of the changes that I made have tests associated with them, and the default behavior hasn't changed.

Thanks,
-Mark
",malept,11417,2010-11-24T23:45:38Z,NONE,False,110,19,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,32325d4634989b7d531ef3e2a6988baa22a82262,"Add strip_comments as an option to clean()

Defaults to True, for backwards compatibility."
606,https://api.github.com/repos/mozilla/bleach/pulls/13,13,Customization enhancements,"Hi,

For my (now previous) job, I decided to change our HTML santizer to bleach. In doing so, I made several changes to bleach so that we could extend it without having to maintain an in-house branch of bleach.

Change Summary:
- `strip` option from markpasc/bleach
- XHTML-compatible shorttag change from pcraciunoiu/bleach
- `strip_comments` option
- tag/attribute name normalization option
- whitelisted CSS styles option
- custom sanitizer class support
- custom serializer class support

Most of the changes that I made have tests associated with them, and the default behavior hasn't changed.

Thanks,
-Mark
",malept,11417,2010-11-24T23:45:38Z,NONE,False,110,19,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,79e06894e17426a5ad1961abdd28e4c4af67e3f3,"Add option to normalize tag names/attributes to lowercase

Defaults to not lowercasing names/attributes, for backwards
compatibility."
607,https://api.github.com/repos/mozilla/bleach/pulls/13,13,Customization enhancements,"Hi,

For my (now previous) job, I decided to change our HTML santizer to bleach. In doing so, I made several changes to bleach so that we could extend it without having to maintain an in-house branch of bleach.

Change Summary:
- `strip` option from markpasc/bleach
- XHTML-compatible shorttag change from pcraciunoiu/bleach
- `strip_comments` option
- tag/attribute name normalization option
- whitelisted CSS styles option
- custom sanitizer class support
- custom serializer class support

Most of the changes that I made have tests associated with them, and the default behavior hasn't changed.

Thanks,
-Mark
",malept,11417,2010-11-24T23:45:38Z,NONE,False,110,19,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,5665d679d6f016bdca77c1180adf75041b6bcc8a,"Add an option to set the whitelisted CSS styles

Defaults to the list built-in to the sanitizer."
608,https://api.github.com/repos/mozilla/bleach/pulls/13,13,Customization enhancements,"Hi,

For my (now previous) job, I decided to change our HTML santizer to bleach. In doing so, I made several changes to bleach so that we could extend it without having to maintain an in-house branch of bleach.

Change Summary:
- `strip` option from markpasc/bleach
- XHTML-compatible shorttag change from pcraciunoiu/bleach
- `strip_comments` option
- tag/attribute name normalization option
- whitelisted CSS styles option
- custom sanitizer class support
- custom serializer class support

Most of the changes that I made have tests associated with them, and the default behavior hasn't changed.

Thanks,
-Mark
",malept,11417,2010-11-24T23:45:38Z,NONE,False,110,19,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,2414c8302ef66cb43d98498dd4b225d3879ed066,Add an option to set a custom base sanitizer class
609,https://api.github.com/repos/mozilla/bleach/pulls/13,13,Customization enhancements,"Hi,

For my (now previous) job, I decided to change our HTML santizer to bleach. In doing so, I made several changes to bleach so that we could extend it without having to maintain an in-house branch of bleach.

Change Summary:
- `strip` option from markpasc/bleach
- XHTML-compatible shorttag change from pcraciunoiu/bleach
- `strip_comments` option
- tag/attribute name normalization option
- whitelisted CSS styles option
- custom sanitizer class support
- custom serializer class support

Most of the changes that I made have tests associated with them, and the default behavior hasn't changed.

Thanks,
-Mark
",malept,11417,2010-11-24T23:45:38Z,NONE,False,110,19,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,3485bd05c3567ff686b3897f405d3f3f4d2651d7,tests: whitespace fix
610,https://api.github.com/repos/mozilla/bleach/pulls/13,13,Customization enhancements,"Hi,

For my (now previous) job, I decided to change our HTML santizer to bleach. In doing so, I made several changes to bleach so that we could extend it without having to maintain an in-house branch of bleach.

Change Summary:
- `strip` option from markpasc/bleach
- XHTML-compatible shorttag change from pcraciunoiu/bleach
- `strip_comments` option
- tag/attribute name normalization option
- whitelisted CSS styles option
- custom sanitizer class support
- custom serializer class support

Most of the changes that I made have tests associated with them, and the default behavior hasn't changed.

Thanks,
-Mark
",malept,11417,2010-11-24T23:45:38Z,NONE,False,110,19,6,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,50caf809807ba9ba8f634dec808108da9fe921dc,Add an option to set a custom serializer class
611,https://api.github.com/repos/mozilla/bleach/pulls/12,12,Linkify overexuberance,"Tolerating ~ now, even those 1738 says it's teh evilz. :-)
",erikrose,295816,2010-10-11T23:29:55Z,MEMBER,True,10,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,002bcba9a874cdfea6a82fcf774f29445e1b9a83,"In linkify(), stop scanning when an RFC 1738-specified unsafe char is encountered in the path portion of the URL.

This keeps URLs from including garbage that happens to be sitting next to them, e.g. www.fred.com/stuff{don't include this}."
612,https://api.github.com/repos/mozilla/bleach/pulls/11,11,Linkify overexuberance,"This keeps linkify() from pulling neighboring impossible-to-be-in-a-URL stuff into a URL stuff into a URL. E.g., {hi there}http://things.com/stuff/to/do{go away} no longer makes {go away} part of the URL.
",erikrose,295816,2010-10-11T23:14:56Z,MEMBER,True,10,1,2,Bleach is an allowed-list-based HTML sanitizing library that escapes or strips markup and attributes,Python,002bcba9a874cdfea6a82fcf774f29445e1b9a83,"In linkify(), stop scanning when an RFC 1738-specified unsafe char is encountered in the path portion of the URL.

This keeps URLs from including garbage that happens to be sitting next to them, e.g. www.fred.com/stuff{don't include this}."
