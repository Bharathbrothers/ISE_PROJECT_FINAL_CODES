,reponame,commitid,commitmsg,commitauthor,commitauthordate,comauthorlogin,shaauthorlogin,stats_total,stats_addns,stats_delns
0,moz-skia,d8730ea8b25d692c0656f8cf03f02aecfab2a17c,"more tests (need more meat in there)



git-svn-id: http://skia.googlecode.com/svn/trunk@97 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-02-27T22:06:06Z,reed@android.com,reed@android.com,725,321,404
1,moz-skia,ed673310e2551e64d8196f7776d7d4c92085f8c2,"add initial unittest framework (tests)
move some previous unittests out of core classes and into tests



git-svn-id: http://skia.googlecode.com/svn/trunk@96 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-02-27T16:24:51Z,reed@android.com,reed@android.com,2105,1352,753
2,moz-skia,3469c76c40790b409621fd7eff34f56240718549,"Handle kA8 bitmaps drawing through a matrix (was infinitely recursive)



git-svn-id: http://skia.googlecode.com/svn/trunk@95 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-02-24T19:03:20Z,reed@android.com,reed@android.com,30,29,1
3,moz-skia,ff7f389c8ad6248a10ce39459b96ba3c4bbd4daf,"Oops, CreateTypeface takes over ownership of the stream, instead of just ref()
This should be changed, for until it is, fix CreateTypefaceFromFile to not call
unref() if the typeface got created.



git-svn-id: http://skia.googlecode.com/svn/trunk@94 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-02-20T21:11:40Z,reed@android.com,reed@android.com,4,2,2
4,moz-skia,1bfd0ca7804a082ce29fd56adb311c79fc11a99f,"Implement CreateTypefaceFromFile



git-svn-id: http://skia.googlecode.com/svn/trunk@93 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-02-20T14:22:36Z,reed@android.com,reed@android.com,76,30,46
5,moz-skia,ae814c809e1c4e02a1876c39065775c8c7d00f96,"add picture-record option to speedup complex clips
remove hack that stopped picture-playback from culling on clipPath() result



git-svn-id: http://skia.googlecode.com/svn/trunk@92 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-02-13T14:56:09Z,reed@android.com,reed@android.com,95,82,13
6,moz-skia,9b0390626f73cc88c05c90de64bfe0481e808f14,"remove white-space



git-svn-id: http://skia.googlecode.com/svn/trunk@91 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-02-11T15:09:58Z,reed@android.com,reed@android.com,6,3,3
7,moz-skia,62900b4c64401bc80ae85f6f5c87309a273cae10,"handle failure when creating a scalercontext



git-svn-id: http://skia.googlecode.com/svn/trunk@90 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-02-11T15:07:19Z,reed@android.com,reed@android.com,154,124,30
8,moz-skia,d9c0f0b57affec7a472879c5919acac6637d926a,"check for non-invertible matrices in getClipBounds()



git-svn-id: http://skia.googlecode.com/svn/trunk@89 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-02-06T22:39:37Z,reed@android.com,reed@android.com,10,6,4
9,moz-skia,c07d23a6e220c0aff36e3e4e06c1b685a440108e,"Chop quads exactly on the clip bounds, so we don't spend CPU cycles walking them
when we're above or below the clip.

Still to do:
- chop in X to avoid 16.16. overflow in the edgelist
- apply the same logic for cubics (tho much harder math)



git-svn-id: http://skia.googlecode.com/svn/trunk@88 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-02-06T13:30:58Z,reed@android.com,reed@android.com,266,248,18
10,moz-skia,3a859a00342ed078af683fd1901fd26c93dd40f0,"draft of Text benchmark
not enabled yet, as having trouble with mac-fonthost port



git-svn-id: http://skia.googlecode.com/svn/trunk@87 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-28T00:56:29Z,reed@android.com,reed@android.com,132,131,1
11,moz-skia,a21ff6f6cf47e2edaaf13fd1450532048cb51d8f,"add png to bench files



git-svn-id: http://skia.googlecode.com/svn/trunk@86 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-27T18:25:02Z,reed@android.com,reed@android.com,2,1,1
12,moz-skia,3c2b7e8b5e718192e9c944b2c79189e2ee227606,"explicitly define the gHead for the codec llist



git-svn-id: http://skia.googlecode.com/svn/trunk@85 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-27T01:43:36Z,reed@android.com,reed@android.com,4,4,0
13,moz-skia,45bcb22e7a95f7f28544a949e699a682cc6bb24f,"update header path (from android)



git-svn-id: http://skia.googlecode.com/svn/trunk@84 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-26T23:54:06Z,reed@android.com,reed@android.com,2,1,1
14,moz-skia,f523e25da069e3e1af2cb73d37073a34f3bb9ea2,"add BitmapBench



git-svn-id: http://skia.googlecode.com/svn/trunk@83 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-26T23:15:37Z,reed@android.com,reed@android.com,230,209,21
15,moz-skia,1b4c81541fb13de1428aeb7a11c8624fc2e1c90a,"don't add in png-codec for the mac build



git-svn-id: http://skia.googlecode.com/svn/trunk@82 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-23T21:51:56Z,reed@android.com,reed@android.com,5,4,1
16,moz-skia,fb210163380c89bffa7cb13772e31ee65b77a1f9,"Move libpng file into app, rather than the libskia, so it doesn't get optimized
away



git-svn-id: http://skia.googlecode.com/svn/trunk@81 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-23T21:24:39Z,reed@android.com,reed@android.com,8,4,4
17,moz-skia,64dbab7e05203e3809b825ad0d65b6f0de3169f8,"need to include carbon.h so we know what OSStatus is



git-svn-id: http://skia.googlecode.com/svn/trunk@80 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-23T16:33:13Z,reed@android.com,reed@android.com,1,1,0
18,moz-skia,3a0b5befc36ca8c8e481123e08f0ccd79ce055c9,"Remove legacy pascal prefix



git-svn-id: http://skia.googlecode.com/svn/trunk@79 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-23T16:23:10Z,reed@android.com,reed@android.com,3,2,1
19,moz-skia,a70ba36c97b4c0e12f1a5ed5b80d7bd31e5cb6ff,"remove duplicate SkTRegistry definition



git-svn-id: http://skia.googlecode.com/svn/trunk@78 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-22T17:41:57Z,reed@android.com,reed@android.com,72,22,50
20,moz-skia,7b830a1d2728eb20be09406fcfe23871e1a61308,"update makefile for newly moved Factories



git-svn-id: http://skia.googlecode.com/svn/trunk@77 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-22T13:41:08Z,reed@android.com,reed@android.com,6,6,0
21,moz-skia,00bf85a98675c9d0c3150bbeb0a3d7198ad8f21f,"pull from android: use registry to build up list of image codecs



git-svn-id: http://skia.googlecode.com/svn/trunk@76 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-22T13:04:56Z,reed@android.com,reed@android.com,289,155,134
22,moz-skia,9db6087c0e8be71e50aa09106759a868cb9597dc,"oops, add images_files.mk
rename options with prefix SKIA_



git-svn-id: http://skia.googlecode.com/svn/trunk@75 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-21T15:07:03Z,reed@android.com,reed@android.com,19,12,7
23,moz-skia,4c7d3d6828b103ada10201608bd6e116d0ac7e61,"make help - shows options in makefile
add optional image-encoding to bench



git-svn-id: http://skia.googlecode.com/svn/trunk@74 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-21T03:15:13Z,reed@android.com,reed@android.com,151,124,27
24,moz-skia,4bc1983e01d756ae9c91fd380758457f579d26ea,"add options to bench: -repeat N -forceOpaque -forceBlend -forceAA -forceBW
output stats for all configs (should be a option)



git-svn-id: http://skia.googlecode.com/svn/trunk@73 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-19T20:08:35Z,reed@android.com,reed@android.com,112,99,13
25,moz-skia,f13c6e113c3fb6ada5ca10686733ad1fa53967fe,"Remove unneeded SK_BUILD_FOR_... checks in SkBitmap.h



git-svn-id: http://skia.googlecode.com/svn/trunk@72 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-19T19:10:24Z,reed@android.com,reed@android.com,21,2,19
26,moz-skia,018d2a2b520a7de0e434a71f362815fe1833ba51,"add -lpthread



git-svn-id: http://skia.googlecode.com/svn/trunk@71 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-16T17:35:45Z,reed@android.com,reed@android.com,2,1,1
27,moz-skia,c990603b787fd573af8a5733535010020a7eb102,"make these compile w/o SK_CAN_USE_FLOAT



git-svn-id: http://skia.googlecode.com/svn/trunk@70 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-16T16:21:28Z,reed@android.com,reed@android.com,12,10,2
28,moz-skia,4cb8bd18d9449328f4d27f22ad4045ecf2aa06bd,"add crude Makefile (someone please help!)
make SkFloatBits.cpp compile w/o floats



git-svn-id: http://skia.googlecode.com/svn/trunk@69 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-16T16:15:37Z,reed@android.com,reed@android.com,166,165,1
29,moz-skia,fc25abdabff76f913fb9d4f373418c10a1eca92b,"fix warnings



git-svn-id: http://skia.googlecode.com/svn/trunk@68 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-15T14:38:33Z,reed@android.com,reed@android.com,200,139,61
30,moz-skia,b50a60c463ae4e2475de8a421b0056b03335b28e,"fix formatting issues



git-svn-id: http://skia.googlecode.com/svn/trunk@67 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-14T17:51:08Z,reed@android.com,reed@android.com,56,31,25
31,moz-skia,6f25297d93ed7fb29264cd072ad15ec25d1e27e7,"fix multiple warnings (e.g. hidden virtuals, unused static functions)
update freetype version-check for const



git-svn-id: http://skia.googlecode.com/svn/trunk@66 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-14T16:46:16Z,reed@android.com,reed@android.com,306,154,152
32,moz-skia,563771e8652efcdd44a04ac49138e0088573d9f5,"update to build with the latest SkFontHost interface
not runtime tested yet



git-svn-id: http://skia.googlecode.com/svn/trunk@65 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-14T14:16:46Z,reed@android.com,reed@android.com,193,51,142
33,moz-skia,343cf1e2ea4bc9b861bc77b84ce56e6c55277b0f,"Add a basic README file.


git-svn-id: http://skia.googlecode.com/svn/trunk@64 2bbb7eff-a529-9590-31e7-b0007b416f81",maruel@google.com,2009-01-13T22:01:54Z,maruel@google.com,maruel@google.com,5,5,0
34,moz-skia,0becfc5b7608ba67a4c98721cd61939e89ac5653,"add optimization for width==1 bitmaps in shader procs
odd warning fixes and cleanup



git-svn-id: http://skia.googlecode.com/svn/trunk@63 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-13T13:26:44Z,reed@android.com,reed@android.com,119,90,29
35,moz-skia,2e86178f2bbfc866c627eb1fee926bd7969144f7,"remove obsolete state



git-svn-id: http://skia.googlecode.com/svn/trunk@62 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-12T16:00:23Z,reed@android.com,reed@android.com,16,0,16
36,moz-skia,5c80ea17d4e4a795bfaeb260fc27e952ba471f1d,"first pass at clean up of the 3 config files
- note that SkUserConfig.h no longer actually does anything



git-svn-id: http://skia.googlecode.com/svn/trunk@60 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-08T17:49:50Z,reed@android.com,reed@android.com,277,132,145
37,moz-skia,d2c37448011f184c38b4650a657904af0a928f7e,"add arg to make diff sized rects



git-svn-id: http://skia.googlecode.com/svn/trunk@59 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-08T03:00:57Z,reed@android.com,reed@android.com,49,35,14
38,moz-skia,a720790ef05a857bace6b88b6a94d1ba8304334c,"move main.cpp outside of the xcode project



git-svn-id: http://skia.googlecode.com/svn/trunk@58 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-07T11:49:19Z,reed@android.com,reed@android.com,8,4,4
39,moz-skia,b398fe863860b072306b5297c8095c6d973aba06,"add cmd-line args
respect canvas size from each bench obj, rather than hardcode 640x480



git-svn-id: http://skia.googlecode.com/svn/trunk@57 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-07T11:47:57Z,reed@android.com,reed@android.com,48,37,11
40,moz-skia,b08eb2b3bce45411494fe00258e4c91248ccd15e,"separate image encode and decode
remove obsolete build-flag for encode



git-svn-id: http://skia.googlecode.com/svn/trunk@56 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-06T20:16:26Z,reed@android.com,reed@android.com,266,127,139
41,moz-skia,092590b88dd87d2fca87d38b2003068ffef37f2f,"Initial automake and autoconf files to build core into libskia.a.

git-svn-id: http://skia.googlecode.com/svn/trunk@55 2bbb7eff-a529-9590-31e7-b0007b416f81",joe.gregorio,2009-01-06T17:03:16Z,joe.gregorio,joe.gregorio,119,119,0
42,moz-skia,acb8fb07bf751538c31a2e0158f8513799402569,"Initial automake and autoconf files to build core into libskia.a.

git-svn-id: http://skia.googlecode.com/svn/trunk@54 2bbb7eff-a529-9590-31e7-b0007b416f81",joe.gregorio,2009-01-06T17:02:39Z,joe.gregorio,joe.gregorio,6,6,0
43,moz-skia,6e073b9e2b70d6bbf8a06050fff1364827204f08,"remove defines for strcasecmp (issue #5)
support setMatrix in pictures



git-svn-id: http://skia.googlecode.com/svn/trunk@53 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-06T15:03:30Z,reed@android.com,reed@android.com,21,13,8
44,moz-skia,bd700c391dd45acd8ea1a40321789c9d92a14bb8,"add benchmark framework



git-svn-id: http://skia.googlecode.com/svn/trunk@52 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-01-05T03:34:50Z,reed@android.com,reed@android.com,613,598,15
45,moz-skia,1550a42d9647162edc4e6758fc2958fa4ab7f6ca,"pull from android - add createfromfile entry-point



git-svn-id: http://skia.googlecode.com/svn/trunk@51 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-23T20:10:57Z,reed@android.com,reed@android.com,5,5,0
46,moz-skia,0b82e02b6a3e0f82b3dce0485362c39de8d8aa10,"explicitly include SkGlyphCache.h, since it is no longer brought in by SkDraw.h



git-svn-id: http://skia.googlecode.com/svn/trunk@50 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-23T19:04:23Z,reed@android.com,reed@android.com,1,1,0
47,moz-skia,4bdd5f60f9bc900c7f5b9e2367566e1d65b5f528,"remove old test that assumed fBM had been decoded



git-svn-id: http://skia.googlecode.com/svn/trunk@49 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-23T18:50:15Z,reed@android.com,reed@android.com,7,0,7
48,moz-skia,da342a891779e0839a645d6634a2f0100bf2c0d6,"update more sample code to new compose shader header



git-svn-id: http://skia.googlecode.com/svn/trunk@48 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-23T18:37:08Z,reed@android.com,reed@android.com,70,56,14
49,moz-skia,0ae6b245f2b79bc04f0801b08fcf05abcf98fd6c,"add mac image-encoding
add 'f' to sampleapp, which writes a png file for the currnet screen



git-svn-id: http://skia.googlecode.com/svn/trunk@47 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-23T16:49:54Z,reed@android.com,reed@android.com,136,121,15
50,moz-skia,0767e4742e3f8b7c87326abc5129da1e200f8ea1,"add CG imagedecoder (still needs encoding)
update some sample files to not use obsolete SkShaderExtras.h



git-svn-id: http://skia.googlecode.com/svn/trunk@46 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-23T16:06:51Z,reed@android.com,reed@android.com,261,241,20
51,moz-skia,76aa34bf8e6f25ff7bd59b63e63ebb754d09105e,"add text to hostapp sample
rename duplicate of SkSVGPath.cpp



git-svn-id: http://skia.googlecode.com/svn/trunk@45 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-23T01:27:39Z,reed@android.com,reed@android.com,395,192,203
52,moz-skia,4df53b0597bf23fe3653f08eaeb381ad8896877b,"don't promote top/left to a fixed, when what we want is just an int



git-svn-id: http://skia.googlecode.com/svn/trunk@44 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-22T22:12:55Z,reed@android.com,reed@android.com,4,2,2
53,moz-skia,03ca3d19c46817eaaadb7dfce1c60c002d809db9,"move CreateTypefaceFromFile into fonthost porting layer, so we don't force a given port to have mmap access.
update core.proj as some headers have changed location



git-svn-id: http://skia.googlecode.com/svn/trunk@43 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-22T15:35:46Z,reed@android.com,reed@android.com,77,41,36
54,moz-skia,2b26cac4fd1a0ff6bfc84757f35198afba3ee1d2,"downgrade project files to 10.4 so more clients can use them
downgrade some CG calls in test apps to not require 10.5 apis
remove leftover printf in SkOSWindow_Mac.cpp



git-svn-id: http://skia.googlecode.com/svn/trunk@42 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-22T02:33:11Z,reed@android.com,reed@android.com,65,23,42
55,moz-skia,0680d6c7caa9c2d4b1e5ee49e5816b96be0cc7bf,"use native mac fonthost
add 444 and (fake) 565 support in cg



git-svn-id: http://skia.googlecode.com/svn/trunk@41 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-19T19:46:15Z,reed@android.com,reed@android.com,1318,666,652
56,moz-skia,aaeab429f9a8a5682bb050e48dfe59a3d105904d,"forgot these



git-svn-id: http://skia.googlecode.com/svn/trunk@40 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-19T19:18:38Z,reed@android.com,reed@android.com,5,5,0
57,moz-skia,3d85e7a44a0e177c9c2466230dbf886d455b6656,"forgot this file



git-svn-id: http://skia.googlecode.com/svn/trunk@39 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-19T19:17:29Z,reed@android.com,reed@android.com,26,26,0
58,moz-skia,64ad9663d6dfddca67cfc2d4f9b609867bbbd72e,"add sampeapp proj



git-svn-id: http://skia.googlecode.com/svn/trunk@38 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-19T19:15:15Z,reed@android.com,reed@android.com,710,709,1
59,moz-skia,6efdc47afc8bb24603fc0d15146ada609b728f2f,"first cut at event-based test app



git-svn-id: http://skia.googlecode.com/svn/trunk@37 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-19T18:24:35Z,reed@android.com,reed@android.com,1148,1121,27
60,moz-skia,647254a7fd78090f64027383ff98e7ff2cc2667b,"fixed debug build include directories


git-svn-id: http://skia.googlecode.com/svn/trunk@36 2bbb7eff-a529-9590-31e7-b0007b416f81",cary@android.com,2008-12-18T19:36:34Z,cary@android.com,cary@android.com,2,1,1
61,moz-skia,0d55f1e73cbbf5456fb05108a0db1f33dafdae79,"move cg utils out of xcode and into src/include



git-svn-id: http://skia.googlecode.com/svn/trunk@35 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-18T19:26:11Z,reed@android.com,reed@android.com,43,35,8
62,moz-skia,fadd796fc5bfbc405042717b9c758346902efd71,"make this header public (at least for now)



git-svn-id: http://skia.googlecode.com/svn/trunk@34 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-18T19:04:43Z,reed@android.com,reed@android.com,0,0,0
63,moz-skia,8b92315f2599b43dd84a5bc66dbf515cb10685e6,"forgot these for app



git-svn-id: http://skia.googlecode.com/svn/trunk@33 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-18T17:56:12Z,reed@android.com,reed@android.com,222,222,0
64,moz-skia,758b129f11d8ce2d2235f73ea4523f21f3d8b079,"draft test app to show skia in a window



git-svn-id: http://skia.googlecode.com/svn/trunk@32 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-18T17:54:12Z,reed@android.com,reed@android.com,1183,1183,0
65,moz-skia,9fb1731ef2b279da54d3d3e0fa04d1e0e5c3651a,"move core files into core (were in images, but are required for core library)



git-svn-id: http://skia.googlecode.com/svn/trunk@31 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-18T17:50:13Z,reed@android.com,reed@android.com,8,8,0
66,moz-skia,33469859a5f9f7a191de8dfaddbaa52fa013267d,"attempt to begin mac shell



git-svn-id: http://skia.googlecode.com/svn/trunk@30 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-18T03:41:19Z,reed@android.com,reed@android.com,469,469,0
67,moz-skia,689411a87ca7d19abe04b5c9baff26bd96b2123e,"fix compile by using the right (new) name for SkComposeShader.h



git-svn-id: http://skia.googlecode.com/svn/trunk@29 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-18T02:52:32Z,reed@android.com,reed@android.com,2,1,1
68,moz-skia,e3be725d2b67982a8751f6f7311b6bb2e50c8028,"merge in from android: fix unichar->utf8 conversion



git-svn-id: http://skia.googlecode.com/svn/trunk@28 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-17T16:22:13Z,reed@android.com,reed@android.com,9,8,1
69,moz-skia,8a1c16ff38322f0210116fa7293eb8817c7e477e,"grab from latest android



git-svn-id: http://skia.googlecode.com/svn/trunk@27 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-17T15:59:43Z,reed@android.com,reed@android.com,139836,139836,0
70,moz-skia,2559c629078f738ac37095d896d580b681ac6a30,"Out with the old...



git-svn-id: http://skia.googlecode.com/svn/trunk@26 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2008-12-17T14:42:41Z,reed@android.com,reed@android.com,90012,0,90012
71,moz-skia,48ede9b432a3c3d62835a1400a9ed347b4a93024,"Added license headers to all files. Sync to latest perforce revision.

git-svn-id: http://skia.googlecode.com/svn/trunk@3 2bbb7eff-a529-9590-31e7-b0007b416f81",croachrose,2006-11-08T19:24:48Z,croachrose,croachrose,100219,55267,44952
72,moz-skia,0f87cd842dd46205d5252c35da6d2c869f3d2e98,"Initial checkin of skia source in google codebase.
* reviewed by me!

git-svn-id: http://skia.googlecode.com/svn/trunk@2 2bbb7eff-a529-9590-31e7-b0007b416f81",croachrose,2006-09-20T15:47:42Z,croachrose,croachrose,79697,79697,0
73,moz-skia,586101c79b0490b50623e76c71a5fd67d8d92b08,"Initial directory structure.

git-svn-id: http://skia.googlecode.com/svn/trunk@1 2bbb7eff-a529-9590-31e7-b0007b416f81",(no author),2006-09-20T15:05:56Z,(no author),(no author),0,0,0
74,moz-skia,9e0c2fcdafa8f2cfe2113e6335eff4efe3e28c86,"fix break in setConfig() where we always reset the bitmap
remove use of non-standard ssize_t in SkSfntUtils.cpp



git-svn-id: http://skia.googlecode.com/svn/trunk@197 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-02T18:54:28Z,reed@android.com,reed@android.com,10,6,4
75,moz-skia,6b8cb256e62b22f921b7e41eb44b07ab7cc0bd56,"Style only change to make SkBitmap to make it build with VC2005.

TBR=reed


git-svn-id: http://skia.googlecode.com/svn/trunk@196 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-06-01T23:52:37Z,agl@chromium.org,agl@chromium.org,9,5,4
76,moz-skia,daa200eba260377f81b84ad060f23322f9ad98a8,"add unimpl macro to help track bugs



git-svn-id: http://skia.googlecode.com/svn/trunk@195 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-01T21:18:36Z,reed@android.com,reed@android.com,76,64,12
77,moz-skia,24cfaa77515f134732e17f44a730efef3740c70d,"update includes for android for gl backend



git-svn-id: http://skia.googlecode.com/svn/trunk@194 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-01T19:48:56Z,reed@android.com,reed@android.com,229,18,211
78,moz-skia,af59d51206ee64d07bc11aba7141071785df0d03,"fontconfig: allow fallback for certain magical font names.

http://codereview.appspot.com/63169
http://code.google.com/p/chromium/issues/detail?id=10665

Patch-by: Evan Martin


git-svn-id: http://skia.googlecode.com/svn/trunk@193 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-06-01T19:20:38Z,agl@chromium.org,agl@chromium.org,34,24,10
79,moz-skia,44a6312cf6a6e8c7c58065f7f8b8d06decc5fd47,"call notifyPixelsChanged() when the pages are flipped in pageflippixelref
update samples



git-svn-id: http://skia.googlecode.com/svn/trunk@192 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-30T02:40:28Z,reed@android.com,reed@android.com,132,27,105
80,moz-skia,89bb83abb420c126b02fcdd4047fd6574e9b73fc,"fix trailing-ws
initialize fFlags in bitmapprocshader



git-svn-id: http://skia.googlecode.com/svn/trunk@191 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-29T21:30:42Z,reed@android.com,reed@android.com,18,10,8
81,moz-skia,25fc5b9f0a1b9aee9d141cba027aa5a14a0df762,"update SDL port to support OpenGL
need to separate out SK_BUILD_FOR_MAC when we need to know where certain OS
headers are, and SK_BUILD_FOR_SDL when we are choosing an SkOSWindow variant...



git-svn-id: http://skia.googlecode.com/svn/trunk@190 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-29T03:40:05Z,reed@android.com,reed@android.com,121,98,23
82,moz-skia,88c2d8ef153a9de1c422412763fd111deb12bb6d,"animate matrixref in sample shapes



git-svn-id: http://skia.googlecode.com/svn/trunk@189 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-27T01:44:24Z,reed@android.com,reed@android.com,42,40,2
83,moz-skia,aa5a7db64a7cb5d1d2b03dadb85e7052dd61879a,"move shapes subclasses into effects



git-svn-id: http://skia.googlecode.com/svn/trunk@188 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-27T01:20:10Z,reed@android.com,reed@android.com,97,77,20
84,moz-skia,c3a8c5fb385dca5c57f8002e5331360f21c1a61f,"create offscreen surface so we can set its RGB ordering to match our internals



git-svn-id: http://skia.googlecode.com/svn/trunk@187 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-26T13:27:48Z,reed@android.com,reed@android.com,44,33,11
85,moz-skia,437f35e5ec24467ba302e0e8113f882a76a690ee,"make include search paths relative



git-svn-id: http://skia.googlecode.com/svn/trunk@186 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-22T21:07:11Z,reed@android.com,reed@android.com,7,6,1
86,moz-skia,366ebeb248618800cdce5951c3f8c4d0fb320bd8,"update relative paths for sample code



git-svn-id: http://skia.googlecode.com/svn/trunk@185 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-22T21:01:38Z,reed@android.com,reed@android.com,6,3,3
87,moz-skia,231209158286d9f80431e16e49be1f8889aa8321,"add actual sdl project file



git-svn-id: http://skia.googlecode.com/svn/trunk@184 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-22T20:57:52Z,reed@android.com,reed@android.com,691,691,0
88,moz-skia,b9af1aec8c1ac36a57135d8038175187ac265863,"add sampleapp_sdl



git-svn-id: http://skia.googlecode.com/svn/trunk@183 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-22T20:53:55Z,reed@android.com,reed@android.com,491,491,0
89,moz-skia,671cd656785de5e84564b6ffe4831625d7016ded,"add SDL support



git-svn-id: http://skia.googlecode.com/svn/trunk@182 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-22T20:44:12Z,reed@android.com,reed@android.com,260,245,15
90,moz-skia,149e2f6159a797989f6f0fa93ecfaa66cdd55c40,"add SkSafeRef / SkSafeUnref as inline static functions, to use in place of our
existing obj->safeRef(), which is unsafe since it can its 'if (this)' can be
optimized away by some compilers.

fix some overflows in mimpmap generation



git-svn-id: http://skia.googlecode.com/svn/trunk@181 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-22T14:39:03Z,reed@android.com,reed@android.com,182,128,54
91,moz-skia,ba974ccbdd7e82df46166a97741b53f074a525b6,"add sample effects



git-svn-id: http://skia.googlecode.com/svn/trunk@180 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-22T13:48:35Z,reed@android.com,reed@android.com,121,119,2
92,moz-skia,72dcd3a3c16a68f98bc345a4263678d43bc3daeb,"init bounds to empty if we return false from getClipBounds()

We were already doing that in one place (empty clip), but now we do it in the
other as well (matrix not invertible).



git-svn-id: http://skia.googlecode.com/svn/trunk@179 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-18T15:46:29Z,reed@android.com,reed@android.com,3,3,0
93,moz-skia,f48f2817668547563310c9e8c39d67224df0e89f,"shapes checkpoint: move matrix into groupshape and out of shape



git-svn-id: http://skia.googlecode.com/svn/trunk@178 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-18T04:20:55Z,reed@android.com,reed@android.com,249,140,109
94,moz-skia,3b895157070ce2c37235f59c43c480da45a48dea,"fix parse error:

Issue 63053: Fixed parse error in XML



git-svn-id: http://skia.googlecode.com/svn/trunk@177 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-18T00:47:46Z,reed@android.com,reed@android.com,2,1,1
95,moz-skia,22dbaaf405e70da862a430f5e2558ce63ce17372,"Fix reference count on openStream

Issue 62067: SkFontHost_linux.cpp: Reference counting problem



git-svn-id: http://skia.googlecode.com/svn/trunk@176 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-18T00:43:58Z,reed@android.com,reed@android.com,9,7,2
96,moz-skia,ed0bfb015a5d64b608f4168e0565689d501cbe98,"fix impl of drawPicture



git-svn-id: http://skia.googlecode.com/svn/trunk@175 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-13T21:01:21Z,reed@android.com,reed@android.com,4,4,0
97,moz-skia,f76bacff7f66724072c67edb185abf9e3add11a0,"add SkSize for dimensions
add SkShape baseclass, in the hopes of having SkPicture inherit from that, and 
also using shapes as the extension mechanism for things like animated-gif



git-svn-id: http://skia.googlecode.com/svn/trunk@174 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-13T14:00:33Z,reed@android.com,reed@android.com,623,612,11
98,moz-skia,25e9834c03a050afbf339f457b8c401aecb26c0b,"Honor pref config in image decoding whenever possible.


git-svn-id: http://skia.googlecode.com/svn/trunk@173 2bbb7eff-a529-9590-31e7-b0007b416f81",weita@google.com,2009-05-11T16:06:22Z,weita@google.com,weita@google.com,91,31,60
99,moz-skia,6a5a2667a7cb2a2ccbb8cc19fe1d5e9ee28bb1d3,"add SkSize for dimensions



git-svn-id: http://skia.googlecode.com/svn/trunk@172 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-08T16:45:52Z,reed@android.com,reed@android.com,139,138,1
100,moz-skia,f76b1b65662d2fb608a7f16565a791ab4e13f66f,"add SK_USE_OLD_255_TO_256 define to disable alpha+1 change to SkAlpha255To256



git-svn-id: http://skia.googlecode.com/svn/trunk@171 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-08T13:10:38Z,reed@android.com,reed@android.com,2,1,1
101,moz-skia,b9890c133f4baa75b8dfeabdc3c888b21af3df8e,"Typo fix for VDMX parsing in Chromium.

TBR=reed


git-svn-id: http://skia.googlecode.com/svn/trunk@170 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-05-07T00:48:12Z,agl@chromium.org,agl@chromium.org,2,1,1
102,moz-skia,fbaa88d9695347299321cbce2bf803726999fb58,"add canCopyTo(), to preflight if copyTo can succeed. update unittests for it



git-svn-id: http://skia.googlecode.com/svn/trunk@169 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-06T17:44:34Z,reed@android.com,reed@android.com,57,40,17
103,moz-skia,311c82db3115fc6810855cbcc42a6bc6fbd48265,"fix copyTo to only copy the minimum pixels per row, and to lock the src before
trying to access its colorTable. Update unittest for copyTo. Add sample for
using a mask to clip a layer.



git-svn-id: http://skia.googlecode.com/svn/trunk@168 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-05T23:13:23Z,reed@android.com,reed@android.com,128,126,2
104,moz-skia,7a561082645315215949fb7ad9c80c883ffd89ad,"add simple port of memory APIs, to be used as a template for other platforms
that may want to add new_handler logic or other hooks.



git-svn-id: http://skia.googlecode.com/svn/trunk@167 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-04T19:24:56Z,reed@android.com,reed@android.com,45,45,0
105,moz-skia,a6260ff5696e3ae45f295463eaeada2cd75a8b85,"update license header



git-svn-id: http://skia.googlecode.com/svn/trunk@166 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-04T18:52:54Z,reed@android.com,reed@android.com,37,19,18
106,moz-skia,a8a8b8b80e2b6be2dd83ef2c1333851fd03a87d7,"check for 0 upem in freetype
add 32bit-overflow check



git-svn-id: http://skia.googlecode.com/svn/trunk@165 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-04T15:00:11Z,reed@android.com,reed@android.com,26,22,4
107,moz-skia,f9ab99aaade8c451c0e9309b4c61a448373019e3,"Allow copying an Index8 bitmap when srcConfig and dstConfig are both
Index8.

Also, change the logic of SkBitmap.copyTo() to do memcpy() if srcConfig
and dstConfig are the same.


git-svn-id: http://skia.googlecode.com/svn/trunk@164 2bbb7eff-a529-9590-31e7-b0007b416f81",weita@google.com,2009-05-03T18:23:30Z,weita@google.com,weita@google.com,218,129,89
108,moz-skia,4226396806f99fea03fcc4f95f6367402bd5fa3d,"add BitmapCopyTest. Still need to consider the src==no_config case



git-svn-id: http://skia.googlecode.com/svn/trunk@163 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-05-01T04:00:01Z,reed@android.com,reed@android.com,97,96,1
109,moz-skia,df8ecfbcffb297c361cb3e30ab4d7469a6b2e966,"Add fontconfig support.

Fontconfig is usually found on Linux systems and handles
configuration, parsing and caching issues involved with enumerating
and matching fonts.

This patch adds SkFontHost methods based on fontconfig.


git-svn-id: http://skia.googlecode.com/svn/trunk@162 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-04-28T17:30:01Z,agl@chromium.org,agl@chromium.org,379,379,0
110,moz-skia,862e91be0225be1e5cfc8157301cfc13d8da4287,"handle interlacing



git-svn-id: http://skia.googlecode.com/svn/trunk@161 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-28T15:27:07Z,reed@android.com,reed@android.com,38,24,14
111,moz-skia,af459795e393dabd8ea02afade5609935c0d9509,"add skiamge (in tools/) that decodes and encodes images



git-svn-id: http://skia.googlecode.com/svn/trunk@160 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-24T19:52:53Z,reed@android.com,reed@android.com,121,121,0
112,moz-skia,543ed9352c7dfd93071c08b14930cca2e82a08d4,"add ADD xfermode
safely handle (don't draw) if the size of SkMask exceeds 31bits



git-svn-id: http://skia.googlecode.com/svn/trunk@159 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-24T12:43:40Z,reed@android.com,reed@android.com,107,86,21
113,moz-skia,b2f92f07d7b6d17b30ce5e89393ce2016a35abc4,"fix mac build



git-svn-id: http://skia.googlecode.com/svn/trunk@158 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-23T05:06:33Z,reed@android.com,reed@android.com,16,10,6
114,moz-skia,cc3096ba6d437b29f1cbd34c237607419cbed72b,"Sync with Chromium's fork

* Add the following font metrics fields:
    + fAvgCharWidth
    + fXMin
    + fXMax
    + fXHeight

* Add \#if 0'ed includes for the Freetype headers for Xcode, scons and
  other tools which chase headers.

* Correctly render 1bpp fonts (mostly Chinese fonts at small sizes)


git-svn-id: http://skia.googlecode.com/svn/trunk@157 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-04-22T22:09:04Z,agl@chromium.org,agl@chromium.org,123,107,16
115,moz-skia,304b59e2adefdd1a49929d61dbf19c9453792b4c,"trivial: fix ws



git-svn-id: http://skia.googlecode.com/svn/trunk@156 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-14T15:10:55Z,reed@android.com,reed@android.com,8,4,4
116,moz-skia,9781ca586618cc8ea055f54021e706824313d4f5,"add SkSfntUtils to parse some known truetype tables
add comments and cleanup to count_tables in SkFontHost_tables.cpp
fix transparency bug in gifs
use (alpha+1) for blending in srcover mode, to ensure opaque results



git-svn-id: http://skia.googlecode.com/svn/trunk@155 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-14T14:28:22Z,reed@android.com,reed@android.com,238,222,16
117,moz-skia,fc3ac327d8e041e11049d7f0dfc7f491590cda75,"SkFontHost_tables: fix minor bugs

http://codereview.appspot.com/33092


git-svn-id: http://skia.googlecode.com/svn/trunk@154 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-04-13T21:43:40Z,agl@chromium.org,agl@chromium.org,24,17,7
118,moz-skia,add8808a42efa041a7c2acdcd06a8e020f56927a,"update for config/ directory



git-svn-id: http://skia.googlecode.com/svn/trunk@153 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-12T01:49:38Z,reed@android.com,reed@android.com,8,4,4
119,moz-skia,eeb3b7ff9813600b6cab662e1a0174ee2e279cac,"support -android mode when running tests, which spews out android specific
formatting for their testing env.



git-svn-id: http://skia.googlecode.com/svn/trunk@152 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-09T04:06:54Z,reed@android.com,reed@android.com,79,61,18
120,moz-skia,c4d409012c2691d19f71c3b3f3369e4cd238fdfd,"move SkUserConfig.h into include/config/ so it can be replaced by changing the
include search list at the Makefile level



git-svn-id: http://skia.googlecode.com/svn/trunk@151 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-08T18:05:24Z,reed@android.com,reed@android.com,2,1,1
121,moz-skia,467a3dc89a384729e38933b4057cb0afa26ca483,"implement generateCountGlyphs using new font table apis



git-svn-id: http://skia.googlecode.com/svn/trunk@150 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-08T05:27:00Z,reed@android.com,reed@android.com,11,10,1
122,moz-skia,d6638e644e430a721ea2dc2372e1880e16a3ff5d,"add Table apis to SkFontHost
need to implement in _win backend



git-svn-id: http://skia.googlecode.com/svn/trunk@149 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-08T05:03:52Z,reed@android.com,reed@android.com,355,351,4
123,moz-skia,16690af1c21dead3eedb25ebd0a4b9a091684ed4,"update SkPostConfig.h to unset LEAN_AND_MEAN if it set it before including <windows.h>



git-svn-id: http://skia.googlecode.com/svn/trunk@148 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-06T16:09:53Z,reed@android.com,reed@android.com,12,10,2
124,moz-skia,9c970453fd1cb6e9618e37c61507465772deca80,"import portability fixes from Chrome around floats
move porting functions for SkDebugf into /ports directory



git-svn-id: http://skia.googlecode.com/svn/trunk@147 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-03T14:26:10Z,reed@android.com,reed@android.com,107,64,43
125,moz-skia,41bccf55b56d75ab0c0b3726dd64baba80ba7e90,"extend gradients to handle (by clamping) the first and last color position if
it is not at 0 or 1.



git-svn-id: http://skia.googlecode.com/svn/trunk@146 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-03T13:33:51Z,reed@android.com,reed@android.com,270,146,124
126,moz-skia,2043f7d009a795e164c58f4674e6b879aeb679c9,"replace floorf() with sk_float_floor(), so it builds on platforms w/o floorf



git-svn-id: http://skia.googlecode.com/svn/trunk@145 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-02T21:11:14Z,reed@android.com,reed@android.com,8,4,4
127,moz-skia,a3c0588694782b4771c7d579b928d6b94b7de364,"add sample for gradients



git-svn-id: http://skia.googlecode.com/svn/trunk@144 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-02T20:49:39Z,reed@android.com,reed@android.com,118,118,0
128,moz-skia,80e39a77b16f4396eed230efea1d0b2fc8cbfb00,"cleanup formating (e.g. no trailing spaces)



git-svn-id: http://skia.googlecode.com/svn/trunk@143 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-02T16:59:40Z,reed@android.com,reed@android.com,249,118,131
129,moz-skia,57b799e951064b9328b5c676dcc3b4cb4477cc2b,"rename tests/main to testmain.cpp
add ANDROID specific work-around for double-cinit bug



git-svn-id: http://skia.googlecode.com/svn/trunk@142 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-01T20:26:42Z,reed@android.com,reed@android.com,44,40,4
130,moz-skia,953ce8dcb714d36f0967e338efbafabd382ccb35,"rename bench's main to benchmain.cpp, to avoid multiple files with same name



git-svn-id: http://skia.googlecode.com/svn/trunk@141 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-01T18:38:43Z,reed@android.com,reed@android.com,2,1,1
131,moz-skia,d252db03d9650013b545ef9781fe993c07f8f314,"API change: SkPath computeBounds -> getBounds



git-svn-id: http://skia.googlecode.com/svn/trunk@140 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-04-01T18:31:44Z,reed@android.com,reed@android.com,469,236,233
132,moz-skia,6c924ad46c89955e78e071c792ef00df9910b42f,"add -pict option to bench, which draws everything through a picture, and then
compares the result to the original draws



git-svn-id: http://skia.googlecode.com/svn/trunk@139 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-31T03:48:49Z,reed@android.com,reed@android.com,432,424,8
133,moz-skia,aefd2bc75738963b9b6579897be32bfbc8fb00af,"Add SkChunkAlloc::unalloc() to undo the last allocation, useful if the caller wants to treat the allocats like temp memory (see PictureRecord)
Call unalloc if a paint (or other cached object) is already in our list for picture recording
Use correct CompareType macro in SkCanvas::quickReject



git-svn-id: http://skia.googlecode.com/svn/trunk@138 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-30T21:02:14Z,reed@android.com,reed@android.com,234,185,49
134,moz-skia,f459a4949d4edb179e015cf12635d26c596fd17c,"make bitmap width/height 32bits, matching the API



git-svn-id: http://skia.googlecode.com/svn/trunk@137 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-27T12:33:50Z,reed@android.com,reed@android.com,17,9,8
135,moz-skia,3eab80cc1f2031b582b37aed6176e1f8df67b72f,"rename drawable to drawing for now, so we don't collide with animator
remove sk_throw in pixelref. a debug statement is enough.



git-svn-id: http://skia.googlecode.com/svn/trunk@136 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-24T18:47:35Z,reed@android.com,reed@android.com,7,2,5
136,moz-skia,6c14b43a840c791699747ba4cc0ed5abf2bda218,"use static_cast
fix comments



git-svn-id: http://skia.googlecode.com/svn/trunk@135 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-23T20:11:11Z,reed@android.com,reed@android.com,28,14,14
137,moz-skia,8898363b2ee02e36dfa4bb166b59c09c4e835b0f,"add check/hack to avoid drawing outside of the clip for hairlines



git-svn-id: http://skia.googlecode.com/svn/trunk@134 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-23T16:05:19Z,reed@android.com,reed@android.com,186,185,1
138,moz-skia,ae64551e2e36fee00bf206666fdfe2b873922eda,"check-point for drawables (experimental)



git-svn-id: http://skia.googlecode.com/svn/trunk@133 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-23T03:27:38Z,reed@android.com,reed@android.com,210,210,0
139,moz-skia,fcce647c0bec614a3dbfbf672a8c1297fe79e58c,"pull latest from android



git-svn-id: http://skia.googlecode.com/svn/trunk@132 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-20T12:23:07Z,reed@android.com,reed@android.com,144,75,69
140,moz-skia,4ddfe357da4a94f587b6ca18b398c23478fa1b24,"check for NaN in path iterator (otherwise we have an infinite loop)



git-svn-id: http://skia.googlecode.com/svn/trunk@131 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-20T12:16:09Z,reed@android.com,reed@android.com,8,8,0
141,moz-skia,797d51acd265fbadd1b54b0974fbb70b8c3d06eb,"forgot to initialize fFactory in the unflatten constructor



git-svn-id: http://skia.googlecode.com/svn/trunk@130 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-20T12:08:57Z,reed@android.com,reed@android.com,1,1,0
142,moz-skia,04225dcdec5a01bc9889b7fb03e7aceb87fccc6e,"build with -Wall
fix associated warnings (at least on gcc 4.0.1)



git-svn-id: http://skia.googlecode.com/svn/trunk@129 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-20T04:59:37Z,reed@android.com,reed@android.com,62,31,31
143,moz-skia,49f0ff25a046d6001dc2d095b6fa3c30f0f46b6a,"promote SkMask's rowBytes to 32bits, since its bounds is a 32bit rect
be sure a rect is sorted before using it as the path's bounds cache



git-svn-id: http://skia.googlecode.com/svn/trunk@128 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-19T21:52:42Z,reed@android.com,reed@android.com,390,375,15
144,moz-skia,79b2cd1be5e334c05d8090548788d1bceb42c5f7,"fix capitalization for system includes



git-svn-id: http://skia.googlecode.com/svn/trunk@127 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-18T19:10:34Z,reed@android.com,reed@android.com,2,1,1
145,moz-skia,eff416bec1bc08685af1dc4265b9d860e43b8240,"fix heapsort



git-svn-id: http://skia.googlecode.com/svn/trunk@126 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-18T03:08:15Z,reed@android.com,reed@android.com,87,46,41
146,moz-skia,a14ea0e930c82daa2364ece4bd0b06256272302a,"Simplify font-chaining (fallbacks) to have fonthost just return the next
logical fontID.
Extend ImageRef to accept an imagedecoder factory, to replace calling the std
one.



git-svn-id: http://skia.googlecode.com/svn/trunk@125 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-17T17:59:53Z,reed@android.com,reed@android.com,259,156,103
147,moz-skia,452f844f64d97e0f54b9258b800755686193136e,"disable cubic test for now (currently broken)



git-svn-id: http://skia.googlecode.com/svn/trunk@124 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-16T18:47:55Z,reed@android.com,reed@android.com,3,2,1
148,moz-skia,3555591c158c242b071c7ec92ad75b6e4cb74af2,"add sanity checks to handles extremely large coordinates or filter margins.
Should not hurt features (we hope), but is an easy way to survive malicious
values on a small-memory machine like a handset.



git-svn-id: http://skia.googlecode.com/svn/trunk@123 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-16T18:46:55Z,reed@android.com,reed@android.com,69,55,14
149,moz-skia,dfb6fb5669b3625ad32c0563b44fb805d1369f68,"Add missing file.


git-svn-id: http://skia.googlecode.com/svn/trunk@122 2bbb7eff-a529-9590-31e7-b0007b416f81",turk@google.com,2009-03-16T17:34:27Z,turk@google.com,turk@google.com,38,38,0
150,moz-skia,1337a7b14c84d2d0bbc077bd0ac521eff05045b9,"see prev. checkin (missed these files). Change ownership rule for streams to the
skia std. of receiver calls ref() if it needs to, but regardless, the caller
always manages/balances its own ownership.



git-svn-id: http://skia.googlecode.com/svn/trunk@121 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-16T13:56:10Z,reed@android.com,reed@android.com,11,5,6
151,moz-skia,791f5a11f22abfa7f8f90c37c98a5f654c7fb4c5,"Change (correct) SkImageRef's ownership rule for streams to the skia standard
pattern: the receiver will call ref() if it chooses when passed to a constructor
or setter, so the caller must balance its ownership itself. This matches how all
other refcnt objects are handled.



git-svn-id: http://skia.googlecode.com/svn/trunk@120 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-16T13:53:11Z,reed@android.com,reed@android.com,15,7,8
152,moz-skia,6f8491bf76cba6c198416048fe577d29b252474b,"Initial implementation of polygon trianagulation. It seems to be robust and passes the associated tests,
but has some problems:
(1) it generates T-vertices;
(2) it only works with right-handed outer contours;
(3) The sort and search are inefficient.


git-svn-id: http://skia.googlecode.com/svn/trunk@119 2bbb7eff-a529-9590-31e7-b0007b416f81",turk@google.com,2009-03-13T22:05:46Z,turk@google.com,turk@google.com,1262,1260,2
153,moz-skia,590ef3fd3a39ff1aa08746e323da41cbd2928f49,"remember to specify the bloody font tag in the constructor!



git-svn-id: http://skia.googlecode.com/svn/trunk@118 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-10T04:02:30Z,reed@android.com,reed@android.com,60,51,9
154,moz-skia,330578d67d466f97c47aecdbdda9d69aa2aa7569,"mac fonts sort of work now
- haven't tested rotation yet
- spacing/bounds still look bad



git-svn-id: http://skia.googlecode.com/svn/trunk@117 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-09T18:12:13Z,reed@android.com,reed@android.com,184,147,37
155,moz-skia,0bf64d48cc18d551dadc7cce0c990352e04f9af8,"implement fontmetrics



git-svn-id: http://skia.googlecode.com/svn/trunk@116 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-09T17:22:22Z,reed@android.com,reed@android.com,167,134,33
156,moz-skia,ea446b9bc594f9ca1cb894d5c3fa05358bfebba3,"check-point (2) on mac fonts
- simplify typeface factories



git-svn-id: http://skia.googlecode.com/svn/trunk@115 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-09T15:25:11Z,reed@android.com,reed@android.com,329,51,278
157,moz-skia,60dfdbc1aef8d8df1c35a1b8ef0ce0a81a20a8b7,"minor check-point for switching to glyphs



git-svn-id: http://skia.googlecode.com/svn/trunk@114 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-09T14:51:39Z,reed@android.com,reed@android.com,12,10,2
158,moz-skia,5e5adfd12cc2cb194db971708cd7f34ff47e10b4,"migrate more legacy unittests into tests/
SkParse yet to be cleaned up



git-svn-id: http://skia.googlecode.com/svn/trunk@113 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-07T03:39:23Z,reed@android.com,reed@android.com,443,219,224
159,moz-skia,62533ed6bb490e9abf5d02686d897a93c5e85d51,"fix leak in Deserialize



git-svn-id: http://skia.googlecode.com/svn/trunk@112 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-06T15:57:26Z,reed@android.com,reed@android.com,16,11,5
160,moz-skia,fb12c3e6ba84f95dc15fbaddc239dede0ba1d60e,"fix ref() in CreateTypeface
fix comment in SkDraw.cpp



git-svn-id: http://skia.googlecode.com/svn/trunk@111 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-05T20:43:42Z,reed@android.com,reed@android.com,6,5,1
161,moz-skia,54043a394ef4479eff187b0defa8c2dea041612c,"patch SkMath.h to build in ARMv4
test code for mac fonts (disabled)



git-svn-id: http://skia.googlecode.com/svn/trunk@110 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-05T14:14:49Z,reed@android.com,reed@android.com,55,54,1
162,moz-skia,b1d9d2ef2803bd55fdc886d13033b48f8450dd14,"Significant cleanup in api, and more importantly in sementics, of SkFontHost
- FindTypeface is now CreateTypeface, and what it returns is always considered
    a new instance, even if it is from a cache (in which case it will have been
    ref()'d. The caller must always balance its ownership by calling unref() on
    the result when they are done.
- CloseStream is gone, since the caller can/must call stream->unref() when they
    are done using it.
- ResolveTypeface is now ValidFontID, and just returns a bool.



git-svn-id: http://skia.googlecode.com/svn/trunk@109 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-04T17:37:51Z,reed@android.com,reed@android.com,309,157,152
163,moz-skia,069b827f8e4f8ca212548719db64983a69b8dc25,"API cleanup: rename typeface Create to CreateFromName, and remove default arg



git-svn-id: http://skia.googlecode.com/svn/trunk@108 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-04T15:31:48Z,reed@android.com,reed@android.com,28,14,14
164,moz-skia,0650c6ca12e026201091f3e9ea9cbf0fed2b6da1,"Move SkTSort.h back to private, and instead allow in the makefile for tests to
see private headers. This also means the tests don't have to use ../.. to find
the private header they want.



git-svn-id: http://skia.googlecode.com/svn/trunk@107 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-04T14:02:44Z,reed@android.com,reed@android.com,5,4,1
165,moz-skia,7d3a58a5e442e0aba239616a4e996e64866ffbd0,"Format more consistently with the rest of Skia.



git-svn-id: http://skia.googlecode.com/svn/trunk@106 2bbb7eff-a529-9590-31e7-b0007b416f81",turk@google.com,2009-03-04T01:33:35Z,turk@google.com,turk@google.com,244,118,126
166,moz-skia,ef772ddb86e9ab5e7e2811c67ed75a24f3ce0e5e,"remove unimplemented (and uncalled) SkTypeface::Hash()



git-svn-id: http://skia.googlecode.com/svn/trunk@105 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-03T21:20:49Z,reed@android.com,reed@android.com,39,15,24
167,moz-skia,1116fb25e582a18db0f87890364fac72ccfe09ce,"change srcover (and dstover) to use the faster thought slightly less accurate
computation of the scale factor (+1 instead of SkAlpha255To256). This has the
upside of guaranteeing that if the dst is opaque (alpha==255), it will always
stay opaque.



git-svn-id: http://skia.googlecode.com/svn/trunk@104 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-03T20:31:12Z,reed@android.com,reed@android.com,23,13,10
168,moz-skia,d66efc273e4996fb18f343bd30dcd506a1698b5b,"add test for different srcover implementations



git-svn-id: http://skia.googlecode.com/svn/trunk@103 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-03T18:35:18Z,reed@android.com,reed@android.com,87,85,2
169,moz-skia,5755a2a9ab531192fd26b523960ae0c551c7b24c,"Unit test and bug fixes for cubic Bezier clipping.


git-svn-id: http://skia.googlecode.com/svn/trunk@102 2bbb7eff-a529-9590-31e7-b0007b416f81",turk@google.com,2009-03-03T02:56:05Z,turk@google.com,turk@google.com,170,162,8
170,moz-skia,4896f9e017db7ebc232a1b19c3abfb69f1ca465a,"Add cubic clipping, similar to that of quad clipping. Both Newton-Raphson and Bisection are implemented, because it is not clear which one will yield the highest performance on a given platform. Bisection is turned on as the default.



git-svn-id: http://skia.googlecode.com/svn/trunk@101 2bbb7eff-a529-9590-31e7-b0007b416f81",turk@google.com,2009-03-02T20:00:00Z,turk@google.com,turk@google.com,209,209,0
171,moz-skia,98de2bdbd12a01aaf347ca2549801b5940613f3f,"explicitly call ""our"" version of clipPath in the case when clipRect needs to
turn itself into a path when the matrix rotates. This avoids infinite recursion
when the canvas is subclassed (e.g. SkPicture's recording canvas).



git-svn-id: http://skia.googlecode.com/svn/trunk@100 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-02T19:41:36Z,reed@android.com,reed@android.com,10,9,1
172,moz-skia,3abec1d7c38e9bd786fc6057f9608f3eeec98c86,"add initial unittests for Path
add operator== for paths
still need to implement isRect!



git-svn-id: http://skia.googlecode.com/svn/trunk@99 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-03-02T05:36:20Z,reed@android.com,reed@android.com,170,78,92
173,moz-skia,a396a16d53c1355c59f9f1f739618b47dc346ee4,"add tests (unittests) to Makefile
move SkTSort.h into public includes



git-svn-id: http://skia.googlecode.com/svn/trunk@98 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-02-28T18:26:14Z,reed@android.com,reed@android.com,20,18,2
174,moz-skia,ac98154faa0e786444bafcd093fd4842127fbf18,"add GetFileName api to SkFontHost



git-svn-id: http://skia.googlecode.com/svn/trunk@299 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-31T16:17:01Z,reed@android.com,reed@android.com,96,95,1
175,moz-skia,61608aaf932708e3e8ac05097ead1bf7885ec87d,"fix #endif placement so it works when LCD support is not defined



git-svn-id: http://skia.googlecode.com/svn/trunk@298 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-31T14:52:54Z,reed@android.com,reed@android.com,2,1,1
176,moz-skia,4bda7a5e68d1f8a73c7c5ad532da1516ea085edd,"add opts for neon



git-svn-id: http://skia.googlecode.com/svn/trunk@297 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-30T20:40:47Z,reed@android.com,reed@android.com,227,218,9
177,moz-skia,ed7bd9b4d391b87d0c4a523a2f3f8ca9787aa10d,"add opts files to the make



git-svn-id: http://skia.googlecode.com/svn/trunk@296 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-30T02:25:54Z,reed@android.com,reed@android.com,7,7,0
178,moz-skia,7d2e322beeb9361f93a7983193bdf20ac972d341,"add optimization table for blitproc functions



git-svn-id: http://skia.googlecode.com/svn/trunk@295 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-30T02:22:31Z,reed@android.com,reed@android.com,323,306,17
179,moz-skia,b6137c3139b1b1da99ad9f6c28ac0d9e8f910ff6,"remove auto-upscaling from base class (breaks model for allocators) but improve
the upscaling inside the png codec.



git-svn-id: http://skia.googlecode.com/svn/trunk@294 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-29T20:56:52Z,reed@android.com,reed@android.com,65,36,29
180,moz-skia,f18d8760019ae999c63d1f0b0e6e52815202b23b,"Add runtime detection for missing subpixel support in FreeType.

r291 added support for building on platforms where subpixel support
has been compiled out of FreeType. However, it turns out that there is
a common situation in which we build on platforms with subpixel
support, but have to run without it: people downloading Chromium from
the buildbots.

Because we this, we need a runtime solution. Modifying the conversion
routines for this seems suboptimal because the extra branches will
slow down everyone. So we probe subpixel support at runtime by trying
to install a low-pass filter. If we fail at this, then we map all the
SkScalerContext::Rec structures to remove subpixel mode.

http://codereview.appspot.com/98057


git-svn-id: http://skia.googlecode.com/svn/trunk@293 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-07-28T18:38:08Z,agl@chromium.org,agl@chromium.org,15,15,0
181,moz-skia,5ebd88eb24f238c7afa93417f873c4d329b17d42,"Revert ""Support subpixel text when FreeType is built without such support.""

This reverts commit r291. It will be replaced with another solution in the next
commit.


git-svn-id: http://skia.googlecode.com/svn/trunk@292 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-07-28T18:38:04Z,agl@chromium.org,agl@chromium.org,35,7,28
182,moz-skia,ac3011c6d4a885af4f37e22ce94451a778239b0d,"Support subpixel text when FreeType is built without such support.

On Fedora, at least, FreeType is built without subpixel support. It
tries to simulate subpixel mode by replicating the gray-values three
times. However, it fails to simulate the actions of the low-pass
filter and so doesn't add border around the glyphs. This patch adds a
compile-time constant, which is the number of bytes of filter border.
If this value is zero (because FreeType is simulating subpixel
support), then we add a transparent border ourselves when transforming
from FreeType rendered glyphs to masks.

http://codereview.appspot.com/96171


git-svn-id: http://skia.googlecode.com/svn/trunk@291 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-07-28T00:02:42Z,agl@chromium.org,agl@chromium.org,35,28,7
183,moz-skia,e2ca20740b1b3c9e71c085017b64fc9d2f553d93,"ws fixes
use enum in getHinting() function, rather than hard-coded constants



git-svn-id: http://skia.googlecode.com/svn/trunk@290 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-27T16:39:38Z,reed@android.com,reed@android.com,16,10,6
184,moz-skia,e4d0bc0b57bd2236ed591d2c505556963777156b,"add filterrec logic for subpixel and slight-hinting



git-svn-id: http://skia.googlecode.com/svn/trunk@289 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-24T19:53:20Z,reed@android.com,reed@android.com,26,17,9
185,moz-skia,e61238b4f6943097f60a1ad1bf678f6a98613564,"Build fix: add FilterRec for Windows.

Since we don't control the settings on Windows, I believe we may just
as well filter everything.

TBR=reed

http://codereview.appspot.com/97070


git-svn-id: http://skia.googlecode.com/svn/trunk@288 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-07-23T21:10:32Z,agl@chromium.org,agl@chromium.org,8,8,0
186,moz-skia,bfbd4fff66da7fa4409a4d4bf838b85ef69a7200,"fix uninitialized library variable



git-svn-id: http://skia.googlecode.com/svn/trunk@287 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-23T17:44:41Z,reed@android.com,reed@android.com,2,1,1
187,moz-skia,41f8d4807b637d911d4706bd381638b8c0d09c93,"remove const from function return-type signature (useless, and generates gcc
warnings)



git-svn-id: http://skia.googlecode.com/svn/trunk@286 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-23T16:00:37Z,reed@android.com,reed@android.com,2,1,1
188,moz-skia,659aaf9e9a3f139ee2a1ce4a49f06fc74f430703,"fix warnings (unused local var)



git-svn-id: http://skia.googlecode.com/svn/trunk@285 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-23T15:20:21Z,reed@android.com,reed@android.com,7,3,4
189,moz-skia,bd2724f672824dda7832f5503ba4e39acf1ec88c,"Fix valgrind warnings triggered in vertical mode.

Now that Chrome is rendering subpixel text, I was able to try running
the renderer process under valgrind, which turned up a number of
issues.

First, I was calculating the stride of vertical LCD glyphs wrong
(typo).

Secondly, I was going horribly wrong when a glyph was being blitted at
the edge of a bitmap. I suspected something was wrong with the code,
but I wasn't clear enough with the structure of the code when writing
it to figure out what the correct solution was.

http://codereview.appspot.com/97059


git-svn-id: http://skia.googlecode.com/svn/trunk@284 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-07-22T21:50:59Z,agl@chromium.org,agl@chromium.org,82,62,20
190,moz-skia,36a4c2aa2dc2363dc093089b732346459ddc3b65,"Add SkFontHost::FilterRect() which allows the font host to filter our request
before we turn it into a font-cache entry, for the cases where the scaler will
ignore and/or collapse certain feature requests (e.g. doesn't support all levels
of hinting)



git-svn-id: http://skia.googlecode.com/svn/trunk@283 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-22T19:52:11Z,reed@android.com,reed@android.com,71,65,6
191,moz-skia,f549369fcd9f203dc8020b5b15ee49330058782a,"rename SK_BUILD_SUBPIXEL to SK_SUPPORT_LCDTEXT to better match the name of the
feature (since we already have subpixel text support)

fix some debug-compile problems

update Makefile for lcd files



git-svn-id: http://skia.googlecode.com/svn/trunk@282 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-22T19:21:01Z,reed@android.com,reed@android.com,106,91,15
192,moz-skia,01f82da73b38cdaaebf8862b4cb0bc636a52f78a,"remove crufty #undefs



git-svn-id: http://skia.googlecode.com/svn/trunk@281 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-22T17:11:41Z,reed@android.com,reed@android.com,26,5,21
193,moz-skia,9da1ae3f35a6f25adf4f58ae2589129ceec6d11b,"fix NaN in path iterator
fix case where cubic is big/degenerate, and never returns a valid edge



git-svn-id: http://skia.googlecode.com/svn/trunk@280 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-22T17:06:15Z,reed@android.com,reed@android.com,12,6,6
194,moz-skia,f03642675ee92889ed8c2def1665ac0d7bc71af7,"Typo fix.


git-svn-id: http://skia.googlecode.com/svn/trunk@279 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-07-21T18:58:43Z,agl@chromium.org,agl@chromium.org,2,1,1
195,moz-skia,84346211aa414450e4bc470891105ccd5f0c46b4,"Remove unused variable to fix warning on Windows:
  src\core\SkBlitter_ARGB32.cpp(362) : warning C4101: 'alpha32' : unreferenced local variable


git-svn-id: http://skia.googlecode.com/svn/trunk@278 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-07-21T18:07:42Z,agl@chromium.org,agl@chromium.org,1,0,1
196,moz-skia,1a18cdc85f172139ea20ac116969e954a8df786e,"Mac: fix SkFontHost_mac.cpp to work with the new hinting interface.


git-svn-id: http://skia.googlecode.com/svn/trunk@277 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-07-21T18:05:59Z,agl@chromium.org,agl@chromium.org,17,8,9
197,moz-skia,2db1177fd57e984e265055485a9ca14075c90975,"Delete duplicated code.

patch went wrong and duplicated SkFontHost.cpp.


git-svn-id: http://skia.googlecode.com/svn/trunk@276 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-07-21T17:52:08Z,agl@chromium.org,agl@chromium.org,45,0,45
198,moz-skia,309485b7b51f4cae4c0361ab4da00fe9cc89515c,"Subpixel glyph rendering support.

This patch adds support for rendering subpixel glyphs (using
Freetype). In order to control this rendering see
SkPaint::setLCDRenderText in SkPaint.h.

To setup the LCD mode, see SkFontHost::SetSubpixelOrientation and
SkFontHost::SetSubpixelOrder in SkFontHost.h.

This patch also adds more fine grained control over hinting (again,
only for Freetype currently). One can now control the hinting with
SkPaint::setHinting.


git-svn-id: http://skia.googlecode.com/svn/trunk@275 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-07-21T17:41:32Z,agl@chromium.org,agl@chromium.org,821,734,87
199,moz-skia,a380ae4a9ac209f5676c06aeaceacc1b08817eda,"fix quickReject() to handle perspective correctly (i.e. transform forward into
dst-space, and perform the clip-test there).



git-svn-id: http://skia.googlecode.com/svn/trunk@274 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-21T01:17:02Z,reed@android.com,reed@android.com,32,20,12
200,moz-skia,aa9152abbca3a958a9379f4e5067a1c37486d677,"add special proc for repeat 16->16 filter bitmap shader



git-svn-id: http://skia.googlecode.com/svn/trunk@273 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-17T21:24:56Z,reed@android.com,reed@android.com,24,22,2
201,moz-skia,2a679d27f8609b4dcfd864850409f4b8443f43cd,"remove obsolete header



git-svn-id: http://skia.googlecode.com/svn/trunk@272 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-17T15:28:17Z,reed@android.com,reed@android.com,58,0,58
202,moz-skia,83f7bc30af2837c985934e14597caec332899a1c,"remove conditional build flag for mipmaps
remove obsolete SkBitmapShader.cpp file



git-svn-id: http://skia.googlecode.com/svn/trunk@271 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-17T02:42:41Z,reed@android.com,reed@android.com,907,25,882
203,moz-skia,48534f96b9ccb747cecbdf3818bfbd3523a4d034,"first cut at support for HW-specific blits/etc.



git-svn-id: http://skia.googlecode.com/svn/trunk@270 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-16T20:53:26Z,reed@android.com,reed@android.com,215,206,9
204,moz-skia,9ce225772902ec909e4b9e00cd2a7a89fe925262,"quick return if we just want the bounds



git-svn-id: http://skia.googlecode.com/svn/trunk@269 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-16T14:50:54Z,reed@android.com,reed@android.com,6,6,0
205,moz-skia,a44b4cc7976b06caf3a3f6b7913c2af92eb32217,"try our first special-case shaderproc



git-svn-id: http://skia.googlecode.com/svn/trunk@268 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-16T02:03:58Z,reed@android.com,reed@android.com,112,111,1
206,moz-skia,7a99eb1c63d4327d352af09ea59f039f014e4028,"add shaderprocs for all-in-one special blits (matrix+sampler)



git-svn-id: http://skia.googlecode.com/svn/trunk@267 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-16T01:13:14Z,reed@android.com,reed@android.com,130,87,43
207,moz-skia,b4f404ac4195e5b1f49e49c591bd69f98b246f9b,"handle cap==round for drawPoints



git-svn-id: http://skia.googlecode.com/svn/trunk@266 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-10T17:02:17Z,reed@android.com,reed@android.com,11,7,4
208,moz-skia,b602b8e5334edc0bfcdf086c2ea58e2b5d5f1f3b,"tweaks to 16bit shaders
fix typo-bug in 4444 blend case



git-svn-id: http://skia.googlecode.com/svn/trunk@265 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-10T15:58:53Z,reed@android.com,reed@android.com,16,5,11
209,moz-skia,32a4249cbd3ebcb448fb0824afe875cdf9036686,"make a deep copy in CreateCGImageRef if we're 565, but first upscale to 32bit.
this at least draws the right colors, since we're 565 and CG only supports 1555
(unless someone knows how to tell CG we're 565...)

Fix ws in picturerecord

Enable dither in sample gradients, so the 4444 case isn't so ugly



git-svn-id: http://skia.googlecode.com/svn/trunk@264 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-10T03:33:52Z,reed@android.com,reed@android.com,24,18,6
210,moz-skia,dafaf7ac4d89f183dc515907665cdac3e3098466,"speedup 16bit shaders in the blitRect case
faster 32->16 blend by using the expand_16 intermediate format



git-svn-id: http://skia.googlecode.com/svn/trunk@263 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-10T03:05:59Z,reed@android.com,reed@android.com,109,88,21
211,moz-skia,b4e22d62da422f3599ef9bd5091c5f4b7709d27e,"check for underflow in restore() during picture record, and ignore it



git-svn-id: http://skia.googlecode.com/svn/trunk@262 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-09T15:20:25Z,reed@android.com,reed@android.com,22,12,10
212,moz-skia,1134426f6b1c4130e8dbe4c38a4aa976fbb18b4b,"respect preferred config when png is index-based



git-svn-id: http://skia.googlecode.com/svn/trunk@261 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-08T20:09:23Z,reed@android.com,reed@android.com,250,215,35
213,moz-skia,40443b2371ecc61e04ad496f69919dc1e30036f5,"fix (aaaargh) white-space



git-svn-id: http://skia.googlecode.com/svn/trunk@260 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-08T15:11:19Z,reed@android.com,reed@android.com,3,1,2
214,moz-skia,31745581ca72bd6d4898f1344d2cc6bc41710664,"use scalarcomparetype in matrix tests, so we don't do anything tricky
(unnecessary) when floats are fast



git-svn-id: http://skia.googlecode.com/svn/trunk@259 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-08T14:46:11Z,reed@android.com,reed@android.com,7,4,3
215,moz-skia,187d5595901d1120d9425851e5afdd773f574502,"add dox for scalarcomparetype
use internal mutable version of drawPath when we've cons'd up a path on behalf
of a rect



git-svn-id: http://skia.googlecode.com/svn/trunk@258 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-08T14:03:56Z,reed@android.com,reed@android.com,21,16,5
216,moz-skia,24fc56f7b1ff1c964a5620c892d84e4f3cc50d11,"initial golden-master images for gm tool



git-svn-id: http://skia.googlecode.com/svn/trunk@257 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-08T03:00:42Z,reed@android.com,reed@android.com,0,0,0
217,moz-skia,b9b9a18ab459c2616ac4a52c9f8cc0637d284229,"use genericRGB space to ensure that we decode exactly the pixels we encode
add -r option to gm to read and compare against known images



git-svn-id: http://skia.googlecode.com/svn/trunk@256 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-08T02:54:47Z,reed@android.com,reed@android.com,65,58,7
218,moz-skia,9dc5465c1c5cc11f72ddb0419da1964bc865c26f,"check if the encoder factory returned null



git-svn-id: http://skia.googlecode.com/svn/trunk@255 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-07T21:18:10Z,reed@android.com,reed@android.com,3,2,1
219,moz-skia,6189877c50166f58f09c6583a9aa37c735310779,"add support for encoding Index8 bitmaps into png



git-svn-id: http://skia.googlecode.com/svn/trunk@254 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-07T19:38:01Z,reed@android.com,reed@android.com,21,11,10
220,moz-skia,3d06a8c38d1f629a3a012c20395e425c4fca5cf3,"add FIXME to comment



git-svn-id: http://skia.googlecode.com/svn/trunk@253 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-07T18:19:59Z,reed@android.com,reed@android.com,3,2,1
221,moz-skia,e18f9dff7a1827c79e7c6fd938157c2fedd47d13,"initialize fShapeCount in init()



git-svn-id: http://skia.googlecode.com/svn/trunk@252 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-07T13:25:15Z,reed@android.com,reed@android.com,2,1,1
222,moz-skia,084ad42b91546f0f99d7cd5064c04edacede66ff,"fix white-space



git-svn-id: http://skia.googlecode.com/svn/trunk@251 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-07T13:20:37Z,reed@android.com,reed@android.com,2,1,1
223,moz-skia,da94699149a40a90731425766d3b994e34c5ba26,"Optimize some alpha blending modes.

- Inline the component calculation helpers.
- Reorder the computation in plus_modeproc.

This doubles the performance of plus_modeproc.

Review URL: http://codereview.appspot.com/88084


git-svn-id: http://skia.googlecode.com/svn/trunk@250 2bbb7eff-a529-9590-31e7-b0007b416f81",deanm@chromium.org,2009-07-03T12:54:24Z,deanm@chromium.org,deanm@chromium.org,14,7,7
224,moz-skia,8433b5db1a0f94cd92d2606817d5374ab899b87a,"more checks for null shapes in pictures



git-svn-id: http://skia.googlecode.com/svn/trunk@249 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-03T02:52:27Z,reed@android.com,reed@android.com,30,21,9
225,moz-skia,1c12abe3508cd69615c2dd50653f782835e325ce,"fix gradients with alpha to convert to premul *after* the intermediate color
has been computed, othewise we can't distinguish 0x00000000 from 0x00FF0000
Add fast case for index blit where we read 4 src pixels at a time



git-svn-id: http://skia.googlecode.com/svn/trunk@248 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-02T15:01:02Z,reed@android.com,reed@android.com,157,127,30
226,moz-skia,ab840b81a9833bbdeb49af59833d5c707e15143d,"remove (ack) test code in lineargradient when pos array is null



git-svn-id: http://skia.googlecode.com/svn/trunk@247 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-07-01T17:00:03Z,reed@android.com,reed@android.com,13,4,9
227,moz-skia,bff8e29eaf23a625879f6acf1fbea46a18fcbd9a,"Fix a precedence error in an assert in the fontconfig host.

Review URL: http://codereview.appspot.com/90060


git-svn-id: http://skia.googlecode.com/svn/trunk@246 2bbb7eff-a529-9590-31e7-b0007b416f81",deanm@chromium.org,2009-07-01T07:49:44Z,deanm@chromium.org,deanm@chromium.org,2,1,1
228,moz-skia,a545a5598e59c22c529e5f33964df1ddd6601ac2,"fix config check to include SkColorPriv.h so we don't get the warning w/o need



git-svn-id: http://skia.googlecode.com/svn/trunk@245 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-29T17:07:19Z,reed@android.com,reed@android.com,20,12,8
229,moz-skia,4516f4786f5dda1b86a8f825b9e8e910d9c2363c,"use sk_bzero instead of bzero, since it isn't always available.



git-svn-id: http://skia.googlecode.com/svn/trunk@244 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-29T16:25:36Z,reed@android.com,reed@android.com,67,36,31
230,moz-skia,4b7577b042966657c776fd95c67f9363af57945f,"add unittest for matrix::flatten
define constant for max value flatten/unflatten can return (so clients can put
the buffer on the stack)



git-svn-id: http://skia.googlecode.com/svn/trunk@243 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-29T16:14:41Z,reed@android.com,reed@android.com,34,29,5
231,moz-skia,0ad336f8c6f6f0325eee309c9cd501ea432cc33e,"add shape flatten so they work properly in pictures
add flatten/unflatten to matrix



git-svn-id: http://skia.googlecode.com/svn/trunk@242 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-29T16:02:20Z,reed@android.com,reed@android.com,182,145,37
232,moz-skia,0bfffc59a0d4967a18cc3c4f429af3f706c18511,"add golden master code for shapes



git-svn-id: http://skia.googlecode.com/svn/trunk@241 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-26T20:22:44Z,reed@android.com,reed@android.com,131,131,0
233,moz-skia,09b84a00f79979142fbcfd691ccaeb5e5600922d,"add shape recording to pictuures (sans serialization)



git-svn-id: http://skia.googlecode.com/svn/trunk@240 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-26T20:22:26Z,reed@android.com,reed@android.com,108,91,17
234,moz-skia,0baf19375466cfc24c96532df406e7c5b1d1aae8,"detect nearly translate-only matrices when drawing bitmaps (for speed)
rename setXfermode(Mode) to setXfermodeMode(Mode) for sanity
fix memory leak in setXfermode(Mode)



git-svn-id: http://skia.googlecode.com/svn/trunk@239 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-24T12:41:42Z,reed@android.com,reed@android.com,93,57,36
235,moz-skia,d66eef71012bdbc14834c12c8af1c946fe0d8499,"fix memory leak in new setXfermode()



git-svn-id: http://skia.googlecode.com/svn/trunk@238 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-24T12:29:16Z,reed@android.com,reed@android.com,11,6,5
236,moz-skia,ee0eb012c559506d35778af5cde3bb06b2ebc966,"add new make target ""all"", to build all known targets



git-svn-id: http://skia.googlecode.com/svn/trunk@237 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-23T17:13:30Z,reed@android.com,reed@android.com,3,3,0
237,moz-skia,048522dd2aa45d1b4bf52944527f877b30ea45fd,"remove remaining references to porterduff



git-svn-id: http://skia.googlecode.com/svn/trunk@236 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-23T12:19:41Z,reed@android.com,reed@android.com,341,255,86
238,moz-skia,845fdaca174f4675e9acc164b510e3a5ffa9053c,"remove deprecated use of porterduff enum



git-svn-id: http://skia.googlecode.com/svn/trunk@235 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-23T03:01:32Z,reed@android.com,reed@android.com,443,204,239
239,moz-skia,c9c64229034f595a3dc9e193b2e531c809e1eaf7,"update to use new xfermodes



git-svn-id: http://skia.googlecode.com/svn/trunk@234 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-23T00:09:12Z,reed@android.com,reed@android.com,64,37,27
240,moz-skia,8ede49268daa98c4b2bce1c379aeb592f96243ee,"merge in change from chrome to detect when the byte order for 8888 requires
additional CGBitmapInfo flags (e.g. for bigendian)



git-svn-id: http://skia.googlecode.com/svn/trunk@233 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-22T20:04:33Z,reed@android.com,reed@android.com,26,25,1
241,moz-skia,a0f5d1546d499ef0cd7dbfba9a866ae5a27e1541,"move xfermode modes from porterduff into xfermode itself



git-svn-id: http://skia.googlecode.com/svn/trunk@232 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-22T17:38:10Z,reed@android.com,reed@android.com,701,543,158
242,moz-skia,1a2fec55d914f0a01cbee37077105ef6c8a7366f,"add gm for shader tilemodes



git-svn-id: http://skia.googlecode.com/svn/trunk@231 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-22T02:17:34Z,reed@android.com,reed@android.com,157,156,1
243,moz-skia,42309d415e56f6fbeeea8239479d3f4ccf81a5ac,"add gm for gradients



git-svn-id: http://skia.googlecode.com/svn/trunk@230 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-22T02:06:35Z,reed@android.com,reed@android.com,115,114,1
244,moz-skia,25b04349088f5ca956a20cfbdca253520f7d6b50,"gm -w 'directory' now works for recording the master images



git-svn-id: http://skia.googlecode.com/svn/trunk@229 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-21T01:40:31Z,reed@android.com,reed@android.com,9,5,4
245,moz-skia,8015dd83ae37147bb630d4751030868051ad0cae,"almost there on gm (need to fix image writes/reads/compares)
move SkAutoGraphics into SkGraphics.h
add [] operators to SkString



git-svn-id: http://skia.googlecode.com/svn/trunk@228 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-21T00:49:18Z,reed@android.com,reed@android.com,150,95,55
246,moz-skia,dd0ac281e920b01a63789893cc3e7422789658dd,"more progress on golden-master test suite (not finished yet)



git-svn-id: http://skia.googlecode.com/svn/trunk@227 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-20T02:38:16Z,reed@android.com,reed@android.com,226,219,7
247,moz-skia,086f2896e09191899c47b2ccbf860b7b317c44aa,"add width()/height() getters



git-svn-id: http://skia.googlecode.com/svn/trunk@226 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-20T02:34:55Z,reed@android.com,reed@android.com,3,3,0
248,moz-skia,90e764e3d93ac6f29e3b910ebc2f6527a2cc41ec,"update to latest api (need a test for this port!)



git-svn-id: http://skia.googlecode.com/svn/trunk@225 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-19T20:35:36Z,reed@android.com,reed@android.com,277,156,121
249,moz-skia,5c44d321d0d3b5a82b269b9cfc39027793f5104b,"Make sure we have a non-null FreeType face before dereferencing it.

This prevents a NULL pointer crash in generateFontMetrics with some fonts.

Patch by Lei Zhang.  Original Chromium bug: http://code.google.com/p/chromium/issues/detail?id=13007

Review URL: http://codereview.appspot.com/78056


git-svn-id: http://skia.googlecode.com/svn/trunk@224 2bbb7eff-a529-9590-31e7-b0007b416f81",deanm@chromium.org,2009-06-19T08:57:16Z,deanm@chromium.org,deanm@chromium.org,4,4,0
250,moz-skia,a16cb97c89fedcd521aeaadfa94feddbcb6729b1,"really fix gif movie registration



git-svn-id: http://skia.googlecode.com/svn/trunk@223 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-18T20:26:58Z,reed@android.com,reed@android.com,6,6,0
251,moz-skia,5df93eada5bf8c977c433c0189df7079fc60509c,"fix stupid tabs



git-svn-id: http://skia.googlecode.com/svn/trunk@222 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-18T18:52:22Z,reed@android.com,reed@android.com,5,2,3
252,moz-skia,8540a79396e9fd2d3dbc1c409b4e5cd1b95f018e,"add registrar for gif movie



git-svn-id: http://skia.googlecode.com/svn/trunk@221 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-18T17:53:12Z,reed@android.com,reed@android.com,32,19,13
253,moz-skia,81aaa9d8c097f6c5116a85ba6abbd8b3bdab4019,"Fix MSVC builds by avoiding a uint to bool warning.

warning C4800: 'const uint8_t' : forcing value to bool 'true' or 'false' (performance warning)

Review URL: http://codereview.appspot.com/79043


git-svn-id: http://skia.googlecode.com/svn/trunk@220 2bbb7eff-a529-9590-31e7-b0007b416f81",deanm@chromium.org,2009-06-18T14:46:03Z,deanm@chromium.org,deanm@chromium.org,2,1,1
254,moz-skia,0ea42c1d2c35cc05564800f5006d5ae55ef28f6f,"fallback to drawing a line if the cubic is still too curvy, even if we've
exhausted our recursive attempts to subdivide.

Fixes trying to stroke this cubic (width==1.0)

    path.moveTo(460.2881309415525, 303.250847066498);
    path.cubicTo(463.36378422175284, 302.1169735073363,
                 456.32239330810046, 304.720354932878,
                 453.15255460013304, 305.788586869862);



git-svn-id: http://skia.googlecode.com/svn/trunk@219 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-17T19:21:01Z,reed@android.com,reed@android.com,10,7,3
255,moz-skia,ad687ceae225a8bd5af2acbca5382b6147af29d7,"add sample for mipmaps



git-svn-id: http://skia.googlecode.com/svn/trunk@218 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-16T01:50:25Z,reed@android.com,reed@android.com,140,140,0
256,moz-skia,31d1c64bd54dd2b216846a30da4cc2e96765ec5f,"ws fixes



git-svn-id: http://skia.googlecode.com/svn/trunk@217 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-15T18:45:19Z,reed@android.com,reed@android.com,35,15,20
257,moz-skia,9a74d313452f30629e2615eb8cbfe902433582c0,"create separate opaque version of rgb16 blitter



git-svn-id: http://skia.googlecode.com/svn/trunk@216 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-15T15:56:35Z,reed@android.com,reed@android.com,425,229,196
258,moz-skia,b3ade9d1b0a63f8f0dc3bee5785e930c8e84311d,"add optional Format* parameter to decoder helper functions.



git-svn-id: http://skia.googlecode.com/svn/trunk@215 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-15T13:04:45Z,reed@android.com,reed@android.com,57,35,22
259,moz-skia,5119bdb952025a30f115b9c6a187173956e55097,"add shader flag kConstInY_Flag
this signals blitters that the shader will return the same results for a given
x value, independent of y. Useful inside blitRect(), where it can cache the
first call to shadeSpan() and reuse it on all subsequent scans. Works with
(non-rotated) linear-gradients, and Nx1 bitmaps.



git-svn-id: http://skia.googlecode.com/svn/trunk@214 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-12T21:27:03Z,reed@android.com,reed@android.com,115,96,19
260,moz-skia,b2c5f2d2606930c4551d31a31921d87e0dd37cee,"make the same prerounding fix for the shadeSpan16 case



git-svn-id: http://skia.googlecode.com/svn/trunk@213 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-12T20:09:24Z,reed@android.com,reed@android.com,32,11,21
261,moz-skia,c552a43c7fe195bdafaa2394df21d08e34ccb96b,"preround our fx fractional coordiante, so we get rounded integers (0..255) when
stepping through the gradient.



git-svn-id: http://skia.googlecode.com/svn/trunk@212 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-12T20:02:50Z,reed@android.com,reed@android.com,32,11,21
262,moz-skia,b34086a37fb98f4575daac1253e64a6b8ca07999,"add experimental state tracker for opengl



git-svn-id: http://skia.googlecode.com/svn/trunk@211 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-12T19:49:30Z,reed@android.com,reed@android.com,241,237,4
263,moz-skia,f16c899a74a82241a690d08250698cbb8c2609df,"add equals()



git-svn-id: http://skia.googlecode.com/svn/trunk@210 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-12T02:06:36Z,reed@android.com,reed@android.com,4,4,0
264,moz-skia,1220e1c28a6fb75817eec056fc307190d50ae8e6,"Some Linux / 64-bit compile fixes.

Review URL: http://codereview.appspot.com/63189


git-svn-id: http://skia.googlecode.com/svn/trunk@209 2bbb7eff-a529-9590-31e7-b0007b416f81",deanm@chromium.org,2009-06-11T12:26:47Z,deanm@chromium.org,deanm@chromium.org,10,5,5
265,moz-skia,00dae86f5872b60927b28a32b375bc01cd7c61c9,"checkpoint for golden master suite (gm)



git-svn-id: http://skia.googlecode.com/svn/trunk@208 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-10T15:38:48Z,reed@android.com,reed@android.com,110,110,0
266,moz-skia,199f108f14a5f60a9c2205ffa79b26102a206ad0,"only call SkDevice::gainFocus() if we're actually drawing to a different device.
Saves overhead when using GL.



git-svn-id: http://skia.googlecode.com/svn/trunk@207 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-10T02:12:47Z,reed@android.com,reed@android.com,29,15,14
267,moz-skia,829c83c7c9a997993207b68f6fcaf7a5bbcd10b2,"fix odd-pixel bug in mipmap downsamplers (thanks brett)



git-svn-id: http://skia.googlecode.com/svn/trunk@204 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-08T12:05:31Z,reed@android.com,reed@android.com,60,54,6
268,moz-skia,bbff1d507aa3f470139e2df409e94074a2f9425f,"add SkParsePath to go to/from SVG strings (e.g. ""M0,0 L10,20"")



git-svn-id: http://skia.googlecode.com/svn/trunk@203 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-05T16:21:03Z,reed@android.com,reed@android.com,458,374,84
269,moz-skia,ec3d6e5a2fada32dfc762ed82ca6155746f664a3,"update for cache updates



git-svn-id: http://skia.googlecode.com/svn/trunk@202 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-05T14:43:55Z,reed@android.com,reed@android.com,13,8,5
270,moz-skia,9b46e77ec2b387f4502926c2b9bf09450eec257c,"fix dumpcanvas to recurse on pictures and shapes
add cached bitmap for gradients to avoid thrashing textures in gl



git-svn-id: http://skia.googlecode.com/svn/trunk@201 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-05T12:24:41Z,reed@android.com,reed@android.com,248,240,8
271,moz-skia,1599a4332adfd0421e38d4bafafbeac0e6f86fc1,"Replace nil -> NULL in the views code.

Review URL: http://codereview.appspot.com/67139


git-svn-id: http://skia.googlecode.com/svn/trunk@200 2bbb7eff-a529-9590-31e7-b0007b416f81",deanm@chromium.org,2009-06-04T15:37:11Z,deanm@chromium.org,deanm@chromium.org,248,124,124
272,moz-skia,6b82d1adc6a4726e36674e468ff1157e0b75373f,"add isConvex() hit to SkPath, to be used to speed up fills and opengl
set linewidth in gldevice for hair rects
remove some cruft from samples
add more gl-unimpl messages



git-svn-id: http://skia.googlecode.com/svn/trunk@199 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-03T02:35:01Z,reed@android.com,reed@android.com,168,98,70
273,moz-skia,4a7fd2bd275446ecad0e70aff2b9fd31d2bc8e95,"initialize fFlags in gradients
fix trailing WS in SkGLDevice



git-svn-id: http://skia.googlecode.com/svn/trunk@198 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-06-02T19:46:20Z,reed@android.com,reed@android.com,4,3,1
274,moz-skia,7a4f48a5a386a3904ed808c8f31b38cd499d1557,"change .css files to have text/css mimetype



git-svn-id: http://skia.googlecode.com/svn/trunk@400 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-20T18:06:24Z,reed@android.com,reed@android.com,0,0,0
275,moz-skia,224a93bc4f1ba16ce1d46dc9395a855161c9cdb4,"update mimetype to text/html



git-svn-id: http://skia.googlecode.com/svn/trunk@399 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-20T18:01:28Z,reed@android.com,reed@android.com,0,0,0
276,moz-skia,743f3f3cccaba14760d8eab9039afbe5fb8f03b7,"initial cut at doxygen



git-svn-id: http://skia.googlecode.com/svn/trunk@398 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-20T15:22:33Z,reed@android.com,reed@android.com,0,0,0
277,moz-skia,867ee807cc95c77aff830e9e6c1988bfbe604405,"motorola neon patch for blitMask, used in text drawing



git-svn-id: http://skia.googlecode.com/svn/trunk@397 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-20T13:55:41Z,reed@android.com,reed@android.com,121,110,11
278,moz-skia,837cf7866e62e6a9f831e4e6de414c172a9d711a,"experiment



git-svn-id: http://skia.googlecode.com/svn/trunk@396 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-20T03:26:17Z,reed@android.com,reed@android.com,255,255,0
279,moz-skia,2b524f9b8e0aaeab95e31fc5459ad902e39b2399,"enable neon opts from motorola for perspective



git-svn-id: http://skia.googlecode.com/svn/trunk@395 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-19T19:56:37Z,reed@android.com,reed@android.com,206,145,61
280,moz-skia,fdb5353a693f518f08efe19251176026a072c7a8,"disable one proc until we fix its handling of src-alpha==0



git-svn-id: http://skia.googlecode.com/svn/trunk@394 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-19T19:51:17Z,reed@android.com,reed@android.com,6,6,0
281,moz-skia,11ec186bfc67545d69d95f327b288390301cbc5e,"add opaque -vs- alpha bitmap cases



git-svn-id: http://skia.googlecode.com/svn/trunk@393 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-19T19:01:45Z,reed@android.com,reed@android.com,30,22,8
282,moz-skia,a98a21e4ba31afaf5338a2e31b73f045027a3f13,"oops, make it actually compile with correct headers



git-svn-id: http://skia.googlecode.com/svn/trunk@392 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-19T18:13:18Z,reed@android.com,reed@android.com,13,6,7
283,moz-skia,4e635f9eb218b15f656a02e71c60d4f787fe9306,"add -forceDither option to bench (it is tristate)
update neon optimizations from motorola



git-svn-id: http://skia.googlecode.com/svn/trunk@391 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-19T17:39:46Z,reed@android.com,reed@android.com,329,326,3
284,moz-skia,12d1625e27e2150fa78799567ddfa4602d229b5f,"add android-specific tweaks to vary the amount of tmp ram allocated



git-svn-id: http://skia.googlecode.com/svn/trunk@390 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-19T15:51:15Z,reed@android.com,reed@android.com,27,27,0
285,moz-skia,878999965b977c4ed771c3d655f9e23ef9b5adb1,"clean up fix to drawBitmapRect



git-svn-id: http://skia.googlecode.com/svn/trunk@388 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-16T14:48:38Z,reed@android.com,reed@android.com,48,20,28
286,moz-skia,fead49e3c43e67cf9648ec1999b34da959e1e36b,"fix drawBitmapRect to not clip the src rect when computing the matrix



git-svn-id: http://skia.googlecode.com/svn/trunk@387 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-15T18:51:46Z,reed@android.com,reed@android.com,129,67,62
287,moz-skia,7f6e1e9caa4ced154c23701768e6c618dfe6ad48,"don't force bitmapIsOpaque to false if we're instrinsically 16bit

This allows us to take more optimal paths, even when filtering or dithering



git-svn-id: http://skia.googlecode.com/svn/trunk@386 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-14T21:06:29Z,reed@android.com,reed@android.com,28,22,6
288,moz-skia,471403d19beb14d7741039d266dd7a6be750b65d,"change projects to just run with curren-os sdk, in prep for snow-lepard
fix fprintf warning



git-svn-id: http://skia.googlecode.com/svn/trunk@385 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-14T09:59:25Z,reed@android.com,reed@android.com,12,6,6
289,moz-skia,800046eba45c9e982ecfe8964b2107f7713ed639,"fix new warnings from gcc 4.2



git-svn-id: http://skia.googlecode.com/svn/trunk@384 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-14T09:36:25Z,reed@android.com,reed@android.com,24,13,11
290,moz-skia,e3839f8b2ff75e6e92086089eb1b51f9c160a4dd,"require expat to use with animator



git-svn-id: http://skia.googlecode.com/svn/trunk@383 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-13T18:04:58Z,reed@android.com,reed@android.com,89,86,3
291,moz-skia,fb3229436584e97ca108a39493953c9fbcdfe44c,"add xcode project



git-svn-id: http://skia.googlecode.com/svn/trunk@382 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-13T13:50:37Z,reed@android.com,reed@android.com,807,807,0
292,moz-skia,2d3ad32ac83b8a496e1aa985ea12bc5411f86fe1,"animator tests



git-svn-id: http://skia.googlecode.com/svn/trunk@381 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-13T13:33:53Z,reed@android.com,reed@android.com,344,344,0
293,moz-skia,0f0cfaecf2c52e5fcb033c43df06f07a81c7b0c2,"check-point for reviving animator



git-svn-id: http://skia.googlecode.com/svn/trunk@380 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-13T13:33:16Z,reed@android.com,reed@android.com,95,92,3
294,moz-skia,d0d0e65a6313f01dfd952e8cc214a7c193bec57a,"add new cubic test for overflow



git-svn-id: http://skia.googlecode.com/svn/trunk@379 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-13T13:31:27Z,reed@android.com,reed@android.com,32,32,0
295,moz-skia,8af9602f6161e8d031ea175d7a5e4bd206d8e72b,"add sample for text rasterizer



git-svn-id: http://skia.googlecode.com/svn/trunk@378 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-12T17:02:22Z,reed@android.com,reed@android.com,285,276,9
296,moz-skia,63e34c61818b92c4f40387a1de32594934295bbb,"capture drawings to png



git-svn-id: http://skia.googlecode.com/svn/trunk@377 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-06T21:19:18Z,reed@android.com,reed@android.com,534,534,0
297,moz-skia,ea16cfa037bca933f6930a487b42f3c0faab9fe4,"cache expanded rawcolor16
add special blitv for opaque16, as this is called a lot on short segments so
any startup overhead makes a difference



git-svn-id: http://skia.googlecode.com/svn/trunk@376 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-02T19:11:02Z,reed@android.com,reed@android.com,72,36,36
298,moz-skia,261ae4df7282f5dd39937748b0da7e822b66a083,"oops, restore previous fix to saveLayer calling through to save()



git-svn-id: http://skia.googlecode.com/svn/trunk@375 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-02T16:37:46Z,reed@android.com,reed@android.com,8,7,1
299,moz-skia,1fc4c605def61d9e10489f9cd63dc378baa6ade3,"move factory for 565 into its own file



git-svn-id: http://skia.googlecode.com/svn/trunk@374 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-02T16:34:57Z,reed@android.com,reed@android.com,327,162,165
300,moz-skia,a5b741a97b2162127f1b1725912d07ecd41fa825,"don't call through to the inherited saveLayer, but just call save during record



git-svn-id: http://skia.googlecode.com/svn/trunk@373 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-01T19:16:39Z,reed@android.com,reed@android.com,8,7,1
301,moz-skia,725005e1d04ed62cd5749e042164f8e184929e6c,"disable perspective-no-filter until we can fix the out-of-range indices



git-svn-id: http://skia.googlecode.com/svn/trunk@372 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-29T19:30:05Z,reed@android.com,reed@android.com,4,3,1
302,moz-skia,f2afb67bab01062d2632543c1f004b166bf01e31,"fix base linux build, adding freetype support



git-svn-id: http://skia.googlecode.com/svn/trunk@371 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-28T16:12:48Z,reed@android.com,reed@android.com,66,28,38
303,moz-skia,2a645c9e325714e364e527950097eae697b10820,"add FilterRec() so it links again



git-svn-id: http://skia.googlecode.com/svn/trunk@370 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-27T20:41:46Z,reed@android.com,reed@android.com,3,3,0
304,moz-skia,a8cf0aa53374337f2c133073db83c1c869b6501c,"use real strtof and snprintf to parse and dump floats



git-svn-id: http://skia.googlecode.com/svn/trunk@369 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-24T20:06:03Z,reed@android.com,reed@android.com,27,20,7
305,moz-skia,bb9aea999c29a45fcac3fdb9ecd4a45b65f603cb,"record dither setting so we can replay it when we (re)decode



git-svn-id: http://skia.googlecode.com/svn/trunk@368 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-24T17:21:05Z,reed@android.com,reed@android.com,7,7,0
306,moz-skia,3bbac13902257225beeeb6a25e70bda5f6c4da0c,"update for blitrow_d32 procs



git-svn-id: http://skia.googlecode.com/svn/trunk@367 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-23T18:48:10Z,reed@android.com,reed@android.com,7,7,0
307,moz-skia,c4cae85752e3e486cf4eac8cd8128f57b6f40563,"add BlitRow procs for 32->32, to allow for neon and other optimizations.
call these new procs in (nearly) all the places we had inlined loops before.
In once instance (blitter_argb32::blitAntiH) we get different results by a
  tiny bit. The new code is more accurate, and exactly inline with all of the
  other like-minded blits, so I think the change is good going forward.



git-svn-id: http://skia.googlecode.com/svn/trunk@366 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-23T15:06:10Z,reed@android.com,reed@android.com,561,398,163
308,moz-skia,9186103dfdb7dfe32803ffad7c3caf1d739a226d,"don't put the class name in front of the method



git-svn-id: http://skia.googlecode.com/svn/trunk@365 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-23T00:43:53Z,reed@android.com,reed@android.com,4,2,2
309,moz-skia,6c59a17e1bcaa611ad9aee38d6f08b3a9e2ad8bf,"clear the kHasSpan16 bit for two-point-radial, since we don't implement that
fix perspective loop x (dstX)



git-svn-id: http://skia.googlecode.com/svn/trunk@364 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-22T20:24:05Z,reed@android.com,reed@android.com,18,16,2
310,moz-skia,8e2af7eb8979ddd97bfd1615ccc173e66fe902d6,"update sample to use new two-point-radial gradients from senorblanco!!!



git-svn-id: http://skia.googlecode.com/svn/trunk@363 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-22T20:14:42Z,reed@android.com,reed@android.com,19,16,3
311,moz-skia,b53ebeabf0d5d8ce0d143f4086f395d677448c89,"update golden-master images for tilemodes, after the blur code (used for the
labels) was updated.



git-svn-id: http://skia.googlecode.com/svn/trunk@362 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-22T19:53:52Z,reed@android.com,reed@android.com,0,0,0
312,moz-skia,7ef071fc2fb8947de9414a64cecdf03e28d012aa,"Two-point radial gradient implementation.

Review URL:  http://codereview.appspot.com/112058



git-svn-id: http://skia.googlecode.com/svn/trunk@361 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-09-22T17:25:29Z,senorblanco@chromium.org,senorblanco@chromium.org,268,267,1
313,moz-skia,7ab2cf90b617e25a2ae031fe12c22d71583eee48,"#if 0 test code for blur, since it references a private header



git-svn-id: http://skia.googlecode.com/svn/trunk@360 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-21T16:01:32Z,reed@android.com,reed@android.com,6,4,2
314,moz-skia,4913b7794ad5f699a92feaee8e514571d218645b,"add tests for blurmask



git-svn-id: http://skia.googlecode.com/svn/trunk@359 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-21T00:27:39Z,reed@android.com,reed@android.com,35,35,0
315,moz-skia,4560767bb0b3db530d48e2b0c1c11e28f3692984,"fix sumbuffer to initialize its top and left colum/row with zeros. Without this fix we were
effectively chopping off the top row of pixels when we computed a blur.



git-svn-id: http://skia.googlecode.com/svn/trunk@358 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-21T00:27:08Z,reed@android.com,reed@android.com,134,83,51
316,moz-skia,da449a38a2ac06f47f504cef7897afe322981dae,"update with tests for blur



git-svn-id: http://skia.googlecode.com/svn/trunk@357 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-18T20:57:05Z,reed@android.com,reed@android.com,61,56,5
317,moz-skia,0e3c664250f561ec9f7107b92136517a72d03afd,"use rowbytes instead of bounds.width()



git-svn-id: http://skia.googlecode.com/svn/trunk@356 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-18T13:41:56Z,reed@android.com,reed@android.com,79,40,39
318,moz-skia,ab7ac026d25fcb6e10c042e933f03e5f806c9097,"more float/double precision tweaks



git-svn-id: http://skia.googlecode.com/svn/trunk@355 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-18T13:38:43Z,reed@android.com,reed@android.com,43,5,38
319,moz-skia,0b9e2dbf2f51ac41439db2052cf80704d60932f4,"use doubles in matrix.invert() to keep more precision, needed for subtle
bugs when drawing stretched bitmaps (like ninepatch) at nasty scale factors
like 1.5 (where the inverse matrix steps 0.333333, 1.0, 1.666667, etc.)



git-svn-id: http://skia.googlecode.com/svn/trunk@354 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-16T17:00:17Z,reed@android.com,reed@android.com,54,40,14
320,moz-skia,ed881c2704bc81fe46a68c0cf9e292287313baa6,"add neon opts for matrix procs



git-svn-id: http://skia.googlecode.com/svn/trunk@353 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-15T14:10:42Z,reed@android.com,reed@android.com,1655,1647,8
321,moz-skia,ebdeeb8a018f2df01e190fd961d68a94f0e0fcb9,"don't magically convert to hairline unless we're < 1.0 in both X and Y. The new routine both checks,
and if legal, returns the new width which will be used to compute a modulated alpha.



git-svn-id: http://skia.googlecode.com/svn/trunk@352 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-03T21:45:49Z,reed@android.com,reed@android.com,55,40,15
322,moz-skia,e9d0060f4d7b5a07a220182d83aae3a140784c4b,"add decode bench
add dictionary for bench tools to see optional cmdline args



git-svn-id: http://skia.googlecode.com/svn/trunk@351 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-02T21:12:42Z,reed@android.com,reed@android.com,167,125,42
323,moz-skia,34e85803c24224cf098c88f937dad9b2a1a96d51,"update



git-svn-id: http://skia.googlecode.com/svn/trunk@350 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-02T21:11:44Z,reed@android.com,reed@android.com,25,13,12
324,moz-skia,47ca036e29aa44f93d2300f5ed0109b3845d30d6,"add



git-svn-id: http://skia.googlecode.com/svn/trunk@349 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-02T02:07:45Z,reed@android.com,reed@android.com,84,84,0
325,moz-skia,de2e7fb96dd8633df779ab2b634c65717afb5eb3,"more unittests (already found/fixed some bugs)



git-svn-id: http://skia.googlecode.com/svn/trunk@348 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-02T02:07:32Z,reed@android.com,reed@android.com,257,236,21
326,moz-skia,e50025a656005c4000fb55647373475eb5dfda54,"rename std words to be UPPER CASE (ugh)
add initial unittests for std words (more to do)



git-svn-id: http://skia.googlecode.com/svn/trunk@347 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-09-01T21:00:44Z,reed@android.com,reed@android.com,466,380,86
327,moz-skia,113244f1e11be3731af3d21826c3efe8232abc4f,"add tests for extractAlpha



git-svn-id: http://skia.googlecode.com/svn/trunk@346 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-31T21:04:24Z,reed@android.com,reed@android.com,97,97,0
328,moz-skia,289e4fca4394ca0964b9b76a834e61bcdec821c9,"add missing files



git-svn-id: http://skia.googlecode.com/svn/trunk@345 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-31T18:04:51Z,reed@android.com,reed@android.com,388,388,0
329,moz-skia,19a89f287f3af6fd34470a7aab92a989109d513f,"add boolean tests and IF/ELSE/END



git-svn-id: http://skia.googlecode.com/svn/trunk@344 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-30T03:24:51Z,reed@android.com,reed@android.com,386,101,285
330,moz-skia,f56e295e88f4ed42f4c94c54d5fc544ed0f45f18,"experimental hack to write a forth engine to drive skia



git-svn-id: http://skia.googlecode.com/svn/trunk@343 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-29T21:30:25Z,reed@android.com,reed@android.com,1038,1038,0
331,moz-skia,a03a70124ddf450ac986eef3d4aeb50e103e0e19,"return noErr in clickhandler, so we can get mousemoved events



git-svn-id: http://skia.googlecode.com/svn/trunk@342 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-29T20:33:39Z,reed@android.com,reed@android.com,25,14,11
332,moz-skia,a964028843ec3f69b3b2e556426ff881d1fcb4b2,"http://code.google.com/p/skia/issues/detail?id=32

Detect when we no longer have a valid range for chopping due to finite float
precision, and just return a degenerate cubic at the end.



git-svn-id: http://skia.googlecode.com/svn/trunk@341 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-28T20:06:54Z,reed@android.com,reed@android.com,63,58,5
333,moz-skia,28937283e16928a562b3f9e19908db51bbb89ff9,"fix gaps in antialiased hairlines (thanks to preda)
expand SampleHairline text to check for clip violations



git-svn-id: http://skia.googlecode.com/svn/trunk@340 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-28T15:34:46Z,reed@android.com,reed@android.com,151,132,19
334,moz-skia,3c9b2a4a0e4f57db23640e85959ee78b86634628,"expand SkShader's flag kConstInY to 16 and 32 variants, allowing a shader
(like gradients) to support predithering. If they do, then they would suppress
kConstInY16, since they no longer are const.

The blitters now check for each flag separately, so we don't have to give up
const-in-Y in the 32bit case, since in that mode we don't care about dithering.



git-svn-id: http://skia.googlecode.com/svn/trunk@339 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-27T19:28:37Z,reed@android.com,reed@android.com,200,82,118
335,moz-skia,2a4d1ff189ef8df14ec40499125b01f406cb442b,"allow the gamma to be changed at runtime



git-svn-id: http://skia.googlecode.com/svn/trunk@338 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-26T18:09:58Z,reed@android.com,reed@android.com,40,28,12
336,moz-skia,ff3e92d2f83521fd9be32f66c4bbff2e30bd7a00,"show the hairlines after each test iteration



git-svn-id: http://skia.googlecode.com/svn/trunk@337 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-25T20:40:04Z,reed@android.com,reed@android.com,7,4,3
337,moz-skia,c64599649bab68aedf07959f86fa506fc46fa3c2,"special case 1x1 bitmaps when drawn as a shader (treat as a solid color)



git-svn-id: http://skia.googlecode.com/svn/trunk@336 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-25T19:15:31Z,reed@android.com,reed@android.com,154,152,2
338,moz-skia,593847a0e063522bef780ebac4f4072cf4cae6d8,"fix overflow in qsort compare proc



git-svn-id: http://skia.googlecode.com/svn/trunk@335 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-25T18:14:50Z,reed@android.com,reed@android.com,6,5,1
339,moz-skia,0da41dbf5bdf9614a3d2f1d3ebd959221bbac44b,"add detach() method



git-svn-id: http://skia.googlecode.com/svn/trunk@334 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-25T16:03:59Z,reed@android.com,reed@android.com,11,11,0
340,moz-skia,1cdcb5138f9b70aff547ea1c3af96f0c90b12f8f,"fix warning in sampler
lock pixels when we extract alpha
disabling hinting when linear-text is set



git-svn-id: http://skia.googlecode.com/svn/trunk@333 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-24T19:11:00Z,reed@android.com,reed@android.com,27,24,3
341,moz-skia,69255fb50381dd902c23d7d1baf3fe8b724c6ab1,"update gm images with new corrected dithering



git-svn-id: http://skia.googlecode.com/svn/trunk@332 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-22T03:48:59Z,reed@android.com,reed@android.com,0,0,0
342,moz-skia,cafc9f9e80e30fa75ad8a952e7a290e72f211ce7,"fixes around isOpaque and dithering

- copyTo() now preserves isOpaqueness, and BitmapCopyTest tests it
- bitmap shader doesn't claim to have shadespan16 if dithering is on, since its
  sampler doesn't auto-dither (note that gradients do auto-dither in their
  16bit sampler)
- blitter setup just relies on the shader to report if its 16bit sampler can be
  called (allowing gradients to say yes regardless of dither, but bitmaps to say
  no if dithering is on)



git-svn-id: http://skia.googlecode.com/svn/trunk@331 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-22T03:44:57Z,reed@android.com,reed@android.com,132,110,22
343,moz-skia,c41513c4dac51d68570b309ec28a315d974edea7,"Add a sanity check to MaskSuperBlitter::blitH(), to avoid a subsequent
crash in *Blitter::blitMask(), and add some more asserts.

http://codereview.appspot.com/110050
http://crbug.com/17569



git-svn-id: http://skia.googlecode.com/svn/trunk@330 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-08-21T22:00:12Z,senorblanco@chromium.org,senorblanco@chromium.org,11,11,0
344,moz-skia,d5ed395048275660239ba537413f0ba4882686d0,"Fix compliation on gcc-4.3 and ARMv5T

 - smulbb is only on ARMv5TE and above (p316, ARM Architecture Reference Manual)
 - an empty clobber list causes a compiler error with my compiler, gcc-4.3.2

Patch by Joel Stanley <joel@jms.id.au>

Review URL: http://codereview.appspot.com/96165


git-svn-id: http://skia.googlecode.com/svn/trunk@329 2bbb7eff-a529-9590-31e7-b0007b416f81",deanm@chromium.org,2009-08-21T17:17:35Z,deanm@chromium.org,deanm@chromium.org,6,4,2
345,moz-skia,755dd4773dad70d5fbe3f8bb091eaf268ea752c7,"respect dither setting in index8->565 sprite case



git-svn-id: http://skia.googlecode.com/svn/trunk@328 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-20T21:29:45Z,reed@android.com,reed@android.com,84,84,0
346,moz-skia,8430cd15bc6b826fa5f1661c55f0a7bab9770a7c,"Fix flipped text orientation on Windows.

Review URL: http://codereview.appspot.com/104105


git-svn-id: http://skia.googlecode.com/svn/trunk@327 2bbb7eff-a529-9590-31e7-b0007b416f81",deanm@chromium.org,2009-08-14T23:09:52Z,deanm@chromium.org,deanm@chromium.org,4,2,2
347,moz-skia,b049eab2e7793913d1bdbe6f80b366c888b08d61,"update location of SkNWayCanvas.cpp



git-svn-id: http://skia.googlecode.com/svn/trunk@326 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-14T19:58:53Z,reed@android.com,reed@android.com,8,4,4
348,moz-skia,92a50eaab977543031f12a1b0b1d4ce07f80ba75,"close out previous contour (so we don't miss the last segment)



git-svn-id: http://skia.googlecode.com/svn/trunk@325 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-14T19:27:37Z,reed@android.com,reed@android.com,49,20,29
349,moz-skia,6c5f6f25b43f1210decb48956c1a2fbe5b58f889,"add 'r' (rotate) 's' (scale) options to SampleApp to test those matrix ops on
all slides

add beforeChild/afterChild methods for parents to wack the canvas before/after
it draws. These are called after the std child-view translate and clip, unlike
beforeChildren/afterChildren



git-svn-id: http://skia.googlecode.com/svn/trunk@324 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-14T16:08:38Z,reed@android.com,reed@android.com,63,60,3
350,moz-skia,a2b2c4ba5351b8cee0f03b5a9eeeb430862bbc7d,"fix typo in matrix proc index computation, where we were always taking the
perspective case when affine would have been enough (and lots faster).



git-svn-id: http://skia.googlecode.com/svn/trunk@323 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-14T15:47:14Z,reed@android.com,reed@android.com,2,1,1
351,moz-skia,4c128c4917acf25c2cc5d1bd22282a4e1bb53d96,"add method to compute max count for a given buffer size in the bitmap shader.
fix bug in quad loop of fill_sequential where we were going one quad too far.



git-svn-id: http://skia.googlecode.com/svn/trunk@322 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-14T13:54:37Z,reed@android.com,reed@android.com,46,42,4
352,moz-skia,a3122b9b1ec66efef606d8797b7b16b6634e08d2,"bzero SkPaint in its constructor, to allow us to cleanly use memcmp in our
operator==, given that we may be padded and not know how to init those pad bytes



git-svn-id: http://skia.googlecode.com/svn/trunk@321 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-13T20:38:25Z,reed@android.com,reed@android.com,17,11,6
353,moz-skia,07d1f008b365e94ef7c7347be19a03d00bd36805,"add special matrixprocs when the matrix is at most translate. These are faster
(somewhat) than their scale counterparts, but are also numerically exact for
any size bitmaps. The scale versions, because they operate in a scaled 65535
space, are not always exact for large images (due to SK_Fixed1 / width) loss of
bits



git-svn-id: http://skia.googlecode.com/svn/trunk@320 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-13T19:35:48Z,reed@android.com,reed@android.com,419,333,86
354,moz-skia,f7d5726730f2c13aa53f4a6b78084beaa959c694,"test for non-scaled bitmap tiles



git-svn-id: http://skia.googlecode.com/svn/trunk@319 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-13T19:33:44Z,reed@android.com,reed@android.com,90,90,0
355,moz-skia,4d8505992040eaeaf1dc6b91d352e208fa7deaeb,"add benchmark for repeat-tile bitmaps



git-svn-id: http://skia.googlecode.com/svn/trunk@318 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-12T20:30:58Z,reed@android.com,reed@android.com,141,140,1
356,moz-skia,feef49c4d10cce91556f54986989f0851f8d3608,"Add some SkASSERT's, to try to track down a reliability issue in Chrome.

http://codereview.appspot.com/105075
http://crbug.com/17569



git-svn-id: http://skia.googlecode.com/svn/trunk@317 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-08-12T20:21:49Z,senorblanco@chromium.org,senorblanco@chromium.org,4,4,0
357,moz-skia,0c1cda7e6b550b076b5174148714cb589ec096d4,"remove unneeded (empty) virtual destructor



git-svn-id: http://skia.googlecode.com/svn/trunk@316 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-12T18:51:06Z,reed@android.com,reed@android.com,2,0,2
358,moz-skia,95dbb9c038e692fab6abf5e33c0b6dee30028868,"fixes wacky build on android. no other explanation received



git-svn-id: http://skia.googlecode.com/svn/trunk@315 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-11T20:01:33Z,reed@android.com,reed@android.com,2,2,0
359,moz-skia,fb03cc7b49b1b90eafc761425e3ac8348a0e159f,"fix validate() to note that an empty path can (by side-effect) have an empty but
translated fBounds



git-svn-id: http://skia.googlecode.com/svn/trunk@314 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-11T19:54:35Z,reed@android.com,reed@android.com,15,10,5
360,moz-skia,558434a9e129904595cf5161097b843c681a05c7,"FreeType: fix garbled bitmap glyphs.

At some point (probably in one of the LCD patches), the fMaskFormat
for bitmap glyphs changed from kA8 to kBW. Formerly, bitmap glyphs
were always transformed into A8 format. With this patch, we check the
fMaskFormat and pick the correct transform at run time.

http://code.google.com/p/chromium/issues/detail?id=18531
http://codereview.appspot.com/104071


git-svn-id: http://skia.googlecode.com/svn/trunk@313 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-08-11T17:22:38Z,agl@chromium.org,agl@chromium.org,9,7,2
361,moz-skia,4484d23ab47d4b0941ba6931e5d4edb891f073d2,"Remove assertion in getAddrLCD.

Because the underlying mask extends a pixel to the left and right (or
top and bottom on vertical LCDs), the requested pixel can actaully be
one pixel outside the bounds, thus this assertion is incorrect.

http://codereview.appspot.com/105077


git-svn-id: http://skia.googlecode.com/svn/trunk@312 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-08-11T17:21:21Z,agl@chromium.org,agl@chromium.org,1,0,1
362,moz-skia,cd21c809a9b4a68916bed6c9cb9012f251e3664f,"remove dead code



git-svn-id: http://skia.googlecode.com/svn/trunk@311 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-11T15:35:36Z,reed@android.com,reed@android.com,59,0,59
363,moz-skia,e0d089900e898cdb834d48e3062622008d9da687,"FreeType: don't use bitmap strikes when antialiasing

If the user requested anti-aliasing then we don't use bitmap strikes
in the font. The consensus among our Japanese users is that this
results in the best quality.

http://code.google.com/p/chromium/issues/detail?id=18333

http://codereview.appspot.com/105050


git-svn-id: http://skia.googlecode.com/svn/trunk@310 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-08-07T19:19:23Z,agl@chromium.org,agl@chromium.org,7,7,0
364,moz-skia,152f748386143475daf9da31aceb424dc7c8a7e6,"more neon work:
- remove neon-specific functions that were not faster than the C version
- move the neon filter function to its own header, so it could be use in more places



git-svn-id: http://skia.googlecode.com/svn/trunk@309 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-07T19:14:34Z,reed@android.com,reed@android.com,861,258,603
365,moz-skia,cf45bf84392e05b137d1fa18dca3fc3e4b7a864e,"update make for nwaycanvas
remove obsolete opts_neon dir



git-svn-id: http://skia.googlecode.com/svn/trunk@308 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-04T19:21:28Z,reed@android.com,reed@android.com,202,1,201
366,moz-skia,29348cb0612e19030d979156860946241e2ff4bd,"add -forceFilter to bench tool
move some utils out of effects/



git-svn-id: http://skia.googlecode.com/svn/trunk@307 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-04T18:17:15Z,reed@android.com,reed@android.com,80,64,16
367,moz-skia,6123e47e62fd797d1d9f498b80cc8039c6eaf60d,"add proper includes for arm optimizations



git-svn-id: http://skia.googlecode.com/svn/trunk@306 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-04T01:52:27Z,reed@android.com,reed@android.com,44,29,15
368,moz-skia,387359e3483056a7ae7e4cf50347b71b4e3b2d60,"add -config foo to restrict the output to just the specific config
add -match foo to restrict the benchmarks to those whose names match foo



git-svn-id: http://skia.googlecode.com/svn/trunk@305 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-04T01:51:09Z,reed@android.com,reed@android.com,61,52,9
369,moz-skia,c71447954886de0e6cc176cfec868b87f02ce20c,"remove noisy font table tests from TextBench



git-svn-id: http://skia.googlecode.com/svn/trunk@304 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-04T01:25:44Z,reed@android.com,reed@android.com,4,3,1
370,moz-skia,a0bd7f48aaaf2c86ba5b5de068e9d1f56e721a3c,"arm/neon optimizations for bitmap shader
original version by ARM LIMITED 2009



git-svn-id: http://skia.googlecode.com/svn/trunk@303 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-03T17:22:46Z,reed@android.com,reed@android.com,717,717,0
371,moz-skia,afb055ad792a1eb859fea7baf44a1bcfc4a0a11d,"update



git-svn-id: http://skia.googlecode.com/svn/trunk@302 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-03T15:06:11Z,reed@android.com,reed@android.com,12,8,4
372,moz-skia,c9a1d4b519c2db8e43e54fef068c46462d2f8a4b,"add platformProcs() porting function



git-svn-id: http://skia.googlecode.com/svn/trunk@301 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-03T15:05:55Z,reed@android.com,reed@android.com,39,38,1
373,moz-skia,eef375bcd602adb065c4eccc07bd811b83a71de8,"clean up SkBitmapProcState in preparation for adding porting-layer functions



git-svn-id: http://skia.googlecode.com/svn/trunk@300 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-08-03T14:45:45Z,reed@android.com,reed@android.com,22,12,10
374,moz-skia,dc3381fc8194a6192af39539c6ac9787b20209d3,"update save/restore comments to mention that the drawFilter is also saved
add wrapper for harfbuzz font/fontclass



git-svn-id: http://skia.googlecode.com/svn/trunk@500 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-11T16:05:15Z,reed@android.com,reed@android.com,292,274,18
375,moz-skia,ed8dbf74a7c8a038ff51d93ad4a174ad6e84663e,"experimental draft, please ignore



git-svn-id: http://skia.googlecode.com/svn/trunk@499 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-11T13:56:04Z,reed@android.com,reed@android.com,122,122,0
376,moz-skia,c83d422b639a1c186d8e40e08ac895deef60410f,"doh - fix build



git-svn-id: http://skia.googlecode.com/svn/trunk@498 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-11T11:17:00Z,reed@android.com,reed@android.com,10,8,2
377,moz-skia,60bc6d5cb0af7cef0e49cc35f28f36f89b10853e,"add Make to SkTSize



git-svn-id: http://skia.googlecode.com/svn/trunk@497 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-11T11:09:39Z,reed@android.com,reed@android.com,22,21,1
378,moz-skia,f0ad0864af632736819b9f3f34dbba488c73e3af,"add unittest for copysign



git-svn-id: http://skia.googlecode.com/svn/trunk@496 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-09T19:18:38Z,reed@android.com,reed@android.com,41,41,0
379,moz-skia,eebf5cb6c0f5ed2630de2e7712d61b4ec1d49015,"add copysign for ints and floats
fix addArc to not wrap around if the sweepAngle is close to 360 but lost
precision when convert to radians (and then to unit vectors ala sin/cos)



git-svn-id: http://skia.googlecode.com/svn/trunk@495 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-09T18:30:59Z,reed@android.com,reed@android.com,39,38,1
380,moz-skia,d3aa4ff7a564953dff9a15ff03fd42eebf64569f,"add countPoints() and getPoint()



git-svn-id: http://skia.googlecode.com/svn/trunk@494 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-09T16:38:45Z,reed@android.com,reed@android.com,19,19,0
381,moz-skia,218521e15706c4377b1be49d931c4d7c8d597445,"check bounder before lockPixels on the bitmap



git-svn-id: http://skia.googlecode.com/svn/trunk@493 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-09T13:06:29Z,reed@android.com,reed@android.com,17,11,6
382,moz-skia,985dfad8ec197c2a86942435d804dd2a776cdc1a,"add



git-svn-id: http://skia.googlecode.com/svn/trunk@492 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-09T12:40:30Z,reed@android.com,reed@android.com,177,177,0
383,moz-skia,562ea92179edb35303bd7b3dd6272a5f4eae47ff,"use statictextviews to display coordinates in unitmapper



git-svn-id: http://skia.googlecode.com/svn/trunk@491 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-08T21:45:03Z,reed@android.com,reed@android.com,241,66,175
384,moz-skia,4526a847da6dc738dc73103ec4d47cc0dbdec478,"This patch allows the use of the native FreeType emboldening
algorithm when ""fake bold"" text is used in SkPaint.

It's enabled by #defining SK_USE_FREETYPE_EMBOLDEN.

Review URL:  http://codereview.appspot.com/198077



git-svn-id: http://skia.googlecode.com/svn/trunk@490 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2010-02-05T23:08:20Z,senorblanco@chromium.org,senorblanco@chromium.org,31,29,2
385,moz-skia,ba09de4c4be66cc07790f23b0f3a925f47340e3e,"respect edgetype in quickreject



git-svn-id: http://skia.googlecode.com/svn/trunk@489 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-05T20:46:05Z,reed@android.com,reed@android.com,60,45,15
386,moz-skia,945a139553a9c9da03766213661d7f5fd6ed3042,"add SkXRay geometry routines



git-svn-id: http://skia.googlecode.com/svn/trunk@488 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-05T20:41:02Z,reed@android.com,reed@android.com,167,167,0
387,moz-skia,a5dcaf6fd8115fb9c6028ca4e9848b968375abcd,"add containsText() api



git-svn-id: http://skia.googlecode.com/svn/trunk@487 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-05T17:12:32Z,reed@android.com,reed@android.com,59,59,0
388,moz-skia,bc7d2fb5be746f6e0d9bd60c9e181eec20fe31ea,"check for null cmap in libgif
support bounds-only in libjpeg even if we can't complete start_decompress



git-svn-id: http://skia.googlecode.com/svn/trunk@486 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-02-05T15:43:07Z,reed@android.com,reed@android.com,54,41,13
389,moz-skia,ac753098e8af4a17e5df97b3a4dd0ce123f8d70c,"add some utils to SkPoint



git-svn-id: http://skia.googlecode.com/svn/trunk@485 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-28T21:34:33Z,reed@android.com,reed@android.com,30,29,1
390,moz-skia,2736a69077af6016f71ecbb2bb98e311aea0da01,"update



git-svn-id: http://skia.googlecode.com/svn/trunk@484 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-28T21:24:01Z,reed@android.com,reed@android.com,81,75,6
391,moz-skia,872057a46027b4e5609ca0828f8fc2c465d4ada0,"add new experimental matrix

git-svn-id: http://skia.googlecode.com/svn/trunk@483 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-27T01:45:16Z,reed@android.com,reed@android.com,99,99,0
392,moz-skia,afd599ad34dc62f31906ec5b23c4ef5c93c14d6b,"disable debug printfs for gamma table



git-svn-id: http://skia.googlecode.com/svn/trunk@482 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-26T16:10:19Z,reed@android.com,reed@android.com,26,9,17
393,moz-skia,9c28525f3a032341e7e427ad69f8d6586ba4eba6,"remove -lfreetype for now



git-svn-id: http://skia.googlecode.com/svn/trunk@481 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-25T22:09:34Z,reed@android.com,reed@android.com,10,2,8
394,moz-skia,1eadb955be555e2360fbe9ca94e603949a8938fa,"check for gl-canvas before calling GL



git-svn-id: http://skia.googlecode.com/svn/trunk@480 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-25T22:09:16Z,reed@android.com,reed@android.com,8,5,3
395,moz-skia,e83b532b2bd9487a8fed1aede039ea95c9ba1bf6,"update with agl



git-svn-id: http://skia.googlecode.com/svn/trunk@479 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-25T22:03:25Z,reed@android.com,reed@android.com,134,106,28
396,moz-skia,04d86c6a6b8eb8631752b3680f1292fa0a2c7119,"update to try out programmable shaders



git-svn-id: http://skia.googlecode.com/svn/trunk@478 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-25T22:02:44Z,reed@android.com,reed@android.com,198,196,2
397,moz-skia,b8fd84b803b2a2f4d304e0763b83a90f582b449a,"call skip in a loop to handle the case where the backing stream may be network
based, and will only block to fulfill the request after it has skipped its
current buffer.



git-svn-id: http://skia.googlecode.com/svn/trunk@477 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-21T18:04:44Z,reed@android.com,reed@android.com,20,10,10
398,moz-skia,6f59815b3dbd19efb8a29d0115deea9c88da8ae1,"refactor helper functions out of libjpeg wrapper



git-svn-id: http://skia.googlecode.com/svn/trunk@476 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-21T15:34:19Z,reed@android.com,reed@android.com,473,267,206
399,moz-skia,b4234a226612cf7f99a47d9c633233c1a488d6ed,"skia: Always use aliased text when antialiasing is disabled.

Otherwise, people who have antialiasing disabled end up with
subpixel rendering if the subpixel setting happens to be set
to something other than ""none"".  This change's interpretation
of these overlapping settings seems to be consistent with
GTK's and Firefox's.

Patch-by: Dan Erat
Signed-off-by: Adam Langley

BUG=http://code.google.com/p/chromium/issues/detail?id=28382

http://codereview.appspot.com/186248

git-svn-id: http://skia.googlecode.com/svn/trunk@475 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2010-01-21T11:43:44Z,agl@chromium.org,agl@chromium.org,15,8,7
400,moz-skia,d7a0083aaa8578d7bac328c642c3314e6163c6e5,"ICE fixes for arm



git-svn-id: http://skia.googlecode.com/svn/trunk@474 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-14T00:24:12Z,reed@android.com,reed@android.com,16,12,4
401,moz-skia,ec10d21eb9a17639688188b0defce6d757331eb4,"remove obsolete SK_BUILD_FOR_BREW conditional



git-svn-id: http://skia.googlecode.com/svn/trunk@473 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-12T22:58:35Z,reed@android.com,reed@android.com,60,10,50
402,moz-skia,9d3a985aa3c82605346ed1518375a8c384b925e5,"add glyph->unichar query (inverse of a cmap)



git-svn-id: http://skia.googlecode.com/svn/trunk@472 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-08T14:07:42Z,reed@android.com,reed@android.com,710,710,0
403,moz-skia,d0a529d0280dae3a1f0a700870cfb4c3b95745b2,"fix memory leak



git-svn-id: http://skia.googlecode.com/svn/trunk@471 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-08T14:01:41Z,reed@android.com,reed@android.com,2,1,1
404,moz-skia,99e1b90d5b0ed2f8b8ac5681d964782130e3ba7e,"Add parens in order to make conditional correct.

I've been coding in Go too much and forgot that C is broken.

git-svn-id: http://skia.googlecode.com/svn/trunk@470 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2010-01-05T01:19:44Z,agl@chromium.org,agl@chromium.org,2,1,1
405,moz-skia,13c8558e37043d4aad8b439ed053fac1cdb6763d,"Fix r466 which was causing Chromium valgrind failures.

See the added comment for details.

TBR=reed (since it's a build fix)

git-svn-id: http://skia.googlecode.com/svn/trunk@469 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2010-01-04T23:56:43Z,agl@chromium.org,agl@chromium.org,12,8,4
406,moz-skia,474a12c4976b3000174cad5df74c498cd723c5e2,"Added a virtual to SkBounder, called by text, that passes
the glyph's ID as well as its bounds. Made the universal
doIRect() non-abstract so that a child class can override
either the general flavor or the text flavor.



git-svn-id: http://skia.googlecode.com/svn/trunk@468 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-04T19:35:33Z,reed@android.com,reed@android.com,20,17,3
407,moz-skia,69975b0fce6c950a0481a2ddaec3ce0aaa03f90d,"chant __ARM_ARCH_4__ to __ARM_ARCH_4T__, to reflect known android targets



git-svn-id: http://skia.googlecode.com/svn/trunk@467 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2010-01-04T19:23:32Z,reed@android.com,reed@android.com,2,1,1
408,moz-skia,e95c91e6d9201d50d0b84fbc3d2f53f92f753e0b,"Add flag to enable bitmap strikes.

http://codereview.appspot.com/183096

git-svn-id: http://skia.googlecode.com/svn/trunk@466 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2010-01-04T18:27:55Z,agl@chromium.org,agl@chromium.org,32,25,7
409,moz-skia,030d8e68e2478b783ecf089265b3d4ec8c3be2f8,"add new file

git-svn-id: http://skia.googlecode.com/svn/trunk@465 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-12-21T18:34:13Z,reed@android.com,reed@android.com,190,190,0
410,moz-skia,55747ccdfb889e143f55c9ae67a012a8913efa39,"Native client build fix.

Patch from David Sehr.

Signed-off-by: Adam Langley <agl@chromium.org>

http://codereview.appspot.com/180090

git-svn-id: http://skia.googlecode.com/svn/trunk@464 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-12-18T22:50:15Z,agl@chromium.org,agl@chromium.org,37,17,20
411,moz-skia,19061bab948958016c394883322bb1216583be9b,"update to include all files

git-svn-id: http://skia.googlecode.com/svn/trunk@463 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-12-18T21:36:42Z,reed@android.com,reed@android.com,205,197,8
412,moz-skia,e51daa756c00692f34897cf43da50ea8c77cccd6,"remove old file



git-svn-id: http://skia.googlecode.com/svn/trunk@462 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-12-18T21:34:16Z,reed@android.com,reed@android.com,0,0,0
413,moz-skia,e191b16fda2f5afea3a90653c1cd4f5a3c436e89,"update windows port

git-svn-id: http://skia.googlecode.com/svn/trunk@461 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-12-18T21:33:39Z,reed@android.com,reed@android.com,244,233,11
414,moz-skia,63debae4c1020fa1e0ccd92ef3cbfdc8735acf8e,"initial checkin for visualstudio build support

git-svn-id: http://skia.googlecode.com/svn/trunk@460 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-12-16T17:25:43Z,reed@android.com,reed@android.com,821,811,10
415,moz-skia,200645d50ec212a6dec305bac0b75f67e175cdf4,"fix repeat/mirror for new larger 16bit cache
update gm images



git-svn-id: http://skia.googlecode.com/svn/trunk@459 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-12-14T16:41:57Z,reed@android.com,reed@android.com,37,22,15
416,moz-skia,512a87641fe1769fe34ceefe238e459f8d3cc0c1,"make the 16bit cache larger, to handle multiple colors in the gradient w/o
obvious artifacts. We need a more comprehensive fix for all gradients (32bit
and 16bit) when we have a large number of colors (or they are spaced out very
non-linearly), to avoid banding.



git-svn-id: http://skia.googlecode.com/svn/trunk@458 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-12-14T15:25:36Z,reed@android.com,reed@android.com,37,21,16
417,moz-skia,447bcfa8898ce10e7b6493ba9e3e23e08bd13f01,"Initialise fDeviceCMDirty

http://codereview.appspot.com/176050

git-svn-id: http://skia.googlecode.com/svn/trunk@457 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-12-12T00:06:17Z,agl@chromium.org,agl@chromium.org,1,1,0
418,moz-skia,f3f0bd71b81097f6c640e7f60805de7eacbc98c6,"SSE2-ified S32_alpha_D32_filter_DX (refactoring to come).  Also shaved a few
cycles off the SSE2 blends.

Review URL:  http://codereview.appspot.com/171055



git-svn-id: http://skia.googlecode.com/svn/trunk@456 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-12-10T22:46:31Z,senorblanco@chromium.org,senorblanco@chromium.org,141,133,8
419,moz-skia,c6a3cd63ba3aee2c64bb368334ac9a96248d6a90,"rebase the gm images, given the new chopping edgelist builder



git-svn-id: http://skia.googlecode.com/svn/trunk@455 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-12-10T21:13:00Z,reed@android.com,reed@android.com,0,0,0
420,moz-skia,59ed9f6c8547cd11b23babbbf6377d98e5cee055,"Eenable new chopping edgelist builder by default. If it sticks well, I'll
remove the old code-path in a subsequent CL



git-svn-id: http://skia.googlecode.com/svn/trunk@454 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-12-10T21:10:58Z,reed@android.com,reed@android.com,2,1,1
421,moz-skia,b757f8d20c582463999bd7aa5a48110e84945d19,"reinstate the empty check, and always initialize the format field



git-svn-id: http://skia.googlecode.com/svn/trunk@453 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-12-08T22:02:26Z,reed@android.com,reed@android.com,5,4,1
422,moz-skia,cb60844b34766aad4151df5e87c144d4a57e9abe,"add drawData() to canvas, to record data blobs



git-svn-id: http://skia.googlecode.com/svn/trunk@452 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-12-04T21:32:27Z,reed@android.com,reed@android.com,56,53,3
423,moz-skia,b1501a3cde99f68c9c419d9db4ad15b8fed814f3,"Fix warning (struct forward-declared as class).

Review URL:  http://codereview.appspot.com/164061


git-svn-id: http://skia.googlecode.com/svn/trunk@451 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-12-04T19:53:28Z,senorblanco@chromium.org,senorblanco@chromium.org,2,1,1
424,moz-skia,297a11cbc63d90c0c28cfaece87f25bac6a55258,"Remove check for empty devPath

Removes check for empty devPath since it was causing an assertion failure on
Mac OS X when drawing small fonts within the browser action badges.

BUG=none
TEST=none

Patch by andybons1.

http://codereview.appspot.com/163056

git-svn-id: http://skia.googlecode.com/svn/trunk@450 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-12-02T22:24:40Z,agl@chromium.org,agl@chromium.org,2,1,1
425,moz-skia,aa4f0c682d4eced5c0c3aa711f76d440eae60588,"Debug build fix (unreviewed).



git-svn-id: http://skia.googlecode.com/svn/trunk@449 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-12-01T13:36:19Z,senorblanco@chromium.org,senorblanco@chromium.org,4,2,2
426,moz-skia,dc7de745dd142cdc00ffed7963ebb030a0506f72,"More SSE2 optimizations.  This CL implements an SSE2 version of S32_bitmap_D32_filter_DX, and uses aligned loads and stores for dst, in all blending.

Review URL:  http://codereview.appspot.com/157141



git-svn-id: http://skia.googlecode.com/svn/trunk@448 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-11-30T20:00:29Z,senorblanco@chromium.org,senorblanco@chromium.org,627,410,217
427,moz-skia,a3d901099d7d295cd7d9df4114e874d9ccfff447,"add unittest for IntersectLine, used by hairlines



git-svn-id: http://skia.googlecode.com/svn/trunk@447 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-30T12:48:33Z,reed@android.com,reed@android.com,181,160,21
428,moz-skia,7767cd87fdadeed868457a2407e8b0a50006fc4a,"Win32 build fix (unreviewed).



git-svn-id: http://skia.googlecode.com/svn/trunk@446 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-11-25T17:14:32Z,senorblanco@chromium.org,senorblanco@chromium.org,6,3,3
429,moz-skia,55e76b209c9249308a9ba3d75c2472dd55e9d298,"outset the bounds if we're in hairline before quick-reject in SkDraw.cpp



git-svn-id: http://skia.googlecode.com/svn/trunk@445 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-23T21:46:47Z,reed@android.com,reed@android.com,51,46,5
430,moz-skia,4417740a480786ca65379ba5b398c500ba34ee18,"add SampleCode::GetAnimTime() so slides go through a central location for
animation timing. This allows us to ""freeze"" time in order to do things like
draw multiple times to test clipping.



git-svn-id: http://skia.googlecode.com/svn/trunk@444 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-23T21:07:51Z,reed@android.com,reed@android.com,76,46,30
431,moz-skia,e522ca5d5f249bd51a00cb68bb051f811d0a9e85,"fix winding bug in lineclipper
expose path.dump() all the time
UP arrow now toggles a grid of clip rects in sample app



git-svn-id: http://skia.googlecode.com/svn/trunk@443 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-23T20:10:41Z,reed@android.com,reed@android.com,105,72,33
432,moz-skia,90209caa686464cad70dd9d60b53c3d967eb57da,"doh. make the new S16 and U16 checkers inline



git-svn-id: http://skia.googlecode.com/svn/trunk@442 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-21T19:58:04Z,reed@android.com,reed@android.com,4,2,2
433,moz-skia,d4577757874d1dda1a3bffa3f2347c251859c27e,"add checks for exceeding 16bits, and apply those for glyphs in getMetrics()



git-svn-id: http://skia.googlecode.com/svn/trunk@441 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-21T02:48:11Z,reed@android.com,reed@android.com,69,42,27
434,moz-skia,8d52841110f1017a7dd7f4083fea7369a82f97f3,"change guard to use ANDROID and __arm__, so it doesn't break non-arm android
configs (e.g. simulator)



git-svn-id: http://skia.googlecode.com/svn/trunk@440 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-20T22:15:22Z,reed@android.com,reed@android.com,2,2,0
435,moz-skia,0c547bca505a57cf9428a7ff6d8501a11f4ea827,"Build fix for WIN64 (unreviewed).



git-svn-id: http://skia.googlecode.com/svn/trunk@439 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-11-20T18:55:44Z,senorblanco@chromium.org,senorblanco@chromium.org,2,1,1
436,moz-skia,9a62fa705280ed1a5ab2cc9a05208e9c72c1d5f9,"Remove SK_USE_OLD_255_TO_256.

Review URL:  http://codereview.appspot.com/156057/show.



git-svn-id: http://skia.googlecode.com/svn/trunk@438 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-11-20T04:25:41Z,senorblanco@chromium.org,senorblanco@chromium.org,4,0,4
437,moz-skia,3f0785e0c675c906c0bd704702e122149c5ee951,"fix index-out-of-range constant



git-svn-id: http://skia.googlecode.com/svn/trunk@437 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-19T21:41:57Z,reed@android.com,reed@android.com,2,1,1
438,moz-skia,e28ff55d980d2992618b6b721c848aba96cf759a,"retool clipping in hairlines to catch huge coordinates



git-svn-id: http://skia.googlecode.com/svn/trunk@436 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-19T20:46:39Z,reed@android.com,reed@android.com,265,181,84
439,moz-skia,28bee9591d1b24de4a536dbd2ae948df8186ba94,"Exclude Android-only cpu-features.h from non-Android builds.

This is needed when building Chromium for ARM.

Patch by Joel Stanley <joel@chromium.org>

git-svn-id: http://skia.googlecode.com/svn/trunk@435 2bbb7eff-a529-9590-31e7-b0007b416f81",agl@chromium.org,2009-11-19T03:21:57Z,agl@chromium.org,agl@chromium.org,13,10,3
440,moz-skia,181172d5642fce4a4c1d339a6e3c5e4a8079b11a,"return early if we hit overflow when chopping on the left (i.e. the entire
segment is effectively to the left)



git-svn-id: http://skia.googlecode.com/svn/trunk@434 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-19T03:02:38Z,reed@android.com,reed@android.com,2,2,0
441,moz-skia,ca80a64f5bfa05b6e3fbfcdfb2cb419e34f0d164,"add impl for memset32



git-svn-id: http://skia.googlecode.com/svn/trunk@433 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-18T17:43:10Z,reed@android.com,reed@android.com,4,4,0
442,moz-skia,909994fbae0ffb532f42feac8859f8d86bbf64de,"new scanconversion technique

This technique geometrically clips all segments against the clip bounds,
ensuring that we never send a value to the edgelist that might overflow in
fixedpoint.

Current disabled in SkScan_Path.cpp by a #define. There are a few minor pixel
differences between this and the old technique, as found by the gm tool, so
at the moment this new code is off by default.



git-svn-id: http://skia.googlecode.com/svn/trunk@432 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-18T16:09:51Z,reed@android.com,reed@android.com,1268,794,474
443,moz-skia,bb13586591bd412a0372aeb85d44159d2fa3f947,"fix typos in cubic clipper



git-svn-id: http://skia.googlecode.com/svn/trunk@431 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-18T13:47:40Z,reed@android.com,reed@android.com,499,365,134
444,moz-skia,3a0cd7f0e80115a8cf525c9e0cf231df06d30a42,"add explicit clamping after chopping w/ t to ensure we're in the clip



git-svn-id: http://skia.googlecode.com/svn/trunk@430 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-17T19:39:51Z,reed@android.com,reed@android.com,119,105,14
445,moz-skia,77f0ef726f1f8b6769ed2509171afce8bac00b23,"add quadclipping utility, plus sample test



git-svn-id: http://skia.googlecode.com/svn/trunk@429 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-17T18:47:52Z,reed@android.com,reed@android.com,426,374,52
446,moz-skia,4e753558fc8cc2f77cbcd46fba80d8612e836a1e,"More SSE2-ification; fix for gcc -msse2.

Review URL:  http://codereview.appspot.com/154163



git-svn-id: http://skia.googlecode.com/svn/trunk@428 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-11-16T21:09:00Z,senorblanco@chromium.org,senorblanco@chromium.org,383,304,79
447,moz-skia,70149060a74bb212e67eb140be7cbf97a7cd36a8,"add lineclipper, and test case



git-svn-id: http://skia.googlecode.com/svn/trunk@427 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-16T20:39:43Z,reed@android.com,reed@android.com,271,271,0
448,moz-skia,e72fee513a5f903d6aa17066d2f3b79ac31f05de,"add onSendClickToChildren to views, so a view can capture all clicks.
speedup some of the unittests that were too slow
minor cleanup in SkScan_Path, in prep for larger changes



git-svn-id: http://skia.googlecode.com/svn/trunk@426 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-16T14:52:01Z,reed@android.com,reed@android.com,161,88,73
449,moz-skia,f0f4e9abba62a405b7a41e40fcee20b45eb348ee,"remove const modifiers on function return types (unneeded, and caused an error
on some gccs).



git-svn-id: http://skia.googlecode.com/svn/trunk@425 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-13T19:00:49Z,reed@android.com,reed@android.com,24,12,12
450,moz-skia,1d15d37ab9c7d56dfaed190c32675cfbe210cb20,"fix rotation around 2nd axis



git-svn-id: http://skia.googlecode.com/svn/trunk@424 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-10T17:58:47Z,reed@android.com,reed@android.com,2,1,1
451,moz-skia,bcfc73321db47bde7638a1077992301ee56117b1,"flatten/unflatten custom fields for 2-point gradient



git-svn-id: http://skia.googlecode.com/svn/trunk@423 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-10T16:19:39Z,reed@android.com,reed@android.com,22,21,1
452,moz-skia,c6ddc110c0f4bd16b5ce61cad6c6ac4213c026a0,"use imageref_globalpool in samplepicture, to test flattening bitmaps



git-svn-id: http://skia.googlecode.com/svn/trunk@422 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-10T15:54:55Z,reed@android.com,reed@android.com,34,33,1
453,moz-skia,d03337c736d32bd814eae8a62b1284ea0009b816,"Fix for gcc -fPIC build.

http://codereview.appspot.com/150060



git-svn-id: http://skia.googlecode.com/svn/trunk@421 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-11-09T20:02:43Z,senorblanco@chromium.org,senorblanco@chromium.org,14,10,4
454,moz-skia,0db5a7fae596e4914250554402e4874c33fdf0d4,"update dox for SkAvoidXfermode (as best I could)

fix 565 and 4444 implementations



git-svn-id: http://skia.googlecode.com/svn/trunk@420 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-09T16:01:36Z,reed@android.com,reed@android.com,135,120,15
455,moz-skia,5ebbe14f76da3028e5d4523c093a0f4a2cf8e982,"fix cheap calc of edgelist size



git-svn-id: http://skia.googlecode.com/svn/trunk@419 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-05T21:04:00Z,reed@android.com,reed@android.com,24,18,6
456,moz-skia,9272761b22746d2d22439c26f5555028f8e824da,"SSE2 optimizations for 32bit blending blitters.

This CL implements SSE2 optimizations for 3 of the 32bit blending blitters.  It
uses CPUID to detect for SSE2 at runtime.  In order to accomodate runtime
detection, it changes the platform procs from static arrays to static
functions.

It also includes an implementation of SkTime for Win32.

http://codereview.appspot.com/144072



git-svn-id: http://skia.googlecode.com/svn/trunk@418 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-11-04T20:51:06Z,senorblanco@chromium.org,senorblanco@chromium.org,464,418,46
457,moz-skia,e0f13eeb8e527cfd2541063ba2dd89c7d31d71ce,"default to not showing the (slow) overview slide: hit DELETE to invoke



git-svn-id: http://skia.googlecode.com/svn/trunk@417 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-04T19:40:25Z,reed@android.com,reed@android.com,18,10,8
458,moz-skia,161b00bae2c759b157bb5f1141f497f706443902,"add SkEvalCubicInterval



git-svn-id: http://skia.googlecode.com/svn/trunk@416 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-03T15:33:14Z,reed@android.com,reed@android.com,204,203,1
459,moz-skia,34245c7871f6339de8cc2be8fb1090ca3cba54ef,"add OVerView slide to samplecode
change inline functions in SkColorPriv.h to static inline



git-svn-id: http://skia.googlecode.com/svn/trunk@415 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-11-03T04:00:48Z,reed@android.com,reed@android.com,416,189,227
460,moz-skia,e16a9223fd2a09fb7ba72e20c957bef99cbef4fc,"disable bogus assert (at least until I can investigate more)



git-svn-id: http://skia.googlecode.com/svn/trunk@414 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-30T21:37:10Z,reed@android.com,reed@android.com,3,3,0
461,moz-skia,4aa910ea938ddcfe1a480884a51aefe14d74ca89,"Makefile fix:  Fix gm build for Linux.
Also add a rule to build assembly files from .cpp's.

http://codereview.appspot.com/143060



git-svn-id: http://skia.googlecode.com/svn/trunk@413 2bbb7eff-a529-9590-31e7-b0007b416f81",senorblanco@chromium.org,2009-10-30T18:50:23Z,senorblanco@chromium.org,senorblanco@chromium.org,8,8,0
462,moz-skia,3f2025fdb5fc0bd8b1edc92174f0df5226942f8a,"rename gamma to table, since it is more general than just gamma



git-svn-id: http://skia.googlecode.com/svn/trunk@412 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-29T17:37:56Z,reed@android.com,reed@android.com,361,238,123
463,moz-skia,3cfda413a2eadedc1ef9db3c980e78f4d415d6dc,"add gamma maskfilter, especially nice when applied after a blur



git-svn-id: http://skia.googlecode.com/svn/trunk@411 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-29T15:19:10Z,reed@android.com,reed@android.com,153,153,0
464,moz-skia,a563162780d589938aef8a4d8b63d2957139313b,"move boundarypatch into utils



git-svn-id: http://skia.googlecode.com/svn/trunk@410 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-28T14:27:20Z,reed@android.com,reed@android.com,0,0,0
465,moz-skia,2ee7c640150a863f2859eb0aaf4dfe7ad7836f34,"update on boundary patches



git-svn-id: http://skia.googlecode.com/svn/trunk@409 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-28T14:25:34Z,reed@android.com,reed@android.com,486,319,167
466,moz-skia,b577b41c8ec26c21ae599e80a2707d42f03eaa60,"add shaderproc32 for index bitmaps. neon version of 32->16+dither



git-svn-id: http://skia.googlecode.com/svn/trunk@408 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-27T17:49:32Z,reed@android.com,reed@android.com,147,146,1
467,moz-skia,4408ccaf949ef3e47d31ab3cec6d618150960d6b,"add boundary patch experiment



git-svn-id: http://skia.googlecode.com/svn/trunk@407 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-27T02:24:03Z,reed@android.com,reed@android.com,248,244,4
468,moz-skia,879a252d090a0929c11d8963dbd4328b11d0916f,"remove check for filtering. Now if the src is opaque, the filtered result
always will be too.



git-svn-id: http://skia.googlecode.com/svn/trunk@406 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-26T19:15:43Z,reed@android.com,reed@android.com,34,10,24
469,moz-skia,522aa8d4d61f30bddbaf996b2933d5f7b1f23880,"fix S32A_D565_Blend_neon



git-svn-id: http://skia.googlecode.com/svn/trunk@405 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-22T20:26:53Z,reed@android.com,reed@android.com,467,312,155
470,moz-skia,8481ccc199ba3ed03acb19b1f341394db5bcb834,"fix quadclipper in the case that the chop function fails

If the chopper fails, then we've hit some numerical edge-case, which indicates
that the quad is just barely crossing the edge, so to handle that, we just
clamp the Y values to the edge. This distorts the quad, but only in the case
when 99% of the quad will not be affected.



git-svn-id: http://skia.googlecode.com/svn/trunk@404 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-22T18:11:06Z,reed@android.com,reed@android.com,41,31,10
471,moz-skia,d6a5f4e2008d96a896c76ca031bece0723e16e3c,"clear xfermode in paint to reflect that we saw it was srcover

This allows our asserts in the RGB16 blitter chooser to pass.



git-svn-id: http://skia.googlecode.com/svn/trunk@403 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-22T16:50:05Z,reed@android.com,reed@android.com,35,24,11
472,moz-skia,80b4ebe5d598039f1f8b75053053f0853e02fdb8,"first cut at a checkbox



git-svn-id: http://skia.googlecode.com/svn/trunk@402 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-21T19:41:10Z,reed@android.com,reed@android.com,151,136,15
473,moz-skia,d2abab656b26242a186fe6c7e66eedf92b3a99d1,"first cut at rubber-sheet warping



git-svn-id: http://skia.googlecode.com/svn/trunk@401 2bbb7eff-a529-9590-31e7-b0007b416f81",reed@android.com,2009-10-20T21:27:15Z,reed@android.com,reed@android.com,211,211,0
