,reponame,commitid,commitmsg,commitauthor,commitauthordate,comauthorlogin,shaauthorlogin,stats_total,stats_addns,stats_delns
0,crlite,99492f665bc029ef6948fbf123dfa1b0cf1b8a1f,"Remove the collate-all-crls tool, as it's replaced by aggregate-crls",J.C. Jones,2018-10-30T20:16:58Z,jcjones,jcjones,181,0,181
1,crlite,bf196f49327f5d04f522ad03e62cd7875ef98799,Fix #7 -  aggregate-known and aggregate-crls should use the mozilla issuers list,J.C. Jones,2018-10-30T20:10:52Z,jcjones,jcjones,32,27,5
2,crlite,e702ada0478fe0c9544aed42731f3466c170ea2a,Use the flag 'ccadb' for local on-disk CCADB info,J.C. Jones,2018-10-30T19:23:52Z,jcjones,jcjones,15,11,4
3,crlite,218da97057a80f2a29b2ef15faee984504556bfa,"Fix #5 -  Validate CRL signatures

Use the rootprogram package to obtain CRL issuer certificates and use them for
signature validations.",J.C. Jones,2018-10-30T19:03:22Z,jcjones,jcjones,41,31,10
4,crlite,6634d786eeea343190e7b921110290e71b93c56a,"Rename ""mozilla-issuers"" package to ""rootprogram""",J.C. Jones,2018-10-30T18:58:52Z,jcjones,jcjones,11,8,3
5,crlite,59f5ac8c762ea39d700848f9f621bf066f60d1aa,Abstract the mozilla-issuers mechanism to its own package and support querying certs.,J.C. Jones,2018-10-30T17:47:38Z,jcjones,jcjones,254,155,99
6,crlite,a524a31cebc4dc00ca94dc41a6283c5f7ada2775,Improve bar dynamics,J.C. Jones,2018-10-18T03:41:53Z,jcjones,jcjones,5,4,1
7,crlite,fe19e84cc434970f2e3b1dc6b07db9c54c101ac8,"Until we get #7 implemented, be less strict",J.C. Jones,2018-10-18T03:35:11Z,jcjones,jcjones,11,6,5
8,crlite,c9da07cdcd3e738b230f20c7fbe77ac4dcf43820,Cleanups,J.C. Jones,2018-10-18T00:38:26Z,jcjones,jcjones,8,6,2
9,crlite,fd076e5dbd32b494e2fdb6f6b7fda1a6b1246c87,Fix #6 - Update aggregate CRLs tool to work on the whole DB,J.C. Jones,2018-10-18T00:38:11Z,jcjones,jcjones,581,538,43
10,crlite,621be810ab31b7fc98eaef062d95de2aada1f106,"Bugfix, use SPKI for issuers",J.C. Jones,2018-10-02T21:58:13Z,jcjones,jcjones,6,5,1
11,crlite,af0a99f3810df2904b19dd476d8b25dcd6a25d84,Be smarter about URLs,J.C. Jones,2018-10-02T19:38:15Z,jcjones,jcjones,8,3,5
12,crlite,8bdafa8e5c82871dc720e1c32ce442cb21ba2d6c,Add a tool to obtain all Mozilla-root issuer AKIs,J.C. Jones,2018-10-02T19:23:36Z,jcjones,jcjones,139,139,0
13,crlite,8a007e3d14d7a57d46f8642b2bb7c8ffa9a0b58d,Reduce logging,J.C. Jones,2018-10-02T18:03:48Z,jcjones,jcjones,2,0,2
14,crlite,98338fda37dfd0b6c40864de2687dcb52a480310,Don't duplicate known arregations,J.C. Jones,2018-10-02T17:53:05Z,jcjones,jcjones,11,7,4
15,crlite,b93dd82583d0c0736aac40040f5b29187138e844,Add a aggregate-known tool,J.C. Jones,2018-10-02T15:30:29Z,jcjones,jcjones,181,177,4
16,crlite,f2fc6bc30d3bf6297258c221c43b089ccbb2d5cd,Add a tool to generate a JSON list of revoked serials,J.C. Jones,2018-10-01T21:49:59Z,jcjones,jcjones,127,127,0
17,crlite,bb388958be6388449362063e36268e67dc1048a8,Move types into their own package,J.C. Jones,2018-09-29T00:11:48Z,jcjones,jcjones,62,32,30
18,crlite,aeb400dfd676349467e322ff97b4905b3b930139,Rename to use dashes to match ct-fetch,J.C. Jones,2018-09-28T23:47:17Z,jcjones,jcjones,2,1,1
19,crlite,70de55c9d7ce23f483a4d3da5a53e4e58e79cc84,Add a utility to process all ct-mapreduce data to produce a map of known issuer to crls,J.C. Jones,2018-09-28T22:32:14Z,jcjones,jcjones,270,270,0
20,crlite,bb398089d0c53d18a4af3a993ca58d3128f7216a,make limit optional; new processCRLPoints function,groovecoder,2018-05-01T16:03:06Z,groovecoder,groovecoder,54,33,21
21,crlite,1192b3392c8a5453e816e4667741b8d0e21cc782,more usage tweaks,groovecoder,2018-04-26T15:45:20Z,groovecoder,groovecoder,9,5,4
22,crlite,2372997ffee47f86c8b6422e4e88347930599e47,document --limit in the README,groovecoder,2018-04-26T15:38:51Z,groovecoder,groovecoder,5,5,0
23,crlite,b92d6ca6438a9db336c807659c9e266213918017,refactor processDerData and add cert processing limit,groovecoder,2018-04-26T15:37:13Z,groovecoder,groovecoder,278,113,165
24,crlite,822d02225d182b538b59848f0ad5905106b9c36a,updated README,groovecoder,2018-04-26T14:59:43Z,groovecoder,groovecoder,11,4,7
25,crlite,584c365043e171e793e97f929b352c03b8381a89,update for python3 struct.pack,groovecoder,2018-04-26T14:54:36Z,groovecoder,groovecoder,11,4,7
26,crlite,fc1092708fee72ae99dae421e1d58a60ea4a5056,wip,groovecoder,2018-04-26T14:34:39Z,groovecoder,groovecoder,712,712,0
27,crlite,e25bc8a14144008cb9a094420d3e781526629cca,"Add socks as a requirement, and also update workflow/5-upload_intermediates to pass along cli args",J.C. Jones,2019-06-11T18:10:04Z,jcjones,jcjones,6,5,1
28,crlite,89a2bfadead89debb50e89e795df8a39178bd9ff,Standardize the form for unique_id and use standard base64 for pubKeyHash,J.C. Jones,2019-06-11T18:09:26Z,jcjones,jcjones,5,3,2
29,crlite,336888995699ed13603b134166c88057cbde17c9,Use standard Base64 encoding for intermediate Kinto records,J.C. Jones,2019-06-10T22:42:59Z,jcjones,jcjones,4,2,2
30,crlite,a3804786b7b49a1e754701be83767312a6d48b43,Also delete stale intermediates,J.C. Jones,2019-06-10T22:36:29Z,jcjones,jcjones,2,1,1
31,crlite,3260c406b08108f3b0c34afd53e35e6984e11579,Actually we want 0.1.3 at least,J.C. Jones,2019-06-10T22:29:38Z,jcjones,jcjones,2,1,1
32,crlite,a79df48d4b6d236737b4ca096a4192fab7ebacdf,Fixup: Use add not append for sets,J.C. Jones,2019-06-07T00:04:36Z,jcjones,jcjones,2,1,1
33,crlite,5ae4bf578a1a70f990b34571e52fedf8cec0d427,"Use urlsafe base64 for derHash, and calcuate to_update before displaying it.

(The update functionality is unchanged, as objects were checked for equality
before updating, but the variable name implied only to-be-updated ones would
be there, when it really was all potentially-updatable.)",J.C. Jones,2019-05-23T19:34:02Z,jcjones,jcjones,10,7,3
34,crlite,f9e36e77c1a89dd918fd47a33bbdc83af9e9092f,"Derive SubjectDN from the certificate (correctly), as the binary value upstream isn't right.",J.C. Jones,2019-05-23T15:16:38Z,jcjones,jcjones,15,8,7
35,crlite,9f7ffc1c50a8a59e28c4bd98ce2b9e8545fd75be,"Add more debugging for analyzing updates, deletes, and additions",J.C. Jones,2019-05-23T00:01:15Z,jcjones,jcjones,37,31,6
36,crlite,ef99035742d137456a2cdd9bf34900009e093c6f,Optionally produce the SaveIssuersList from get-mozilla-issuers,J.C. Jones,2019-05-22T22:36:49Z,jcjones,jcjones,10,1,9
37,crlite,25eeb5f232c339a0af378e940395e1a69c8bdc52,"Cache the intermediates list, so it can't change so much",J.C. Jones,2019-05-22T19:46:34Z,jcjones,jcjones,8,7,1
38,crlite,7a68a18774c7ecaba807e9850185852acff51f89,Bug 1552304 - Add 'derHash' and 'subjectDN' fields,J.C. Jones,2019-05-22T19:35:50Z,jcjones,jcjones,34,30,4
39,crlite,fcf4592807b862f63b08ecf559c1d8bc023e8fd0,Update to filtercascade 0.1.1 and set a version number,J.C. Jones,2019-05-03T18:10:49Z,jcjones,jcjones,157,3,154
40,crlite,a205c390a10baebf984c3b6c7a78a5062dccfc8a,Better error message,J.C. Jones,2019-05-02T16:50:21Z,jcjones,jcjones,4,2,2
41,crlite,cdd396208b2861d3496a68fd5df21d782d1752c1,Update workflow script for mlbf,J.C. Jones,2019-05-02T16:50:03Z,jcjones,jcjones,11,5,6
42,crlite,54f373b7204112505a50498742b2f774dddee45f,Add an upload workflow script for intermediates,J.C. Jones,2019-02-01T00:12:33Z,jcjones,jcjones,23,23,0
43,crlite,573101d334a8b2202c354bc6804ef2848ecfd3ee,"Catch collisions, if any",J.C. Jones,2019-02-01T00:06:33Z,jcjones,jcjones,4,4,0
44,crlite,0f01e7e6bb20254f0cf26cdb3dc3fb76eea2e79d,Make deletion optional,J.C. Jones,2019-01-31T23:23:31Z,jcjones,jcjones,27,22,5
45,crlite,f3f0e78c6cea64921d58f317ed90102eac1af1d4,Use cert hashes to deduplicate subject+key collisions,J.C. Jones,2019-01-31T22:38:53Z,jcjones,jcjones,9,7,2
46,crlite,27940f63fa64ea8c4baf39640c58e544f6e223a2,"Don't use details, and propagate invalid PEM errors up to top",J.C. Jones,2019-01-31T22:30:16Z,jcjones,jcjones,56,24,32
47,crlite,193eb8341b5e6f413fcf7efbb5dcea5d32e668ff,Sort requirements,J.C. Jones,2019-01-31T22:15:07Z,jcjones,jcjones,6,3,3
48,crlite,a13bf3e22d0c99fa73ed17e0d627a3f6d8eb8c7e,Be smarter with attachment verification,J.C. Jones,2019-01-31T22:14:23Z,jcjones,jcjones,49,31,18
49,crlite,ac458706289fd9b823c49f2cdc56cb60d2064024,Apply more pre-commit hooks and reformat publisher,J.C. Jones,2019-01-31T20:50:49Z,jcjones,jcjones,854,450,404
50,crlite,c63bfc184c22152a68e02ce37aeed8a5512a7b3f,Generalize attachment upload,J.C. Jones,2019-01-31T20:44:13Z,jcjones,jcjones,42,25,17
51,crlite,27b270151d8876cffd371774d8c3fa3cc85b39c0,"Use a unique ID instead of pubKeyHash, as the hash may not be unique",J.C. Jones,2019-01-31T20:07:59Z,jcjones,jcjones,36,21,15
52,crlite,f9662a7c82058120517e59955baebfbcd3d1827e,Better debug prints,J.C. Jones,2019-01-31T19:58:04Z,jcjones,jcjones,5,4,1
53,crlite,1853b46fe967ca1ecbaf43b9f0d881bc35e20f3a,Add hash verification,J.C. Jones,2019-01-31T00:12:42Z,jcjones,jcjones,12,10,2
54,crlite,69ff3176e173e253bcc318d85d9e4a154d3ed01d,Add a verification step,J.C. Jones,2019-01-30T23:38:52Z,jcjones,jcjones,119,86,33
55,crlite,9ac7c15d059bed935dbc6508b239757114c9fa21,Add file attachments,J.C. Jones,2019-01-30T23:11:24Z,jcjones,jcjones,140,119,21
56,crlite,07df22fb9799b3169c82f20d4e6b84fc541e24d2,"Add Intermediate processing, loading the file from aggregate-crls and existing from kinto",J.C. Jones,2019-01-30T23:11:13Z,jcjones,jcjones,133,128,5
57,crlite,10aaa3b8d1a5b97266c19cd98473654e4907229e,"Resolve #14 - Emit all issuers, certs, and if enrolled",J.C. Jones,2019-01-29T21:38:46Z,jcjones,jcjones,87,56,31
58,crlite,4a5939862fea81e81f79433d94ff5a647ce1d058,Update go.sum with another hash,J.C. Jones,2019-01-29T21:38:24Z,jcjones,jcjones,1,1,0
59,crlite,1e8f046951af28f85fa1a453dd48b7eff9aeb1ba,Don't use a default collection,J.C. Jones,2019-01-29T19:07:37Z,jcjones,jcjones,66,43,23
60,crlite,1ea0df4610c2c532f58224a9226cb4e593b6f704,Rework exception handling,J.C. Jones,2019-01-29T18:48:11Z,jcjones,jcjones,33,15,18
61,crlite,7467b56aa03c9b9f72048eff2380025156cbf139,Refactor a PublisherClient,J.C. Jones,2019-01-29T00:43:36Z,jcjones,jcjones,56,39,17
62,crlite,2a8062377f785333ad8498d36ce51bae2701b3cb,Refactor kinto-publisher to have a main method,J.C. Jones,2019-01-28T23:47:02Z,jcjones,jcjones,203,109,94
63,crlite,811b472918e8b1f637abb58d22043c3d5fd15729,Support user and bearer auth for the kinto publisher,J.C. Jones,2019-01-28T22:06:54Z,jcjones,jcjones,24,20,4
64,crlite,3d6a72153ab561b1a9bbaaf7b4e608891dd41689,Move to a newer mpb,J.C. Jones,2019-01-28T22:00:01Z,jcjones,jcjones,7,5,2
65,crlite,d2efa379152b0f77b69ad548a6a71a6b89d3571f,Fix #23 - Update the intermediates source,J.C. Jones,2019-01-28T21:17:02Z,jcjones,jcjones,10,5,5
66,crlite,cf685eb9a829eea190bbfe85b26f6605268af082,Add go mod statement,J.C. Jones,2019-01-28T21:16:30Z,jcjones,jcjones,1,1,0
67,crlite,28e8bb9315c0d1ecf278597daed51d073643c849,Update pre-commit for local fixes,J.C. Jones,2019-01-28T21:15:14Z,jcjones,jcjones,17,16,1
68,crlite,ba997d7c46af0f255ac4d7571a151f75276cb650,Add signing support to kinto-publisher,J.C. Jones,2019-01-28T19:00:32Z,jcjones,jcjones,24,22,2
69,crlite,aea8cbcc08120dedae4050dc665dfc55292c69f3,Add some simple start/stop scripts,J.C. Jones,2019-01-08T18:27:19Z,jcjones,jcjones,13,13,0
70,crlite,34fedf5e7b757086e8a5307a10b2410abf6f8fa5,Fix typo that causes cleanup to not run,J.C. Jones,2019-01-07T16:29:11Z,jcjones,jcjones,8,4,4
71,crlite,c171962488ff7f159c3c754f6fe74a84ee8a62d2,"Initial commit to address #14 (#21)

* Initial commit to address #14

Generate enrolled issuers list for upload to Kinto.

* Review updates

base64 encode PubKeyHash and Subject
Run go fmt
Add git commit hooks and fix some golangci-lint issues.",pateldt,2018-12-20T00:24:41Z,pateldt,pateldt,144,126,18
72,crlite,d27d9b5cda1e2db09c1a574e4d7f6ae0e4ed08fa,"Fix for #20 (#22)

Generate a new filter if filter files for previous ID don't exists.",pateldt,2018-12-19T18:11:16Z,pateldt,pateldt,18,11,7
73,crlite,f88aaa0141e0c00902e21e654b66eae2d0ce8e1f,add a simple force function to ensure we don't send patches,J.C. Jones,2018-12-18T17:10:24Z,jcjones,jcjones,20,13,7
74,crlite,7aec0bbd36cce7583af6da6197c4c99ab61c1541,Fix #16 - Add cleanup script for the processing folder (#19),J.C. Jones,2018-12-18T17:04:04Z,jcjones,jcjones,80,77,3
75,crlite,1b1d805344b1282de919d4b6410aab7143617ba0,Update to ct-mapreduce  b9ea805.,J.C. Jones,2018-12-18T04:21:59Z,jcjones,jcjones,24,13,11
76,crlite,99e057419c49a602d6663fd8834aa27b7fd9301a,Add a pre-commit config for https://pre-commit.com,J.C. Jones,2018-12-17T23:56:24Z,jcjones,jcjones,8,8,0
77,crlite,a7b5da11a8c121bf0436cb4b098b4c5ee495184d,Do cleanups regularly,J.C. Jones,2018-12-13T16:40:15Z,jcjones,jcjones,2,2,0
78,crlite,5a5c135e02deb91d143a5948ddf6cd6b5ae251ce,"Filter sizing and generation fixes (#17)

* Filter sizing and generation fixes

Verify required size of filter created from metafile and re-allocate if necessary.
Only one filter is ever created.  A brand new one or one based on previous filter's
charecteristics.

* Review updates

* Made resize output info level.",pateldt,2018-12-13T16:35:02Z,pateldt,pateldt,64,29,35
79,crlite,6d81fc6f2f8b3f5e45eea88dc6a056465889d5a7,Commit a WIP of the cleanup routines,J.C. Jones,2018-12-13T16:21:56Z,jcjones,jcjones,6,6,0
80,crlite,e36fe10c036b1cd33435d2ed3ecacf7ceb168737,Fix #8 - Remove old python utilities,J.C. Jones,2018-12-11T17:55:43Z,jcjones,jcjones,95,0,95
81,crlite,d1d238fa5247d221c737708c1b11ad31fe438687,"Merge pull request #12 from mozilla/layerSizeFixes

Layer size should be based on inclusion element count instead of exclâ€¦",J.C. Jones,2018-12-10T20:39:05Z,jcjones,jcjones,70,51,19
82,crlite,f6e7bda9fe9231370e2feeca0398c09ad5156329,"Layer size should be based on inclusion element count instead of exclude.
Bail if filter layer count starts to increase.  Indicates its time to abandon trying to do a diff.",dipen.patel,2018-12-07T15:37:50Z,pateldt,pateldt,70,51,19
83,crlite,8b86d65dc02d132caad0ac31bb793dd5e59a42f0,Tidy up imports,J.C. Jones,2018-12-06T18:13:28Z,jcjones,jcjones,85,15,70
84,crlite,0a21fc07dc8c4a59a80ef93378c1fee1f0905be3,"Merge pull request #11 from mozilla/mmh3-hash-filter

Murmur hash 3 based cascade filter",J.C. Jones,2018-12-06T15:04:45Z,jcjones,jcjones,555,515,40
85,crlite,b353f1cdf2c43322339a4cf1ca360c0a2f50e804,Update ct-mapreduce,J.C. Jones,2018-12-06T15:01:56Z,jcjones,jcjones,22,15,7
86,crlite,b8a2af96f1ce066ef10fed965dee33f5f3221a23,Address previously missed review comments.,dipen.patel,2018-12-06T00:16:19Z,pateldt,pateldt,277,131,146
87,crlite,f6e7c543ec50b50d0918cee8eddabd49442f7445,Update README,J.C. Jones,2018-11-30T19:24:35Z,jcjones,jcjones,106,63,43
88,crlite,ca3f65032a809853e8a14ca116b38413328f3f93,Remove outdated python-CRL code,J.C. Jones,2018-11-30T16:42:50Z,jcjones,jcjones,445,0,445
89,crlite,fc931c319c8f31ca228fed9d1fcd6a7fba1e8143,Add a Travis file,J.C. Jones,2018-11-29T23:59:56Z,jcjones,jcjones,15,12,3
90,crlite,0df8818ed7adb6466ac8e7c579754ce19d8b8bd9,Merge branch 'master' into mmh3-hash-filter,J.C. Jones,2018-11-29T22:31:31Z,jcjones,jcjones,239,236,3
91,crlite,ba90d45fcef1be8425faf20dc88ff68e48b59a37,Gracefully handle certificates without SPKIs,J.C. Jones,2018-11-29T21:55:41Z,jcjones,jcjones,18,11,7
92,crlite,51a3c7a64e599646d6c983ba98dba07c776d8aa4,Add tests for rootprogram,J.C. Jones,2018-11-29T21:47:37Z,jcjones,jcjones,176,157,19
93,crlite,c282047c0e73b34fddec5cf2974be0f490ff3933,Update with the fix for makeFilenameFromUrl,J.C. Jones,2018-11-29T18:38:45Z,jcjones,jcjones,289,282,7
94,crlite,ddc2724e420feb2c6fb41ed327bd620ec3abb881,Add a test for the rootprogram/issuers package,J.C. Jones,2018-11-29T18:36:48Z,jcjones,jcjones,91,91,0
95,crlite,a491f1b4ff8344e365c2904d02a27ff6d7ea5ace,Make Test_makeFilenameFromUrl collision-resistent and add a test,J.C. Jones,2018-11-29T18:37:21Z,jcjones,jcjones,46,43,3
96,crlite,1bce44e20340cac4d37589a064b48735acdcfc09,Add downloader tests,J.C. Jones,2018-11-29T04:54:15Z,jcjones,jcjones,235,235,0
97,crlite,d488c90c419d146e7f8b200039d127525d112865,Reorder downloader's execution,J.C. Jones,2018-11-28T23:26:29Z,jcjones,jcjones,8,4,4
98,crlite,7cf9ae3520fc63024a608d618ef5daf9f8cf3fd8,Merge remote-tracking branch 'origin/master' into HEAD,J.C. Jones,2018-11-28T16:51:12Z,jcjones,jcjones,43,29,14
99,crlite,dae071ed12e3ef3ee00e3e0a2176f7b073cf26b8,Make Warning and Error more consistent for aggregate-crls,J.C. Jones,2018-11-28T16:48:59Z,jcjones,jcjones,14,7,7
100,crlite,8e9b6f3425d60711ecfd14f7ba0fac7a7f6a3511,"Update github.com/jcjones/ct-mapreduce

Brings in the fix for duplicate-named CRLs",J.C. Jones,2018-11-28T04:12:06Z,jcjones,jcjones,25,18,7
101,crlite,dd6ad10f40351038c7ad2dc9ede00f4b5890977a,aggregate-crls - Downloader: Respect HTTP status code,J.C. Jones,2018-11-28T03:44:17Z,jcjones,jcjones,4,4,0
102,crlite,79db31b5a29f9e0ce07fd31440de03e6cf724675,hard code crlite path for now,dipen.patel,2018-11-16T21:47:35Z,pateldt,pateldt,4,2,2
103,crlite,c1463da61235260acda20244bbe3e7956a954746,Remove full paths for shell commands,dipen.patel,2018-11-16T21:33:46Z,pateldt,pateldt,10,5,5
104,crlite,b33d4c3a5f648a8856448ad51a3cefaf8fb82499,yapf run,dipen.patel,2018-11-16T21:31:06Z,pateldt,pateldt,59,37,22
105,crlite,453f20031a05912e37e066bb664b8d5edf6c0dc6,remove limit stuff,dipen.patel,2018-11-16T21:09:41Z,pateldt,pateldt,18,2,16
106,crlite,b6b5352e22bbb8a62477f6c1ee4db935b3f5561f,Use os.path.join,dipen.patel,2018-11-16T21:06:07Z,pateldt,pateldt,29,13,16
107,crlite,8e1283c7d3729b9b3f5b9cc1465089cae3a955eb,"Ignore know AKIs that don't have revocation list
Removed extra debug info",dipen.patel,2018-11-16T20:14:57Z,pateldt,pateldt,34,11,23
108,crlite,c86a9291eb93c3edde70c5e2623ec00c2c4a17f6,Update workflow to run mlbf,dipen.patel,2018-11-16T19:22:49Z,pateldt,pateldt,29,29,0
109,crlite,4491c34f44aec5478bf962eeb0adb9a51cbcb0fa,Generate a base filter as well as optional patch with previous filter's characteristics,dipen.patel,2018-11-16T17:59:06Z,pateldt,pateldt,35,23,12
110,crlite,367270067927f7243db97515e0ed9b559bf2bdb1,Merge branch 'master' into mmh3-hash-filter,dipen.patel,2018-11-16T15:20:39Z,pateldt,pateldt,253,245,8
111,crlite,51d893de1284fd78c3f003466d02f6c8567faf26,"Optionally write keys to file for debug purposes
Fix filter generation time calculation",dipen.patel,2018-11-16T15:15:51Z,pateldt,pateldt,158,78,80
112,crlite,d97bb53db7f56bc00df7248daf5f7060eb31402d,run yapf,dipen.patel,2018-11-15T21:18:23Z,pateldt,pateldt,68,38,30
113,crlite,e03b012ef48f86bece80ba6d412f631a979657b7,Generate patch files if previd provided,dipen.patel,2018-11-15T21:14:29Z,pateldt,pateldt,21,15,6
114,crlite,6042ce17966b4bdcaf6336516202ed1078586622,Fix indexing into error rates,dipen.patel,2018-11-14T23:33:45Z,pateldt,pateldt,2,1,1
115,crlite,be9d220f8519a348c473fa9934d2ac82b86380bf,"Converted print to logging
Change to assert instead of raising exception in check()",dipen.patel,2018-11-14T22:41:56Z,pateldt,pateldt,85,45,40
116,crlite,5018cb03a37fa656e472b4821d537c6e62e3b96e,Run it through yapf,dipen.patel,2018-11-13T22:52:48Z,pateldt,pateldt,180,127,53
117,crlite,eabdb051db3c5314ef498ac4042d17da918a08ef,Pull in mgoodwin fixes on filter,dipen.patel,2018-11-13T22:24:00Z,pateldt,pateldt,236,127,109
118,crlite,6f07ce0c9da547a60f5a18a2c08109e51f4e08fb,Add workflow files,J.C. Jones,2018-11-09T17:55:18Z,jcjones,jcjones,132,132,0
119,crlite,d879fe14e9c91869d6f62a3744bd951aa0bee47c,Make generic based on gopath,J.C. Jones,2018-11-09T17:53:48Z,jcjones,jcjones,12,7,5
120,crlite,8590ecce76b4322604b700043d3a05da9bff1a6b,Merge branch 'master' of github.com:mozilla/crlite,Ubuntu,2018-11-09T00:11:11Z,Ubuntu,Ubuntu,90,82,8
121,crlite,c5d9a36f274ff8f895d26ecdeb238858e2bc9667,Add systemd utilities,J.C. Jones,2018-11-09T00:10:48Z,jcjones,jcjones,29,29,0
122,crlite,5e4fa207e508debfd13e9b1de16aae4d0fc9c6a0,Add python-specific gitignore entries,J.C. Jones,2018-11-08T19:44:10Z,jcjones,jcjones,74,74,0
123,crlite,1460a04d0e9e319787894e67dab550dc746b19d4,Fix go vet errors,J.C. Jones,2018-11-08T19:29:07Z,jcjones,jcjones,16,8,8
124,crlite,f1995b90e3c4c866b34e8b6cd723326f2ecc50bb,Murmur hash 3 based cascade filter,dipen.patel,2018-11-06T06:58:23Z,dipen.patel,dipen.patel,466,409,57
125,crlite,78e6659df7df83a60cc936c053155bfdda6b3160,Add a basic Python tool to publish MLBFs to Kinto. Supercedes PR#2.,J.C. Jones,2018-11-02T22:09:13Z,jcjones,jcjones,102,100,2
126,crlite,5962d1f997b781d46f902d377279adbeb9769b7e,Add subject DN to rootprogram API,J.C. Jones,2018-10-30T21:19:42Z,jcjones,jcjones,21,18,3
127,crlite,bcd211b74bfd291065648e89d953d7c51a968788,Give more detail on readFromCertList asserts,J.C. Jones,2020-03-13T17:36:16Z,jcjones,jcjones,9,6,3
128,crlite,42a498e7caf957006cf775ee1c90df6cd6024218,Catch exceptions during diff creation and make them non-fatal,J.C. Jones,2020-03-13T17:31:32Z,jcjones,jcjones,54,29,25
129,crlite,d4a25864bf8f1484d6a4b80ac7ad05566973cbc5,Update travis to test Python,J.C. Jones,2020-03-13T04:27:39Z,jcjones,jcjones,18,17,1
130,crlite,08c862dbe3ab986aa0699313203cd616cbb196e4,Move code around into the create_filter_cascade package and make it installable,J.C. Jones,2020-03-13T04:27:05Z,jcjones,jcjones,673,355,318
131,crlite,3737510fd91278087e6d758a710c449135721ce6,Add a utility to read .keys files,J.C. Jones,2020-03-13T03:36:51Z,jcjones,jcjones,69,69,0
132,crlite,245c03c59e27520bd60e70b3ccae5cabd608a131,Use Pathlib more,J.C. Jones,2020-03-12T23:30:28Z,jcjones,jcjones,55,33,22
133,crlite,f7b6c0521592703fc9eb478597b97944a9ba2a19,Add more tests for structure serialization,J.C. Jones,2020-03-12T21:09:04Z,jcjones,jcjones,161,97,64
134,crlite,549beb62067403ef83aa6b8b381efc0d895bada1,Rework find_additions to use iterators,J.C. Jones,2020-03-12T19:08:24Z,jcjones,jcjones,225,142,83
135,crlite,244189e67d6b7792f23e9a35e399b64b7761dd05,"Sort the output keys, and add a generator for issuer-to-cert set mappings",J.C. Jones,2020-03-11T22:29:54Z,jcjones,jcjones,107,62,45
136,crlite,4f6d478b623a977b8d8cd1a921bc8b8631234a8e,Restructure the internals of certs_to_crlite,J.C. Jones,2020-03-11T22:01:38Z,jcjones,jcjones,217,116,101
137,crlite,e3f6ace64c4f7e0868e9ccb450c3a8d2e4492edd,Remove save method and make it stream by issuer,J.C. Jones,2020-03-11T20:04:48Z,jcjones,jcjones,267,129,138
138,crlite,8f34d5e0dfe0cdcb2d84f3d27167a40484860407,"Generally improve memory performance, and upgrade to filtercascade 0.2.2",J.C. Jones,2020-03-11T17:39:11Z,jcjones,jcjones,343,299,44
139,crlite,a0a535d17324ed80f59573b9d6763f13f6394fce,"Add a ""nobars"" option to aggregate-known",J.C. Jones,2020-03-10T19:45:56Z,jcjones,jcjones,14,13,1
140,crlite,b93539811faa49df3501742faf00e3aff708e425,Don't retry so much in crlite-generate,J.C. Jones,2020-03-10T19:43:58Z,jcjones,jcjones,8,4,4
141,crlite,f8e73bca8b20930790d88156d6e0af526d7c4b8b,Spam less about expired Firestore entries,J.C. Jones,2020-03-06T00:12:44Z,jcjones,jcjones,4,3,1
142,crlite,06e01537fe0d08a6303cf5ec57c9e871651dd190,"Fix #47 - Add stash support (#48)

This by default generates an `mlbf` file named `filter.stash`, which contains
all the additions to the filter, collated by issuer and status change.

The file is made of per-issuer blocks, where each block's bytes are:

  bytes 0-3: N, number of revoked serials as an unsigned long
  bytes 4-7: M, number of nonrevoked serials as an unsigned long
  bytes 8-9: L, length of the issuer field as a unsigned short
  bytes 10+: hash of issuer subject public key info of length L
  ... then N serials_structs
  ... followed by M serials_structs

The serials_struct blocks are defined:
  bytes 0-1: S, length of serial field as an unsigned short
  bytes 2+: ASN.1 DER-encoded serial number of length S

When reaching EOF, there are no more issuer blocks.

Consumers can collect these `filter.stash` files, load them in chronological
order, and apply them before querying the originating MLBF filter.",J.C. Jones,2020-03-13T20:33:15Z,jcjones,jcjones,225,170,55
143,crlite,b12d6f3db428a32c8272cca6a90a215df55888d5,Use the names list-revoked/list-valid,J.C. Jones,2020-03-05T00:15:42Z,jcjones,jcjones,4,2,2
144,crlite,ca79a43f5b12f342c4a7a20574d4686e35eb1db7,Add python test to pre-commit,J.C. Jones,2020-03-04T23:41:56Z,jcjones,jcjones,7,6,1
145,crlite,f239cc6b29ad81313f9f64bc965215607c7106a9,Rework the key/caches to be binary-packed and always be constructed,J.C. Jones,2020-03-04T21:41:11Z,jcjones,jcjones,305,256,49
146,crlite,ccd04927a755a9573f533de2a6249b199060d19e,Use released filtercascade-py,J.C. Jones,2020-02-28T00:21:44Z,jcjones,jcjones,2,1,1
147,crlite,dfd51cd0576d711559deb0c5724802a9462ea29e,Update credits,J.C. Jones,2020-01-09T19:59:24Z,jcjones,jcjones,6,3,3
148,crlite,d2526fbd3118ff4507e31fa749b5c3140879a339,Remove Pipfile.lock,J.C. Jones,2020-01-09T18:17:46Z,jcjones,jcjones,221,0,221
149,crlite,efdaf3318e518ad36f2b1b040acd43c97fbc3831,Add license and Code of Conduct,J.C. Jones,2020-01-09T18:17:01Z,jcjones,jcjones,388,388,0
150,crlite,d4f873da149ab72cdadd13f52ac3c74febfd32d2,Spam less about duplicate issuers,J.C. Jones,2020-01-09T18:12:50Z,jcjones,jcjones,2,1,1
151,crlite,3d02c05727d72c4a465a35432a1404defc2d5ffd,Update README,J.C. Jones,2020-01-09T18:12:35Z,jcjones,jcjones,91,76,15
152,crlite,d0b57d3319aa9e2ddc1a0c76b41c28860d9ccdd2,Updates for intermediate preloading to catch-up,J.C. Jones,2019-12-16T23:11:34Z,jcjones,jcjones,124,112,12
153,crlite,58774800f53f50ef3b418255572a848d368f1426,"Make the rootprogram::issuers methods track all certs, not allow duplicate pubkeys to clobber each other. Fixes #39",J.C. Jones,2019-12-16T20:18:03Z,jcjones,jcjones,87,58,29
154,crlite,dd3470c69847fb8af0333ab597cde1d8139f8be0,Don't rely on the current directory for cert_to_crlite's script,J.C. Jones,2019-11-27T17:09:52Z,jcjones,jcjones,18,9,9
155,crlite,733fca63270adeef33ccdce4c86a3fbdc6840e98,"Move CRLs to a persistent folder in the container, and leave processing out",J.C. Jones,2019-11-27T00:33:55Z,jcjones,jcjones,18,11,7
156,crlite,977cd0e91ce23215ea956bf2e43087e0b3107a63,Add methods to query the Google filestore,J.C. Jones,2019-11-26T22:34:06Z,jcjones,jcjones,82,75,7
157,crlite,3bdab6df59489f29bf9a11e9448b91ac0c83276f,Reduce logging by aggregate-crls,J.C. Jones,2019-11-26T15:39:37Z,jcjones,jcjones,11,10,1
158,crlite,a8e1e5adb1b3a2f586d94e1eaea5a1f3bc5fc14a,Tighten default logging to reduce logs to stackdriver,J.C. Jones,2019-11-26T05:01:38Z,jcjones,jcjones,8,3,5
159,crlite,841b59d932cbc2702cc720d42d19adb1d0bde635,Rework aggregate-crls to use contexts,J.C. Jones,2019-11-26T04:57:13Z,jcjones,jcjones,146,84,62
160,crlite,00dcd1f684a86cd1ac7a0e2887f466bb5d2c3721,"Fix #37 - Ensure aggregate-known writes complete serial lists

The expand-and-copy mechanism wasn't correct, and led to serial data loss, as
was shown via the new assertion I've added. Local benchnarking indicates that
the performance improvement from the expansion mechanism wasn't significant,
that append() is smart enough now that if I give it a slice, it will expand
to fit that slice (and some extra), so it's not a naive implementation in the
current versions of Go.

This seems to fix the issue entirely.",J.C. Jones,2019-11-25T23:12:49Z,jcjones,jcjones,22,11,11
161,crlite,4e57e9a63fea9154627e14cd6c0c126d819a486b,"Fix #18 - Don't update CRL files unless the parse, and retry downloads",J.C. Jones,2019-11-25T19:30:43Z,jcjones,jcjones,190,147,43
162,crlite,be7e0ffe91a10fcc844ddb12c19c16dabf9fd30b,Add a total to each issuer in aggregate-known,J.C. Jones,2019-11-23T04:02:52Z,jcjones,jcjones,10,6,4
163,crlite,a32998db963e332e0fbed70cde23f952e72bf070,Refactor aggregate-crls to use the cache,J.C. Jones,2019-11-21T21:35:40Z,jcjones,jcjones,65,27,38
164,crlite,ace5548e9ce6fb0e5d3ce65bf86e6a6fda6add8d,Use the cache for aggregate-known,J.C. Jones,2019-11-21T21:11:54Z,jcjones,jcjones,102,50,52
165,crlite,445b21df1be8a960ce52f7de4437868895f6cd61,Don't try and download the current filter if there's no google credentials,J.C. Jones,2019-11-21T19:04:28Z,jcjones,jcjones,29,18,11
166,crlite,af84af6d1c5e4be0977fe3eb79d5ebf59facf9bf,Fix a divide-by-zero error,J.C. Jones,2019-11-21T19:04:19Z,jcjones,jcjones,4,4,0
167,crlite,b4b2ca9007d572e83dab996936806b05b68632cf,Make patches based on the most recent build,J.C. Jones,2019-11-21T00:04:07Z,jcjones,jcjones,47,23,24
168,crlite,ca4cfc643d4844730f5de1552b4f4ede07eb38be,"Upload a ""current"" filter too",J.C. Jones,2019-11-20T22:55:37Z,jcjones,jcjones,62,42,20
169,crlite,11f1c3981439f58353a72fad1aa547fa34f5c10e,Depend on filter-cascade v0.2.0,J.C. Jones,2019-11-19T23:25:58Z,jcjones,jcjones,2,1,1
170,crlite,be8ff936feeadbc67bd7af34269c7a9992d0eee1,Rebase on new ct-mapreduce with ExpDate type,J.C. Jones,2019-11-16T00:01:31Z,jcjones,jcjones,23,17,6
171,crlite,2cf309d2c28bdefa87dfee8268155caa70a8a627,Further processing cleanups,J.C. Jones,2019-11-12T21:08:51Z,jcjones,jcjones,26,14,12
172,crlite,498b7debb0d5b53e7a8b5529538f6394ce3c1cd3,Investigation tooling,J.C. Jones,2019-11-12T21:08:28Z,jcjones,jcjones,71,71,0
173,crlite,39df8203fea80f5cfc94b194ff13c775a2d4e92a,"Upstream fixes, add resource allocations",J.C. Jones,2019-11-08T04:49:16Z,jcjones,jcjones,23,17,6
174,crlite,0773abdcbc32e9a829005427016af336b8bcf348,Improve error logging,J.C. Jones,2019-11-07T05:06:34Z,jcjones,jcjones,24,17,7
175,crlite,0f25b81cd0370f3bbf52e70166cde0cd8aee6a2e,Also emit logs,J.C. Jones,2019-11-06T21:10:30Z,jcjones,jcjones,15,13,2
176,crlite,f149d534428c583eaaf14f78eebedee653a1cb17,Use stackdriver metrics,J.C. Jones,2019-11-06T19:41:27Z,jcjones,jcjones,61,58,3
177,crlite,e6a7986f2a0a76503def7fce7922cd3bd885b23e,"If the kinto env vars aren't set, don't crash.",J.C. Jones,2019-11-06T17:47:56Z,jcjones,jcjones,21,18,3
178,crlite,ca5b9a329550e39c67ac78ba8362a8f4e0c755fe,Use an init container to bootstrap the persistent volume,J.C. Jones,2019-11-06T17:26:11Z,jcjones,jcjones,6,6,0
179,crlite,cd45e83b252e0356fb2e25583e669b9d25ab24e0,Rework the generate_mlbf and upload_artifacts_to_storage scripts,J.C. Jones,2019-11-06T17:10:18Z,jcjones,jcjones,113,69,44
180,crlite,5ac646cec3ad73656da680cc8246427bcd54661c,Fix #34 - Only process enrolled issuers,J.C. Jones,2019-11-05T23:42:25Z,jcjones,jcjones,386,295,91
181,crlite,1b7d9295da9c2385294d0e17a89746d9de27182f,Fix #33 - Upstream ct-mapreduce fixes for memory consumption,J.C. Jones,2019-11-05T23:41:51Z,jcjones,jcjones,6,3,3
182,crlite,614739e50a757c32970847cdb1d3330379c70c77,"Fix resume, make it actually have a chance of working, and add more error-checking",J.C. Jones,2019-11-05T21:45:49Z,jcjones,jcjones,87,51,36
183,crlite,cbf4c207ae2029e9a2359b7d75c99086ebe01665,Add an upload-to-datastore script and other script and config improvements,J.C. Jones,2019-11-05T16:56:22Z,jcjones,jcjones,77,62,15
184,crlite,6c645b7bc4a63454f87b85a83b86af52ca740dcd,Fix #27 - Set refresh rate,J.C. Jones,2019-11-05T16:52:57Z,jcjones,jcjones,31,25,6
185,crlite,93e8e75c8da3bc59e145e540682b74f2614b4e46,Improve error logging,J.C. Jones,2019-11-04T21:08:28Z,jcjones,jcjones,21,18,3
186,crlite,8652b7b471840b46ff7c6a89ebfb9fe6d490831f,Fix path naming issues from upstream changes,J.C. Jones,2019-11-04T21:08:01Z,jcjones,jcjones,10,6,4
187,crlite,a5a7bffd1800cca74b1e7f39200f3e6213694b74,"Add a storage claim for CRL data, so it doesn't have to get refetched",J.C. Jones,2019-11-04T21:07:33Z,jcjones,jcjones,24,23,1
188,crlite,fa732cf1491b9200d6e389460c3ee745d830ddc4,Rework configuration data,J.C. Jones,2019-11-04T20:41:41Z,jcjones,jcjones,184,45,139
189,crlite,228e9c5e00497e77d610271be8e9639cebd17206,"Move to having separate containers per task, and write Pod configs for each",J.C. Jones,2019-10-29T23:22:09Z,jcjones,jcjones,319,307,12
190,crlite,bd9cd2fd664e6399556d3e4834207961aa494a12,Move to mpb v4,J.C. Jones,2019-10-29T22:15:50Z,jcjones,jcjones,64,27,37
191,crlite,16ade38d7ab48b1562ec65160961223999a9c926,Fix intermittent,J.C. Jones,2019-10-24T21:52:01Z,jcjones,jcjones,18,16,2
192,crlite,8fce6182b3ff64e40ae4079782999ccc2745292d,Use per-utility contexts,J.C. Jones,2019-10-23T20:21:20Z,jcjones,jcjones,14,9,5
193,crlite,7eede81aa7567dfdc031242e0004074450d71dbc,Upstream changes,J.C. Jones,2019-10-23T00:23:10Z,jcjones,jcjones,12,4,8
194,crlite,9945982b969911a63c6442076361808b666201b7,Add a regenerate method to the full-run script,J.C. Jones,2019-10-22T05:31:35Z,jcjones,jcjones,6,5,1
195,crlite,d175df05c4ac7ad3d2369735c1fde04f8e7dcea5,"Support Firestore for the aggregate-crls, aggregate-known, and certs_to_crlite tools.",J.C. Jones,2019-10-22T05:30:34Z,jcjones,jcjones,268,182,86
196,crlite,a708572f8e65d680bc525deb28efe3929502107f,Update to latest firestore build,J.C. Jones,2019-10-03T23:17:15Z,jcjones,jcjones,143,115,28
197,crlite,053410f880c8a147bd3fda5c596835399aaf8527,Update documentation,J.C. Jones,2019-09-12T14:32:33Z,jcjones,jcjones,106,82,24
198,crlite,ddd7425476c5258b6f2a144eec91327009528f9b,"Add tini to expose go to signal processing (sigint, sigterm)",J.C. Jones,2019-09-12T00:35:10Z,jcjones,jcjones,45,26,19
199,crlite,01d6dace509dd10981150e03f64bc730cfe6312e,add pipfiles,J.C. Jones,2019-09-10T22:06:20Z,jcjones,jcjones,241,241,0
200,crlite,56a25ea27e9ee956b98abf7179604069e99dbf7f,Merge branch '13-docker' with branch `cbw_tuning`,J.C. Jones,2019-09-10T20:08:50Z,jcjones,jcjones,112,59,53
201,crlite,bbe9c7aa0d5180df5d32bced5e15de5e810441e9,Merge remote-tracking branch 'origin/cbw_tuning' into HEAD,J.C. Jones,2019-09-10T17:01:42Z,jcjones,jcjones,290,138,152
202,crlite,ff6889b6d6b9ded865d1bc9dc0c2acce033bb45e,"Rename AKI to Issuer, and use set math on the known revocations",J.C. Jones,2019-09-10T00:27:29Z,jcjones,jcjones,90,47,43
203,crlite,01131b15ba336dcbf465b53e54a0c3231bc10271,"Fix dependency, make count more clear",J.C. Jones,2019-09-09T23:23:59Z,jcjones,jcjones,6,3,3
204,crlite,f310fe8a20ee4d9d625d8bf14161d490539617ab,Initial kubernetes support,J.C. Jones,2019-09-07T00:39:14Z,jcjones,jcjones,121,54,67
205,crlite,1641cb75d0d2ef2dff25ba2fd17a097936408f19,Fix logic error for saving revoked certs in aggregate-crls,J.C. Jones,2019-09-05T20:15:45Z,jcjones,jcjones,33,17,16
206,crlite,33efcc3bf668b151eb4a1a8ce5ae343422c202a9,Fix get-mozilla-issuers to use JSON marshaling of Issuer objects,J.C. Jones,2019-09-04T00:00:32Z,jcjones,jcjones,6,3,3
207,crlite,053a01dc29dea69a04c941ebdc2a205a7d4a9a52,"Remove unneeded ""DecodeRawCertList"" methods",J.C. Jones,2019-09-03T22:56:33Z,jcjones,jcjones,13,0,13
208,crlite,cbb250c9751b84819bf36603556649b3aaf1c5b2,"Rebase on the firestore-compatible ct-mapreduce

This fixes #29 and fixes #30.",J.C. Jones,2019-09-03T22:44:19Z,jcjones,jcjones,571,410,161
209,crlite,a89699ec48cc5437cc44dc20afc5d2e4ded4e37b,Cleanup flake8 issues,J.C. Jones,2019-08-30T22:34:55Z,jcjones,jcjones,33,13,20
210,crlite,ff9ea92921e5e86a5695c4ced5b49793a80fb63b,Fix help,J.C. Jones,2019-08-30T22:05:50Z,jcjones,jcjones,2,1,1
211,crlite,5e8c1245a1f66eb2693c61b77154b48dff5e7241,Some workflow updates,J.C. Jones,2019-08-29T23:45:14Z,jcjones,jcjones,17,11,6
212,crlite,eb900b1684296523e5ddb1af1174b82076ad9a93,added stats.json output. docs in the code,Christo Wilson,2019-07-30T22:17:55Z,Christo Wilson,Christo Wilson,133,101,32
213,crlite,98c6201d40c5f44a38c7fe3c2ca22e1e2d88c175,changed the path suffix back to mlbf/,Christo Wilson,2019-07-16T17:50:04Z,Christo Wilson,Christo Wilson,2,1,1
214,crlite,e327a007e4811f2b7942341abe259d8770eaeaf2,removed some vestigial dependencies,Christo Wilson,2019-07-16T17:39:23Z,Christo Wilson,Christo Wilson,1,0,1
215,crlite,d0a37ce11a5f564f7846fbc1fbcdaa670517760a,change the p_1 calculation; only insert known revoked certs,Christo Wilson,2019-07-16T17:38:49Z,Christo Wilson,Christo Wilson,190,53,137
216,crlite,34d2f6936ffc2241d2ed76a2ad68d31e2378807f,Add bsdiff4 as a requirement,J.C. Jones,2019-07-09T19:22:54Z,jcjones,jcjones,1,1,0
217,crlite,8376048eda3805f7acfa1bfe1c824d5f5ff91fa8,Aggregate into a single Docker container,J.C. Jones,2019-07-09T19:21:03Z,jcjones,jcjones,81,28,53
218,crlite,f9d82738ada8dfd3a87b0ac90bfaf04b652002dd,Remind that it takes 60 seconds for output for refresh,J.C. Jones,2019-07-09T19:11:31Z,jcjones,jcjones,6,5,1
219,crlite,5d9c40b4c47cc58f607fc21b5175ce1f88bc4477,Merge remote-tracking branch 'origin/master' into 13-docker,J.C. Jones,2019-07-09T00:24:18Z,jcjones,jcjones,52,30,22
220,crlite,76bc262b14f91c959df41891b0dcaad1a991615e,"Move to a specific build of ct-fetch, v1.0.2",J.C. Jones,2019-07-09T00:05:29Z,jcjones,jcjones,9,6,3
221,crlite,390b94d92046f694693df946c2a108896ae7b845,Provide the ct config file to the other go executables,J.C. Jones,2019-07-05T22:46:29Z,jcjones,jcjones,4,2,2
222,crlite,2d0f7b6a3223e3e6445bfe4ccc3b2aab3e0898e7,Make a unified dockerfile,J.C. Jones,2019-07-05T21:52:30Z,jcjones,jcjones,351,252,99
223,crlite,c5b2d4fed7fd982ae3c0202c6f58898bba145ebf,"Create one container for the Go utils, and one for the Python utils",J.C. Jones,2019-07-03T22:04:35Z,jcjones,jcjones,43,36,7
224,crlite,b3f64b13a666837e1af5b6338be5db675a4eec78,Updates to the Docker file,J.C. Jones,2018-12-13T22:15:40Z,jcjones,jcjones,19,16,3
225,crlite,653deb82d446822f79d2425e7838dc2016366417,Issue #13 - Initial Dockerfile,J.C. Jones,2018-12-13T17:39:21Z,jcjones,jcjones,18,18,0
226,crlite,bbd2a0d0a1c97f794ed80cc03238ecd77695a197,Use bytes for internal representations,J.C. Jones,2019-06-11T18:38:59Z,jcjones,jcjones,43,23,20
227,crlite,fde6a504aff340c6d9d9f4aa59c3dd6ef41082cb,Refactor Circle CI configuration. (#154),Sven Marnach,2021-04-14T09:00:04Z,smarnach,smarnach,86,17,69
228,crlite,bc87927b3cfac7b17040800323398d2a60a58b56,"bump moz_crlite_query to 0.4.2, version to 1.0.3 (#151)",Dana Keeler,2020-12-18T00:45:06Z,mozkeeler,mozkeeler,4,2,2
229,crlite,dddf2e9feb149f070fdb3985881cc605b11bb7fe,"Redefine enrollment to be 'all CRLs have to be valid' (#146)

* Redefine enrollment to be 'all CRLs have to be valid'

Fixes #145

Require all issuer CRLs to be valid and up-to-date to include that issuer in
the enrolled list, instead of at least one CRL be valid (a low bar)!

* Emit audit information about processed CRLs

Emit audit blocks for ALL crls, including those processed, so we can
evaluate on a per-issuer basis how many CRLs were processed.

Still doesn't emit unique per-CRL identifiers (e.g., URL), which will be a
follow-on commit

* Always emit URLs in the Audit Logs, even when there's a local path known

* CRLs that never download should count against the Issuer for enrollment

CRLs that fail during the downloader due to not being on-disk were being
consumed early, keeping them from affecting the determination of Enrolled
during the verification step. Pass the broken links through with sentinel
empty paths to count them as being broken.

* ""Very Old, Blocked"" is patently misleading

""Very Old, Blocked"" is misleading, as they get processed, and we allow even
expired CRLs.

I think we should still warn on old CRLs, especially in the audit, but let's
put ""Warning"" in the status text instead of ""Blocked"", since it's Not Blocked.

* Use 'fresh' terminology instead of old",J.C. Jones,2020-11-25T18:20:14Z,jcjones,jcjones,238,156,82
230,crlite,da705b537adb4f70729cad4d43503b5a7545f135,"Uplift the useful parts of jcjones/ct-mapreduce into mozilla/crlite (#147)

The important parts of https://github.com/jcjones/ct-mapreduce are what CRLite
needs, and the rest of that package is probably broken at best. So let's not
actually depend on it, let's move it all together into one place.

Fixes #119

Also handles https://github.com/jcjones/ct-mapreduce/issues/48.",J.C. Jones,2020-11-19T15:28:30Z,jcjones,jcjones,4055,4018,37
231,crlite,a906dcb43eb6fc0d4f5af961696af434c7bda802,Version bump the moz_crlite_query tool to 0.4.0 (#143),J.C. Jones,2020-11-03T22:04:04Z,jcjones,jcjones,2,1,1
232,crlite,21a78b8f861e763473612074d4dadc19c57cd226,"Tag v1.0.0

CRLite is now feature-complete, and operating at beta-level maturity. CRLite
supports collecting all certificates from Certificate Transparency, filtering
to only the unexpired certificates, collecting all CRLs referenced by those
unexpired certificates, determining their status, and then emitting compressed
filters, stashes, and issuer metadata that collectively indicate the state of
any certificate issued by an enrolled certificate issuer.",J.C. Jones,2020-10-20T21:35:26Z,jcjones,jcjones,4,4,0
233,crlite,ae41270346b71c345daf550d86c5754917d9cb45,"Docker login before build (#141)

* Docker login before build

* Add docker-auth to the docker executors",J.C. Jones,2020-10-20T15:52:21Z,jcjones,jcjones,7,7,0
234,crlite,deadeb4214cf96cf4eaa17fe88af5f9e30d3b402,"Make the Kinto Publisher check that signatures are needed before requesting signatures (#142)

* Make the Kinto Publisher check that signatures are needed before requesting signatures

As it was, the `crlite_sign` and `intermediates_sign` methods always signed when
called, so every time the k8s job ran to sign, the signer actually did work.
This change is to check the state of the collection to be `""to-review""` before
requesting a signature.

Since I don't have a kinto-signer instance working locally, this was tested on
stage by manipulating the crlite records and rolling it back when done.

Fixes #140

* Actually, let's follow the parallels better",J.C. Jones,2020-10-20T15:52:08Z,jcjones,jcjones,20,17,3
235,crlite,881c026950557083b7963f91443265007abc2933,pre-commit update,J.C. Jones,2020-10-20T03:39:46Z,jcjones,jcjones,1,1,0
236,crlite,5097c70904e664e62bfc7377bdadeaac6dfe2104,"Remote --filter-bucket command-line argument. (#137)

This argument doesn't exists anymore, since the filter is read from
Remote Settings instead.",Sven Marnach,2020-09-30T17:38:42Z,smarnach,smarnach,1,0,1
237,crlite,1d1c9e0244c89b5916953c185e00701f92273420,"Have Signoff Tool obtain the filters from the Kinto Staging to-be-signed collection (#135)

This fixes #130 by using a new `--check-freshness X` flag for `moz_crlite_query` added in https://github.com/mozilla/moz_crlite_query/pulls, v0.3.6.

This also adds an environment variable `CRLITE_FRESHNESS_HOURS` which defaults to `2`, which seems like a reasonable maximum age if the task is running every hour. We could set that to `6` and just be sure we are never signing previous runs' changes, I suppose, but we wanted to be conservative, so I set the default conservatively.",J.C. Jones,2020-09-15T21:02:06Z,jcjones,jcjones,44,23,21
238,crlite,4b59c7df69094710f14945309177fc5ddc301448,"Make the signoff tool use structured logs (#134)

* Make the signoff tool use structured logs

* Use moz_crlite_query 0.3.8",J.C. Jones,2020-09-14T19:13:34Z,jcjones,jcjones,3,2,1
239,crlite,31d4e81d79b97994da39a39df6cf262988c9edf5,Move to Black 20.8b1 (#133),J.C. Jones,2020-09-09T08:16:16Z,jcjones,jcjones,48,30,18
240,crlite,3e4d5aab17e2a18dde6b2c12c1f977b4bad50c19,"Replace the metadata mismatch breakpoint in publisher with more logs

Fixes #132",J.C. Jones,2020-09-09T04:53:49Z,jcjones,jcjones,5,4,1
241,crlite,243cb26ed929ee9345eeb685c3991ff74a75fb0a,more README updates,J.C. Jones,2020-08-12T18:27:19Z,jcjones,jcjones,16,7,9
242,crlite,1b812e597c265ea24a6f6a089e43d9197e481a99,Reorganize readme,J.C. Jones,2020-08-12T17:55:38Z,jcjones,jcjones,29,8,21
243,crlite,b08093571d1e2353147d22f76464e243dbed5995,"Rename Docker user to ""app"" and change UID. (#129)",Sven Marnach,2020-08-09T21:51:12Z,smarnach,smarnach,6,3,3
244,crlite,6ba9eb32fa25a510301524b88a39477005b98246,"Handle empty storage bucket (#128)

* Don't fail with an empty storage bucket

Traceback (most recent call last):
  File ""/app/workflow/1-generate_mlbf"", line 71, in <module>
    main()
  File ""/app/workflow/1-generate_mlbf"", line 45, in main
    latest = workflow.get_run_identifiers(args.filter_bucket).pop()
IndexError: pop from empty list

* Handle unknown issuers better in moz_crlite_query v0.3.3

* Fix",J.C. Jones,2020-08-03T20:52:32Z,jcjones,jcjones,39,21,18
245,crlite,e7e3bce6842a819b4eaf5f3e5ee9edefaa648573,Permit build-local to be used from outside the containers dir,J.C. Jones,2020-07-31T20:01:51Z,jcjones,jcjones,1,1,0
246,crlite,6d5b3701732e17ccf24140fb83e8ff5254fe2122," Emit a gauge for ""age of CCADB data"" from aggregate-crls (#127)

* Emit a gauge for ""age of CCADB data"" from aggregate-crls

 Fixes #126

* Review updates",J.C. Jones,2020-07-24T16:56:57Z,jcjones,jcjones,35,35,0
247,crlite,d4d066b18a2d1719bb8b478ec0c03298097b0b88,"Persist CCADB downloads if and only if they load OK (#125)

* Initial refactor

* Convert aggregate-crls to use the verifying downloader

* Use the new verifying downloader for the Moz Issuers

* Use os.TempDir as the default

* Use the -ccadb cmdline option for a persistent file

* Check subjects for the CRL Auditor tests, prove that the type coercion works.

* Updates per @smarnach's excellent feedback",J.C. Jones,2020-07-24T16:35:33Z,jcjones,jcjones,848,704,144
248,crlite,f06ef662fe436dbd1ba16e459e5e46047ac59441,"Add version.json to Docker images. (#124)

* Add version.json to Docker images.

* Temporarily change the CircleCI filters to push a new image.

* Revert ""Temporarily change the CircleCI filters to push a new image.""

This reverts commit 9c99274db96a557ec94fadb0fec7e483b5ffb8ef.",Sven Marnach,2020-07-20T16:37:21Z,smarnach,smarnach,18,17,1
249,crlite,3c9708b7e8cca59cb7916f76ce688f52402af1ff,"Bump moz_crlite_query to permit comments in host files (#122)

* Bump moz_crlite_query to permit comments in host files

* Doc update",J.C. Jones,2020-07-17T22:38:38Z,jcjones,jcjones,8,7,1
250,crlite,da09306fc9fa1b18816112fa19137984a5815ef8,Don't always update the image description on Docker.io,J.C. Jones,2020-07-17T21:22:07Z,jcjones,jcjones,2,0,2
251,crlite,061b2eb3928a66f08889e1f3d7f8bc19c11b0cb0,"Change host verification to env var crlite_verify_host_file_urls (#120)

* Change host verification to env var crlite_verify_host_file_urls

Use moz-crlite-query v0.3's hosts-file mechanism to check hosts provided by an
environment variable containing URLs of host files to download and check.

Fix #110

* Fixup: Query should be installed on purpose and version checked

* Version bump Tini and moz-crlite-query

Tini 0.19 is a minor release: https://github.com/krallin/tini/releases/tag/v0.19.0

moz-crlite-query 0.3.1 fixes a timing issue with fresh or expired certificates.",J.C. Jones,2020-07-17T16:00:19Z,jcjones,jcjones,42,31,11
252,crlite,471db2c2278accd06d530e56d276a54764c6951a," Split ""Failed Verify"" into more useful audit entries (#114)

* Split ""Failed Verify"" into more useful audit entries

 Fixes #113. Most of the ""Failed Verify"" entries are actually more like
 ""Obtained Old CRL"", so this special-cases those out into ""Older Than Previous""
 and also covers Expiration more clearly, since those were not tracked before.

* Update error text

* Fix nit of FailedOlderThanPrevious capitalization",J.C. Jones,2020-07-17T00:10:29Z,jcjones,jcjones,105,95,10
253,crlite,b65c39c57b82b56294e2f26fe4a1618316f9703c,Fix #107 Expiration Crash (#115),J.C. Jones,2020-07-16T02:52:49Z,jcjones,jcjones,7,5,2
254,crlite,d6c100e67359abd7e2ed82579560995725fdc08e,"Retry the upload artifact task on transient failure (#116)

* Retry the upload artifact task on transient failure

Fixes #66, where a transient failure in the uploader caused the whole run to fail. This uses
the Google core Retry mechanism/decorator to retry for 60 seconds on any upload that the
API thinks is transient.

* Fixup ModuleNotFoundError

* Fixup more",J.C. Jones,2020-07-16T02:52:24Z,jcjones,jcjones,14,11,3
255,crlite,098f476b66bbaa0cb483110c95d58d7d78acd9ef,"Emit stash size information into stats.json (#117)

Fixes #109 by logging the filesize of the stash and the count of participating revokers into the stats.json",J.C. Jones,2020-07-16T02:52:10Z,jcjones,jcjones,6,4,2
256,crlite,7bca30c1fd19947903cf954f946c6fb9b42531aa,"Set backoffLimit to 0 (#118)

see https://stackoverflow.com/questions/51657105/how-to-ensure-kubernetes-cronjob-does-not-restart-on-failure",J.C. Jones,2020-07-15T22:05:49Z,jcjones,jcjones,1,1,0
257,crlite,c4a3765cb27a159587675bf4ba6c25895e94835c,"Consolidate into a single Docker container (#108)

* Move all scripts into the base container image.

* Un-userify the moz_crlite_query call

* Consolidate into a single docker container

* Forgot the signoff container pod

Co-authored-by: Sven Marnach <sven@mozilla.com>",J.C. Jones,2020-07-14T20:54:04Z,jcjones,jcjones,108,30,78
258,crlite,3006b8b4ab08cfc2282fa286b7e172913c3c5b27,Fix typo,J.C. Jones,2020-07-10T20:11:39Z,jcjones,jcjones,2,1,1
259,crlite,57e1043b93262c2422e7b45dc5fd8025dda470cb,"Produce a CRL audit report (#105)

* WIP: Auditor methods

* Basic report output

* Include errors and add tests to aggregate-crls_test

* Oops, all python scripts should use env python3

* Go vet issue

* Add the new audit path to the aggregate-crls CLI

* Add a method NewTestIssuerFromSubjectString to MozIssuers

* Include the Issuer Subject in the audit report

* Address kjacobs comments

* Record DNS entries and errors for downloads",J.C. Jones,2020-07-10T20:08:45Z,jcjones,jcjones,609,606,3
260,crlite,1925df5f59da0a78c83e4badac14eb8b4290e843,Rename staging to dev (#103),J.C. Jones,2020-07-01T17:46:34Z,jcjones,jcjones,10,5,5
261,crlite,4eaece88b9617e646a594e08e92779bf2e7f074e,Don't require credentials for ct-fetch (#100),J.C. Jones,2020-07-01T15:22:01Z,jcjones,jcjones,6,0,6
262,crlite,711bfb89fee4697a2666a0be4b1ed62866f28231,Use docker.io's latest image as the defaults for the pods (#99),J.C. Jones,2020-07-01T15:21:42Z,jcjones,jcjones,8,4,4
263,crlite,5a559a7051fc7d053ff7de761c2e8db0cab3c758,"Expose StatsD Metrics (#98)

* Use Python StatsD for timer stats in certs_to_crlite

* Other useful metrics

* Fix attempt to use a struct as a guage

* More logging on startup",J.C. Jones,2020-07-01T15:21:28Z,jcjones,jcjones,78,44,34
264,crlite,9b4ebecea2b20a14d72bebbd44c827afcd9d0e16,"Use Debian Buster and Python 3.8 (#101)

Fix #91",J.C. Jones,2020-07-01T15:21:13Z,jcjones,jcjones,4,2,2
265,crlite,051741e7822374109271f9f997c3b5fc9887c848,"Coordinate the Publisher with Upload Artifacts to Storage script (#94)

* Coordinate the Publisher with Upload Artifacts to Storage script

The `workflow/2-upload_artifacts_to_storage` script now uploads a file
`{run_folder}/completed` at completion time, which `moz_kinto_publisher`
watches for (for 5 minutes) before proceeding with uploading CRLite.

I didn't apply this logic to the intermediates because I don't see a similar
chicken-and-egg issue there. It'd fail gracefully.

Fixes #75

* Rename runId to runIdPath",J.C. Jones,2020-06-30T20:16:23Z,jcjones,jcjones,59,50,9
266,crlite,8e78d6520f0b3497d47692d7d7f9553abd2ef1c6,"Use ct-mapreduce v1.0.10 (#95)

* Use ct-mapreduce v1.0.9

* Adjust the logging levels for ct-fetch

* Use ct-mapreduce v1.0.10

* Updates for StatsD",J.C. Jones,2020-06-30T20:04:37Z,jcjones,jcjones,127,9,118
267,crlite,c37ecd1b6cc29b19e72d26bacc807908e519a31f,Fix #90 - README update for the Mozilla dockerhub (#93),J.C. Jones,2020-06-26T23:14:39Z,jcjones,jcjones,2,1,1
268,crlite,1592ed519f3d7735bb8b5b068b1ea227b2c90377,"Fix #87 - Push images to DockerHub and don't use GCR (#89)

* Fix #87 - Push images to DockerHub and don't use GCR

* Remove the Google Cloud Build tools

* Publish a :latest tag for the main branch

* Test pushing images to the mozilla/crlite repository on Dockerhub.

* Revert ""Test pushing images to the mozilla/crlite repository on Dockerhub.""

This reverts commit 34ad0d85d76a61ff0e6822f5b970ec8ed5af9e3b.

Co-authored-by: Sven Marnach <sven@mozilla.com>",J.C. Jones,2020-06-26T15:51:14Z,jcjones,jcjones,216,132,84
269,crlite,a3139c439c55a744f059fa33c7576ac85de54162,"Fix #58 - Add a pod to automatically sign-off on Kinto changes if valid (#83)

* Add the moz-crlite-query tool
* Break out Kinto account information into a Publish and a Signoff configmap
* Add an approval option to moz_kinto_publisher
* Add a property `crlite_verify_hosts` to the configs and improve docs
* Update the CircleCI config for the signoff pod",J.C. Jones,2020-06-23T22:38:40Z,jcjones,jcjones,248,234,14
270,crlite,41caff1750b0382cfa43f3878ce42698301f58c0,"Expose and use a health/liveness check for the ct-fetch deployment (#86)

Explicitly expose the health check port from  ct-mapreduce v1.0.8 via Docker at  http://localhost:8080/health",J.C. Jones,2020-06-23T22:17:24Z,jcjones,jcjones,31,24,7
271,crlite,8f64192b498122f6b0d6937f360e8b42a0b1d0a2,"Revert ""Fix #76 - Don't suffix intermediate PEMs with .pem (#82)"" (#85)

This reverts commit 3266ec8fbee7984bc594357e890c95856b413ff3.",J.C. Jones,2020-06-23T22:16:26Z,jcjones,jcjones,2,1,1
272,crlite,df12e453bfae2773264b490de6d5b29e315c603f,"Fix #59 - Make the staging branch automatically build images at Google Cloud Run (#84)

* Fix #59 - Automatically build ""0.1"" at Google Cloud Build

* Rework tags from a 0.1 version to branch naming

* Change all 0.1 tags to staging

* Automatically update deployments in GKE

* Use staging in the cloudbuild.yaml default

* Only the actual staging branch

* Don't use 0.1 anywhere, and also make it optional to deploy via build-gcp.sh",J.C. Jones,2020-06-23T18:01:16Z,jcjones,jcjones,108,84,24
273,crlite,2c8dc5ad06ee97bbcf977ec045f2aa0108fd40e6,"Make the bucket name for Google Cloud Storage configurable (#80)

* Use filter-bucket for 0-allocate_identifier

* Use filter-bucket for the other workflow scripts

* Get the publisher

* Bugfix for crlite-generate.sh",J.C. Jones,2020-06-22T19:16:25Z,jcjones,jcjones,44,30,14
274,crlite,186d08a64f3a2a719c7757b322df288a70542ae2,Publisher ro/rw cleanup (#81),J.C. Jones,2020-06-18T23:49:06Z,jcjones,jcjones,11,9,2
275,crlite,3266ec8fbee7984bc594357e890c95856b413ff3,Fix #76 - Don't suffix intermediate PEMs with .pem (#82),J.C. Jones,2020-06-18T23:48:52Z,jcjones,jcjones,2,1,1
276,crlite,3a6e2c0bc8f1e5d844adb50eed0c7b38688add3d,"Fix #45: Do not use Google Firestore (#77)

* Improve logging for the publisher

* Do not depend on Google Firestore, update to ct-mapreduce v1.0.5

* Remove the rebuild pod and references to it

* Note about Redis backups

* Move to ct-mapreduce v1.0.6 that removes Firestore",J.C. Jones,2020-06-18T17:49:42Z,jcjones,jcjones,195,38,157
277,crlite,bd23115d89555628128119822d4fe0c585160422,"Fix #76 - Use text/plain for PEM uploads (#79)

* Fix #76 - Use text/plain for PEM uploads

* Fix logging error on multiple stash publications

* Update pre-commit to use the new rev nomenclature",J.C. Jones,2020-06-12T18:47:15Z,jcjones,jcjones,17,11,6
278,crlite,07b6555a88fb18f3e5a1f56d0dde0cfded749126,"Fix #57 - Add a cronjob to publish CRLite and Intermediates data (#74)

* Fix #57 - Add a cronjob to publish CRLite and Intermediates data

This necessitated changing the structure of the containers' installation a
small amount which serves as a more complete cleanup of using setup.py instead
of requirements.txt.

Updates to the publisher are to allow it to produce useful debugging data
in no-op mode, even if it cannot reach the read-write Kinto instance (e.g.,
the firewall hole(s) haven't been opened).

* circleci update",J.C. Jones,2020-06-03T00:16:18Z,jcjones,jcjones,307,208,99
279,crlite,c850f6d9ad03e86478b7d5d1bab20a624a093a95,Don't require a stash to upload.,J.C. Jones,2020-06-01T23:11:42Z,jcjones,jcjones,1,0,1
280,crlite,cdce12cffbbb31bcbd71953ab128dcd00bf65e4a,Spell fix,J.C. Jones,2020-05-29T00:44:44Z,jcjones,jcjones,2,1,1
281,crlite,a152f0451a449932c1793fe8c1849d2da406dfab,Renumber workflow scripts,J.C. Jones,2020-05-29T00:09:38Z,jcjones,jcjones,31,21,10
282,crlite,6bdd1a1fc37a0466efced43b32c1982f794dcd34,Consolidate scripts,J.C. Jones,2020-05-29T00:08:32Z,jcjones,jcjones,220,28,192
283,crlite,75e98a509f52ff34f9d9108d6a3ee57d253d72da,Add a test script to run via Docker,J.C. Jones,2020-05-29T00:01:18Z,jcjones,jcjones,50,50,0
284,crlite,861aad34429126db1831bb41a1d670dcba688651,Reorganize all containers to have their own CMD shell scripts,J.C. Jones,2020-05-28T22:55:25Z,jcjones,jcjones,196,96,100
285,crlite,30557061084b9cedf14d051dfa35c2ca7243c54f,Move fetch env variables to the fetch container,J.C. Jones,2020-05-28T20:52:03Z,jcjones,jcjones,7,4,3
286,crlite,12576e9a4a1fb9bd9a4f855d92c71f4746819da9,"Upload all CRLs that were used for processing

Fix the upload artifacts and expired folders in crlite-fullrun",J.C. Jones,2020-05-15T22:13:42Z,jcjones,jcjones,40,30,10
287,crlite,dd4a8b4046966a67e0f573dc0869c2eeb711aa07,Start of reworking the cleanup scripts,J.C. Jones,2020-05-15T02:54:18Z,jcjones,jcjones,67,18,49
288,crlite,d147832b716f86aaf763acb345cbec306e5b9452,Review updates,J.C. Jones,2020-05-29T00:33:00Z,jcjones,jcjones,45,24,21
289,crlite,796424bdc48241dfbdaf53565e5dafc1a8cad6a1,Add a query mechanism to read_keys.py,J.C. Jones,2020-05-19T04:32:35Z,jcjones,jcjones,33,29,4
290,crlite,031363e86e528afe3ba389d0ac90f18bd29590c4,Cleanup tmpfile if the download fails,J.C. Jones,2020-05-29T00:17:07Z,jcjones,jcjones,4,4,0
291,crlite,9ba20450371ef895abba22add9d98ec95384af15,Add tests for aggregate-crl's CRL worker,J.C. Jones,2020-05-22T19:28:18Z,jcjones,jcjones,312,252,60
292,crlite,ffff5aca564c03f9344f909f1b298d6d5d457d11,Fix dropping revocations when there's a CDN issue,J.C. Jones,2020-05-19T05:34:37Z,jcjones,jcjones,21,10,11
293,crlite,f85f8251f090926e3a4aa69e12630970b9c0508f,Add parent field to the publisher sanity checks,J.C. Jones,2020-05-22T23:46:06Z,jcjones,jcjones,95,57,38
294,crlite,2fc05c0e47ebe8f82f7ead2e9efa212e5569ca82,Use new schema for publishing for Issue #67,J.C. Jones,2020-05-02T00:10:14Z,jcjones,jcjones,25,16,9
295,crlite,50ffec664039656d78d0bac57b4833bfa3c3f565,Ensure that on a clear_all that we upload a full filter,J.C. Jones,2020-04-14T00:08:01Z,jcjones,jcjones,6,5,1
296,crlite,bb322e260abda3d2e7075a2758e7a13fa61b78b8,Use real timestamps and don't get hung up on missing filter data,J.C. Jones,2020-04-14T00:00:46Z,jcjones,jcjones,253,167,86
297,crlite,4b100528408b15e264a9e90c67568633c818f855,"Don't upload to storage if the filters aren't there.

Might want to change this in the future to collect logs better, but as-is
most failures before the filter stage don't emit local logs to be published.",J.C. Jones,2020-04-13T23:33:36Z,jcjones,jcjones,22,17,5
298,crlite,8ca295d341e481d08a7888f70d72915f06e64a79,Remove the kinto-upload workflow items from crlite-fullrun,J.C. Jones,2020-04-11T06:31:03Z,jcjones,jcjones,83,0,83
299,crlite,9afc20613db9be949a9b18e887c98f67f7950d38,"Be smarter about review, and be sure to sort",J.C. Jones,2020-04-11T06:21:15Z,jcjones,jcjones,48,34,14
300,crlite,0158ed89663a9895bb3fe9ecf7d34ef3c40e644e,Basic functionality and heuristic algorithm implementation,J.C. Jones,2020-04-11T05:24:08Z,jcjones,jcjones,205,153,52
301,crlite,1edc4d65cc2476a8ea203d01ced657bbac7c8651,Refactor kinto publisher to download from Google Cloud Storage,J.C. Jones,2020-04-09T05:44:46Z,jcjones,jcjones,467,348,119
302,crlite,8d479adb2181528907128e9f587e0bf646e45112,"Don't reuse serial numbers, update per review comments",J.C. Jones,2020-05-22T23:50:09Z,jcjones,jcjones,2,1,1
303,crlite,7110cffe0bcb115a0abcd523fc8659821a130a50,Add more test cases,J.C. Jones,2020-05-15T05:14:32Z,jcjones,jcjones,98,90,8
304,crlite,c560d400dfc5e678d893386ae3a6b5ec821b1ee9,"Fix #68: Don't be fooled by new downloads of out-of-date data.

If the newly downloaded CRL is actually older than the previous CRL, keep
the previous.

Adds more tests to aggregate-crls.",J.C. Jones,2020-05-15T04:46:41Z,jcjones,jcjones,158,146,12
305,crlite,68bd449b1a3cb6e5f356ed8bac112a430f4d02bc,Remove Travis support,J.C. Jones,2020-05-15T05:16:08Z,jcjones,jcjones,26,0,26
306,crlite,1f53520b58869c4236f29cdf18bb5943835bb0ad,"Don't try and be clever in allocating capacity in aggregate-crls.

This isn't a bad idea, but this code is wrong, and deletes entries when it
exceeds its allocations.

Just let the runtime do it, we have enough memory to let it do its doubling
algorithm.",J.C. Jones,2020-05-06T23:08:53Z,jcjones,jcjones,6,0,6
307,crlite,2e7d15a7c7a1cb8a883cf7a7b96616719d7697c4,fix black maybe,J.C. Jones,2020-05-06T23:56:28Z,jcjones,jcjones,2,1,1
308,crlite,5a9671e9ba4d5a6179094c33e5a6046cb76942c1,Reduce CPU requirements,J.C. Jones,2020-04-11T00:04:09Z,jcjones,jcjones,2,1,1
309,crlite,f1e26e58947097eb38e2a8ff7a0e5379bbe25973,Request 14 GB of RAM for generate,J.C. Jones,2020-04-10T00:09:38Z,jcjones,jcjones,2,1,1
310,crlite,a009090f6eceb7c4de6527689b064dc31a4af19b,Record the starting timestamp,J.C. Jones,2020-04-10T23:10:24Z,jcjones,jcjones,17,12,5
311,crlite,137e7fc8e10babd83ddbe1826b68478f7a4c48bf,Rework into publishable packages,J.C. Jones,2020-03-23T15:15:30Z,jcjones,jcjones,261,194,67
312,crlite,1b1d8c822d9046f6f1b7256925794b01c3b293a8,Enforce black,J.C. Jones,2020-04-07T18:58:34Z,jcjones,jcjones,4,4,0
313,crlite,598c8627b6cc382c1c24d7f6d134083c89a9bf95,Reformat with Black,J.C. Jones,2020-04-06T22:05:57Z,jcjones,jcjones,537,299,238
314,crlite,1dfb5e7804eb7cba5cdc9431d90f599349a9d0fb,Move to mpb v5,J.C. Jones,2020-04-07T18:27:55Z,jcjones,jcjones,55,23,32
315,crlite,502b4c965909c39874caab30a44cdd579c4d68d7,Support CircleCI - Add .circleci/config.yml,J.C. Jones,2020-04-07T17:11:47Z,jcjones,jcjones,55,55,0
316,crlite,42f623b60d06a2ed45d96d9f8ba93960e40b4903,Check whether the file is older than others in Kinto,J.C. Jones,2020-04-03T05:01:47Z,jcjones,jcjones,27,21,6
317,crlite,e6e3819272c30db9e8d7e9eb2a79b5a1e949c71e,Don't re-upload,J.C. Jones,2020-04-03T04:51:01Z,jcjones,jcjones,3,3,0
318,crlite,f75f7b2342914a3de88743b267de203c6487fa91,Format kinto-publisher with black,J.C. Jones,2020-04-03T04:34:32Z,jcjones,jcjones,616,388,228
319,crlite,a7e61643566b95ba4d7357ffbd0494f51b48b551,Support diffs in kinto-publisher,J.C. Jones,2020-04-03T04:24:24Z,jcjones,jcjones,341,229,112
320,crlite,2a6370d12605909b8c29cc005ce8d32f6b63e367,filter-cascade to v0.3.1,J.C. Jones,2020-03-31T23:42:31Z,jcjones,jcjones,2,1,1
321,crlite,313a3b96008b3381ef7cd8ddc47f0f1e7b9adc27,Set backoff limit to 0 for failure cases,J.C. Jones,2020-04-01T02:41:11Z,jcjones,jcjones,1,1,0
322,crlite,76e57e2b086ad50025cdab8b47cd031432d24a0b,"Use filtercascade 0.3.0

- Remove the meta file (removed from 0.3.0)
- Use the new false-positive error rate generation routine
- Use the new verify function instead of the old check
- Reduce mandatory memory requirement for crlite-generate to 8Gi",J.C. Jones,2020-03-28T00:10:40Z,jcjones,jcjones,50,20,30
323,crlite,618086b133c3b0f1b6f407db7ce7f90a7448e597,Do not stash filter additions,J.C. Jones,2020-03-20T23:30:36Z,jcjones,jcjones,72,16,56
324,crlite,8f1eba815f7fafe937a2573089caa00f1ad25b2e,Add support for listing stash files to read_keys.py,J.C. Jones,2020-03-16T16:54:05Z,jcjones,jcjones,74,73,1
325,crlite,c0db10e85347ef3130f9151a2a9b9fb363f38796,Bugfix- download the correct keys files for the diff generation,J.C. Jones,2020-03-13T20:07:28Z,jcjones,jcjones,18,9,9
326,crlite,0a34419983f30da7f7c307122b5a797138c2843f,Bugfix- download the correct keys files for the diff generation,J.C. Jones,2020-03-13T20:07:28Z,jcjones,jcjones,4,2,2
327,crlite,fde6a504aff340c6d9d9f4aa59c3dd6ef41082cb,Refactor Circle CI configuration. (#154),Sven Marnach,2021-04-14T09:00:04Z,smarnach,smarnach,86,17,69
328,crlite,bc87927b3cfac7b17040800323398d2a60a58b56,"bump moz_crlite_query to 0.4.2, version to 1.0.3 (#151)",Dana Keeler,2020-12-18T00:45:06Z,mozkeeler,mozkeeler,4,2,2
329,crlite,dddf2e9feb149f070fdb3985881cc605b11bb7fe,"Redefine enrollment to be 'all CRLs have to be valid' (#146)

* Redefine enrollment to be 'all CRLs have to be valid'

Fixes #145

Require all issuer CRLs to be valid and up-to-date to include that issuer in
the enrolled list, instead of at least one CRL be valid (a low bar)!

* Emit audit information about processed CRLs

Emit audit blocks for ALL crls, including those processed, so we can
evaluate on a per-issuer basis how many CRLs were processed.

Still doesn't emit unique per-CRL identifiers (e.g., URL), which will be a
follow-on commit

* Always emit URLs in the Audit Logs, even when there's a local path known

* CRLs that never download should count against the Issuer for enrollment

CRLs that fail during the downloader due to not being on-disk were being
consumed early, keeping them from affecting the determination of Enrolled
during the verification step. Pass the broken links through with sentinel
empty paths to count them as being broken.

* ""Very Old, Blocked"" is patently misleading

""Very Old, Blocked"" is misleading, as they get processed, and we allow even
expired CRLs.

I think we should still warn on old CRLs, especially in the audit, but let's
put ""Warning"" in the status text instead of ""Blocked"", since it's Not Blocked.

* Use 'fresh' terminology instead of old",J.C. Jones,2020-11-25T18:20:14Z,jcjones,jcjones,238,156,82
330,crlite,da705b537adb4f70729cad4d43503b5a7545f135,"Uplift the useful parts of jcjones/ct-mapreduce into mozilla/crlite (#147)

The important parts of https://github.com/jcjones/ct-mapreduce are what CRLite
needs, and the rest of that package is probably broken at best. So let's not
actually depend on it, let's move it all together into one place.

Fixes #119

Also handles https://github.com/jcjones/ct-mapreduce/issues/48.",J.C. Jones,2020-11-19T15:28:30Z,jcjones,jcjones,4055,4018,37
331,crlite,a906dcb43eb6fc0d4f5af961696af434c7bda802,Version bump the moz_crlite_query tool to 0.4.0 (#143),J.C. Jones,2020-11-03T22:04:04Z,jcjones,jcjones,2,1,1
332,crlite,21a78b8f861e763473612074d4dadc19c57cd226,"Tag v1.0.0

CRLite is now feature-complete, and operating at beta-level maturity. CRLite
supports collecting all certificates from Certificate Transparency, filtering
to only the unexpired certificates, collecting all CRLs referenced by those
unexpired certificates, determining their status, and then emitting compressed
filters, stashes, and issuer metadata that collectively indicate the state of
any certificate issued by an enrolled certificate issuer.",J.C. Jones,2020-10-20T21:35:26Z,jcjones,jcjones,4,4,0
333,crlite,ae41270346b71c345daf550d86c5754917d9cb45,"Docker login before build (#141)

* Docker login before build

* Add docker-auth to the docker executors",J.C. Jones,2020-10-20T15:52:21Z,jcjones,jcjones,7,7,0
334,crlite,deadeb4214cf96cf4eaa17fe88af5f9e30d3b402,"Make the Kinto Publisher check that signatures are needed before requesting signatures (#142)

* Make the Kinto Publisher check that signatures are needed before requesting signatures

As it was, the `crlite_sign` and `intermediates_sign` methods always signed when
called, so every time the k8s job ran to sign, the signer actually did work.
This change is to check the state of the collection to be `""to-review""` before
requesting a signature.

Since I don't have a kinto-signer instance working locally, this was tested on
stage by manipulating the crlite records and rolling it back when done.

Fixes #140

* Actually, let's follow the parallels better",J.C. Jones,2020-10-20T15:52:08Z,jcjones,jcjones,20,17,3
335,crlite,881c026950557083b7963f91443265007abc2933,pre-commit update,J.C. Jones,2020-10-20T03:39:46Z,jcjones,jcjones,1,1,0
336,crlite,5097c70904e664e62bfc7377bdadeaac6dfe2104,"Remote --filter-bucket command-line argument. (#137)

This argument doesn't exists anymore, since the filter is read from
Remote Settings instead.",Sven Marnach,2020-09-30T17:38:42Z,smarnach,smarnach,1,0,1
337,crlite,1d1c9e0244c89b5916953c185e00701f92273420,"Have Signoff Tool obtain the filters from the Kinto Staging to-be-signed collection (#135)

This fixes #130 by using a new `--check-freshness X` flag for `moz_crlite_query` added in https://github.com/mozilla/moz_crlite_query/pulls, v0.3.6.

This also adds an environment variable `CRLITE_FRESHNESS_HOURS` which defaults to `2`, which seems like a reasonable maximum age if the task is running every hour. We could set that to `6` and just be sure we are never signing previous runs' changes, I suppose, but we wanted to be conservative, so I set the default conservatively.",J.C. Jones,2020-09-15T21:02:06Z,jcjones,jcjones,44,23,21
338,crlite,4b59c7df69094710f14945309177fc5ddc301448,"Make the signoff tool use structured logs (#134)

* Make the signoff tool use structured logs

* Use moz_crlite_query 0.3.8",J.C. Jones,2020-09-14T19:13:34Z,jcjones,jcjones,3,2,1
339,crlite,31d4e81d79b97994da39a39df6cf262988c9edf5,Move to Black 20.8b1 (#133),J.C. Jones,2020-09-09T08:16:16Z,jcjones,jcjones,48,30,18
340,crlite,3e4d5aab17e2a18dde6b2c12c1f977b4bad50c19,"Replace the metadata mismatch breakpoint in publisher with more logs

Fixes #132",J.C. Jones,2020-09-09T04:53:49Z,jcjones,jcjones,5,4,1
341,crlite,243cb26ed929ee9345eeb685c3991ff74a75fb0a,more README updates,J.C. Jones,2020-08-12T18:27:19Z,jcjones,jcjones,16,7,9
342,crlite,1b812e597c265ea24a6f6a089e43d9197e481a99,Reorganize readme,J.C. Jones,2020-08-12T17:55:38Z,jcjones,jcjones,29,8,21
343,crlite,b08093571d1e2353147d22f76464e243dbed5995,"Rename Docker user to ""app"" and change UID. (#129)",Sven Marnach,2020-08-09T21:51:12Z,smarnach,smarnach,6,3,3
344,crlite,6ba9eb32fa25a510301524b88a39477005b98246,"Handle empty storage bucket (#128)

* Don't fail with an empty storage bucket

Traceback (most recent call last):
  File ""/app/workflow/1-generate_mlbf"", line 71, in <module>
    main()
  File ""/app/workflow/1-generate_mlbf"", line 45, in main
    latest = workflow.get_run_identifiers(args.filter_bucket).pop()
IndexError: pop from empty list

* Handle unknown issuers better in moz_crlite_query v0.3.3

* Fix",J.C. Jones,2020-08-03T20:52:32Z,jcjones,jcjones,39,21,18
345,crlite,e7e3bce6842a819b4eaf5f3e5ee9edefaa648573,Permit build-local to be used from outside the containers dir,J.C. Jones,2020-07-31T20:01:51Z,jcjones,jcjones,1,1,0
346,crlite,6d5b3701732e17ccf24140fb83e8ff5254fe2122," Emit a gauge for ""age of CCADB data"" from aggregate-crls (#127)

* Emit a gauge for ""age of CCADB data"" from aggregate-crls

 Fixes #126

* Review updates",J.C. Jones,2020-07-24T16:56:57Z,jcjones,jcjones,35,35,0
347,crlite,d4d066b18a2d1719bb8b478ec0c03298097b0b88,"Persist CCADB downloads if and only if they load OK (#125)

* Initial refactor

* Convert aggregate-crls to use the verifying downloader

* Use the new verifying downloader for the Moz Issuers

* Use os.TempDir as the default

* Use the -ccadb cmdline option for a persistent file

* Check subjects for the CRL Auditor tests, prove that the type coercion works.

* Updates per @smarnach's excellent feedback",J.C. Jones,2020-07-24T16:35:33Z,jcjones,jcjones,848,704,144
348,crlite,f06ef662fe436dbd1ba16e459e5e46047ac59441,"Add version.json to Docker images. (#124)

* Add version.json to Docker images.

* Temporarily change the CircleCI filters to push a new image.

* Revert ""Temporarily change the CircleCI filters to push a new image.""

This reverts commit 9c99274db96a557ec94fadb0fec7e483b5ffb8ef.",Sven Marnach,2020-07-20T16:37:21Z,smarnach,smarnach,18,17,1
349,crlite,3c9708b7e8cca59cb7916f76ce688f52402af1ff,"Bump moz_crlite_query to permit comments in host files (#122)

* Bump moz_crlite_query to permit comments in host files

* Doc update",J.C. Jones,2020-07-17T22:38:38Z,jcjones,jcjones,8,7,1
350,crlite,da09306fc9fa1b18816112fa19137984a5815ef8,Don't always update the image description on Docker.io,J.C. Jones,2020-07-17T21:22:07Z,jcjones,jcjones,2,0,2
351,crlite,061b2eb3928a66f08889e1f3d7f8bc19c11b0cb0,"Change host verification to env var crlite_verify_host_file_urls (#120)

* Change host verification to env var crlite_verify_host_file_urls

Use moz-crlite-query v0.3's hosts-file mechanism to check hosts provided by an
environment variable containing URLs of host files to download and check.

Fix #110

* Fixup: Query should be installed on purpose and version checked

* Version bump Tini and moz-crlite-query

Tini 0.19 is a minor release: https://github.com/krallin/tini/releases/tag/v0.19.0

moz-crlite-query 0.3.1 fixes a timing issue with fresh or expired certificates.",J.C. Jones,2020-07-17T16:00:19Z,jcjones,jcjones,42,31,11
352,crlite,471db2c2278accd06d530e56d276a54764c6951a," Split ""Failed Verify"" into more useful audit entries (#114)

* Split ""Failed Verify"" into more useful audit entries

 Fixes #113. Most of the ""Failed Verify"" entries are actually more like
 ""Obtained Old CRL"", so this special-cases those out into ""Older Than Previous""
 and also covers Expiration more clearly, since those were not tracked before.

* Update error text

* Fix nit of FailedOlderThanPrevious capitalization",J.C. Jones,2020-07-17T00:10:29Z,jcjones,jcjones,105,95,10
353,crlite,b65c39c57b82b56294e2f26fe4a1618316f9703c,Fix #107 Expiration Crash (#115),J.C. Jones,2020-07-16T02:52:49Z,jcjones,jcjones,7,5,2
354,crlite,d6c100e67359abd7e2ed82579560995725fdc08e,"Retry the upload artifact task on transient failure (#116)

* Retry the upload artifact task on transient failure

Fixes #66, where a transient failure in the uploader caused the whole run to fail. This uses
the Google core Retry mechanism/decorator to retry for 60 seconds on any upload that the
API thinks is transient.

* Fixup ModuleNotFoundError

* Fixup more",J.C. Jones,2020-07-16T02:52:24Z,jcjones,jcjones,14,11,3
355,crlite,098f476b66bbaa0cb483110c95d58d7d78acd9ef,"Emit stash size information into stats.json (#117)

Fixes #109 by logging the filesize of the stash and the count of participating revokers into the stats.json",J.C. Jones,2020-07-16T02:52:10Z,jcjones,jcjones,6,4,2
356,crlite,7bca30c1fd19947903cf954f946c6fb9b42531aa,"Set backoffLimit to 0 (#118)

see https://stackoverflow.com/questions/51657105/how-to-ensure-kubernetes-cronjob-does-not-restart-on-failure",J.C. Jones,2020-07-15T22:05:49Z,jcjones,jcjones,1,1,0
357,crlite,c4a3765cb27a159587675bf4ba6c25895e94835c,"Consolidate into a single Docker container (#108)

* Move all scripts into the base container image.

* Un-userify the moz_crlite_query call

* Consolidate into a single docker container

* Forgot the signoff container pod

Co-authored-by: Sven Marnach <sven@mozilla.com>",J.C. Jones,2020-07-14T20:54:04Z,jcjones,jcjones,108,30,78
358,crlite,3006b8b4ab08cfc2282fa286b7e172913c3c5b27,Fix typo,J.C. Jones,2020-07-10T20:11:39Z,jcjones,jcjones,2,1,1
359,crlite,57e1043b93262c2422e7b45dc5fd8025dda470cb,"Produce a CRL audit report (#105)

* WIP: Auditor methods

* Basic report output

* Include errors and add tests to aggregate-crls_test

* Oops, all python scripts should use env python3

* Go vet issue

* Add the new audit path to the aggregate-crls CLI

* Add a method NewTestIssuerFromSubjectString to MozIssuers

* Include the Issuer Subject in the audit report

* Address kjacobs comments

* Record DNS entries and errors for downloads",J.C. Jones,2020-07-10T20:08:45Z,jcjones,jcjones,609,606,3
360,crlite,1925df5f59da0a78c83e4badac14eb8b4290e843,Rename staging to dev (#103),J.C. Jones,2020-07-01T17:46:34Z,jcjones,jcjones,10,5,5
361,crlite,4eaece88b9617e646a594e08e92779bf2e7f074e,Don't require credentials for ct-fetch (#100),J.C. Jones,2020-07-01T15:22:01Z,jcjones,jcjones,6,0,6
362,crlite,711bfb89fee4697a2666a0be4b1ed62866f28231,Use docker.io's latest image as the defaults for the pods (#99),J.C. Jones,2020-07-01T15:21:42Z,jcjones,jcjones,8,4,4
363,crlite,5a559a7051fc7d053ff7de761c2e8db0cab3c758,"Expose StatsD Metrics (#98)

* Use Python StatsD for timer stats in certs_to_crlite

* Other useful metrics

* Fix attempt to use a struct as a guage

* More logging on startup",J.C. Jones,2020-07-01T15:21:28Z,jcjones,jcjones,78,44,34
364,crlite,9b4ebecea2b20a14d72bebbd44c827afcd9d0e16,"Use Debian Buster and Python 3.8 (#101)

Fix #91",J.C. Jones,2020-07-01T15:21:13Z,jcjones,jcjones,4,2,2
365,crlite,051741e7822374109271f9f997c3b5fc9887c848,"Coordinate the Publisher with Upload Artifacts to Storage script (#94)

* Coordinate the Publisher with Upload Artifacts to Storage script

The `workflow/2-upload_artifacts_to_storage` script now uploads a file
`{run_folder}/completed` at completion time, which `moz_kinto_publisher`
watches for (for 5 minutes) before proceeding with uploading CRLite.

I didn't apply this logic to the intermediates because I don't see a similar
chicken-and-egg issue there. It'd fail gracefully.

Fixes #75

* Rename runId to runIdPath",J.C. Jones,2020-06-30T20:16:23Z,jcjones,jcjones,59,50,9
366,crlite,8e78d6520f0b3497d47692d7d7f9553abd2ef1c6,"Use ct-mapreduce v1.0.10 (#95)

* Use ct-mapreduce v1.0.9

* Adjust the logging levels for ct-fetch

* Use ct-mapreduce v1.0.10

* Updates for StatsD",J.C. Jones,2020-06-30T20:04:37Z,jcjones,jcjones,127,9,118
367,crlite,c37ecd1b6cc29b19e72d26bacc807908e519a31f,Fix #90 - README update for the Mozilla dockerhub (#93),J.C. Jones,2020-06-26T23:14:39Z,jcjones,jcjones,2,1,1
368,crlite,1592ed519f3d7735bb8b5b068b1ea227b2c90377,"Fix #87 - Push images to DockerHub and don't use GCR (#89)

* Fix #87 - Push images to DockerHub and don't use GCR

* Remove the Google Cloud Build tools

* Publish a :latest tag for the main branch

* Test pushing images to the mozilla/crlite repository on Dockerhub.

* Revert ""Test pushing images to the mozilla/crlite repository on Dockerhub.""

This reverts commit 34ad0d85d76a61ff0e6822f5b970ec8ed5af9e3b.

Co-authored-by: Sven Marnach <sven@mozilla.com>",J.C. Jones,2020-06-26T15:51:14Z,jcjones,jcjones,216,132,84
369,crlite,a3139c439c55a744f059fa33c7576ac85de54162,"Fix #58 - Add a pod to automatically sign-off on Kinto changes if valid (#83)

* Add the moz-crlite-query tool
* Break out Kinto account information into a Publish and a Signoff configmap
* Add an approval option to moz_kinto_publisher
* Add a property `crlite_verify_hosts` to the configs and improve docs
* Update the CircleCI config for the signoff pod",J.C. Jones,2020-06-23T22:38:40Z,jcjones,jcjones,248,234,14
370,crlite,41caff1750b0382cfa43f3878ce42698301f58c0,"Expose and use a health/liveness check for the ct-fetch deployment (#86)

Explicitly expose the health check port from  ct-mapreduce v1.0.8 via Docker at  http://localhost:8080/health",J.C. Jones,2020-06-23T22:17:24Z,jcjones,jcjones,31,24,7
371,crlite,8f64192b498122f6b0d6937f360e8b42a0b1d0a2,"Revert ""Fix #76 - Don't suffix intermediate PEMs with .pem (#82)"" (#85)

This reverts commit 3266ec8fbee7984bc594357e890c95856b413ff3.",J.C. Jones,2020-06-23T22:16:26Z,jcjones,jcjones,2,1,1
372,crlite,df12e453bfae2773264b490de6d5b29e315c603f,"Fix #59 - Make the staging branch automatically build images at Google Cloud Run (#84)

* Fix #59 - Automatically build ""0.1"" at Google Cloud Build

* Rework tags from a 0.1 version to branch naming

* Change all 0.1 tags to staging

* Automatically update deployments in GKE

* Use staging in the cloudbuild.yaml default

* Only the actual staging branch

* Don't use 0.1 anywhere, and also make it optional to deploy via build-gcp.sh",J.C. Jones,2020-06-23T18:01:16Z,jcjones,jcjones,108,84,24
373,crlite,2c8dc5ad06ee97bbcf977ec045f2aa0108fd40e6,"Make the bucket name for Google Cloud Storage configurable (#80)

* Use filter-bucket for 0-allocate_identifier

* Use filter-bucket for the other workflow scripts

* Get the publisher

* Bugfix for crlite-generate.sh",J.C. Jones,2020-06-22T19:16:25Z,jcjones,jcjones,44,30,14
374,crlite,186d08a64f3a2a719c7757b322df288a70542ae2,Publisher ro/rw cleanup (#81),J.C. Jones,2020-06-18T23:49:06Z,jcjones,jcjones,11,9,2
375,crlite,3266ec8fbee7984bc594357e890c95856b413ff3,Fix #76 - Don't suffix intermediate PEMs with .pem (#82),J.C. Jones,2020-06-18T23:48:52Z,jcjones,jcjones,2,1,1
376,crlite,3a6e2c0bc8f1e5d844adb50eed0c7b38688add3d,"Fix #45: Do not use Google Firestore (#77)

* Improve logging for the publisher

* Do not depend on Google Firestore, update to ct-mapreduce v1.0.5

* Remove the rebuild pod and references to it

* Note about Redis backups

* Move to ct-mapreduce v1.0.6 that removes Firestore",J.C. Jones,2020-06-18T17:49:42Z,jcjones,jcjones,195,38,157
377,crlite,bd23115d89555628128119822d4fe0c585160422,"Fix #76 - Use text/plain for PEM uploads (#79)

* Fix #76 - Use text/plain for PEM uploads

* Fix logging error on multiple stash publications

* Update pre-commit to use the new rev nomenclature",J.C. Jones,2020-06-12T18:47:15Z,jcjones,jcjones,17,11,6
378,crlite,07b6555a88fb18f3e5a1f56d0dde0cfded749126,"Fix #57 - Add a cronjob to publish CRLite and Intermediates data (#74)

* Fix #57 - Add a cronjob to publish CRLite and Intermediates data

This necessitated changing the structure of the containers' installation a
small amount which serves as a more complete cleanup of using setup.py instead
of requirements.txt.

Updates to the publisher are to allow it to produce useful debugging data
in no-op mode, even if it cannot reach the read-write Kinto instance (e.g.,
the firewall hole(s) haven't been opened).

* circleci update",J.C. Jones,2020-06-03T00:16:18Z,jcjones,jcjones,307,208,99
379,crlite,c850f6d9ad03e86478b7d5d1bab20a624a093a95,Don't require a stash to upload.,J.C. Jones,2020-06-01T23:11:42Z,jcjones,jcjones,1,0,1
380,crlite,cdce12cffbbb31bcbd71953ab128dcd00bf65e4a,Spell fix,J.C. Jones,2020-05-29T00:44:44Z,jcjones,jcjones,2,1,1
381,crlite,a152f0451a449932c1793fe8c1849d2da406dfab,Renumber workflow scripts,J.C. Jones,2020-05-29T00:09:38Z,jcjones,jcjones,31,21,10
382,crlite,6bdd1a1fc37a0466efced43b32c1982f794dcd34,Consolidate scripts,J.C. Jones,2020-05-29T00:08:32Z,jcjones,jcjones,220,28,192
383,crlite,75e98a509f52ff34f9d9108d6a3ee57d253d72da,Add a test script to run via Docker,J.C. Jones,2020-05-29T00:01:18Z,jcjones,jcjones,50,50,0
384,crlite,861aad34429126db1831bb41a1d670dcba688651,Reorganize all containers to have their own CMD shell scripts,J.C. Jones,2020-05-28T22:55:25Z,jcjones,jcjones,196,96,100
385,crlite,30557061084b9cedf14d051dfa35c2ca7243c54f,Move fetch env variables to the fetch container,J.C. Jones,2020-05-28T20:52:03Z,jcjones,jcjones,7,4,3
386,crlite,12576e9a4a1fb9bd9a4f855d92c71f4746819da9,"Upload all CRLs that were used for processing

Fix the upload artifacts and expired folders in crlite-fullrun",J.C. Jones,2020-05-15T22:13:42Z,jcjones,jcjones,40,30,10
387,crlite,dd4a8b4046966a67e0f573dc0869c2eeb711aa07,Start of reworking the cleanup scripts,J.C. Jones,2020-05-15T02:54:18Z,jcjones,jcjones,67,18,49
388,crlite,d147832b716f86aaf763acb345cbec306e5b9452,Review updates,J.C. Jones,2020-05-29T00:33:00Z,jcjones,jcjones,45,24,21
389,crlite,796424bdc48241dfbdaf53565e5dafc1a8cad6a1,Add a query mechanism to read_keys.py,J.C. Jones,2020-05-19T04:32:35Z,jcjones,jcjones,33,29,4
390,crlite,031363e86e528afe3ba389d0ac90f18bd29590c4,Cleanup tmpfile if the download fails,J.C. Jones,2020-05-29T00:17:07Z,jcjones,jcjones,4,4,0
391,crlite,9ba20450371ef895abba22add9d98ec95384af15,Add tests for aggregate-crl's CRL worker,J.C. Jones,2020-05-22T19:28:18Z,jcjones,jcjones,312,252,60
392,crlite,ffff5aca564c03f9344f909f1b298d6d5d457d11,Fix dropping revocations when there's a CDN issue,J.C. Jones,2020-05-19T05:34:37Z,jcjones,jcjones,21,10,11
393,crlite,f85f8251f090926e3a4aa69e12630970b9c0508f,Add parent field to the publisher sanity checks,J.C. Jones,2020-05-22T23:46:06Z,jcjones,jcjones,95,57,38
394,crlite,2fc05c0e47ebe8f82f7ead2e9efa212e5569ca82,Use new schema for publishing for Issue #67,J.C. Jones,2020-05-02T00:10:14Z,jcjones,jcjones,25,16,9
395,crlite,50ffec664039656d78d0bac57b4833bfa3c3f565,Ensure that on a clear_all that we upload a full filter,J.C. Jones,2020-04-14T00:08:01Z,jcjones,jcjones,6,5,1
396,crlite,bb322e260abda3d2e7075a2758e7a13fa61b78b8,Use real timestamps and don't get hung up on missing filter data,J.C. Jones,2020-04-14T00:00:46Z,jcjones,jcjones,253,167,86
397,crlite,4b100528408b15e264a9e90c67568633c818f855,"Don't upload to storage if the filters aren't there.

Might want to change this in the future to collect logs better, but as-is
most failures before the filter stage don't emit local logs to be published.",J.C. Jones,2020-04-13T23:33:36Z,jcjones,jcjones,22,17,5
398,crlite,8ca295d341e481d08a7888f70d72915f06e64a79,Remove the kinto-upload workflow items from crlite-fullrun,J.C. Jones,2020-04-11T06:31:03Z,jcjones,jcjones,83,0,83
399,crlite,9afc20613db9be949a9b18e887c98f67f7950d38,"Be smarter about review, and be sure to sort",J.C. Jones,2020-04-11T06:21:15Z,jcjones,jcjones,48,34,14
400,crlite,0158ed89663a9895bb3fe9ecf7d34ef3c40e644e,Basic functionality and heuristic algorithm implementation,J.C. Jones,2020-04-11T05:24:08Z,jcjones,jcjones,205,153,52
401,crlite,1edc4d65cc2476a8ea203d01ced657bbac7c8651,Refactor kinto publisher to download from Google Cloud Storage,J.C. Jones,2020-04-09T05:44:46Z,jcjones,jcjones,467,348,119
402,crlite,8d479adb2181528907128e9f587e0bf646e45112,"Don't reuse serial numbers, update per review comments",J.C. Jones,2020-05-22T23:50:09Z,jcjones,jcjones,2,1,1
403,crlite,7110cffe0bcb115a0abcd523fc8659821a130a50,Add more test cases,J.C. Jones,2020-05-15T05:14:32Z,jcjones,jcjones,98,90,8
404,crlite,c560d400dfc5e678d893386ae3a6b5ec821b1ee9,"Fix #68: Don't be fooled by new downloads of out-of-date data.

If the newly downloaded CRL is actually older than the previous CRL, keep
the previous.

Adds more tests to aggregate-crls.",J.C. Jones,2020-05-15T04:46:41Z,jcjones,jcjones,158,146,12
405,crlite,68bd449b1a3cb6e5f356ed8bac112a430f4d02bc,Remove Travis support,J.C. Jones,2020-05-15T05:16:08Z,jcjones,jcjones,26,0,26
406,crlite,1f53520b58869c4236f29cdf18bb5943835bb0ad,"Don't try and be clever in allocating capacity in aggregate-crls.

This isn't a bad idea, but this code is wrong, and deletes entries when it
exceeds its allocations.

Just let the runtime do it, we have enough memory to let it do its doubling
algorithm.",J.C. Jones,2020-05-06T23:08:53Z,jcjones,jcjones,6,0,6
407,crlite,2e7d15a7c7a1cb8a883cf7a7b96616719d7697c4,fix black maybe,J.C. Jones,2020-05-06T23:56:28Z,jcjones,jcjones,2,1,1
408,crlite,5a9671e9ba4d5a6179094c33e5a6046cb76942c1,Reduce CPU requirements,J.C. Jones,2020-04-11T00:04:09Z,jcjones,jcjones,2,1,1
409,crlite,f1e26e58947097eb38e2a8ff7a0e5379bbe25973,Request 14 GB of RAM for generate,J.C. Jones,2020-04-10T00:09:38Z,jcjones,jcjones,2,1,1
410,crlite,a009090f6eceb7c4de6527689b064dc31a4af19b,Record the starting timestamp,J.C. Jones,2020-04-10T23:10:24Z,jcjones,jcjones,17,12,5
411,crlite,137e7fc8e10babd83ddbe1826b68478f7a4c48bf,Rework into publishable packages,J.C. Jones,2020-03-23T15:15:30Z,jcjones,jcjones,261,194,67
412,crlite,1b1d8c822d9046f6f1b7256925794b01c3b293a8,Enforce black,J.C. Jones,2020-04-07T18:58:34Z,jcjones,jcjones,4,4,0
413,crlite,598c8627b6cc382c1c24d7f6d134083c89a9bf95,Reformat with Black,J.C. Jones,2020-04-06T22:05:57Z,jcjones,jcjones,537,299,238
414,crlite,1dfb5e7804eb7cba5cdc9431d90f599349a9d0fb,Move to mpb v5,J.C. Jones,2020-04-07T18:27:55Z,jcjones,jcjones,55,23,32
415,crlite,502b4c965909c39874caab30a44cdd579c4d68d7,Support CircleCI - Add .circleci/config.yml,J.C. Jones,2020-04-07T17:11:47Z,jcjones,jcjones,55,55,0
416,crlite,42f623b60d06a2ed45d96d9f8ba93960e40b4903,Check whether the file is older than others in Kinto,J.C. Jones,2020-04-03T05:01:47Z,jcjones,jcjones,27,21,6
417,crlite,e6e3819272c30db9e8d7e9eb2a79b5a1e949c71e,Don't re-upload,J.C. Jones,2020-04-03T04:51:01Z,jcjones,jcjones,3,3,0
418,crlite,f75f7b2342914a3de88743b267de203c6487fa91,Format kinto-publisher with black,J.C. Jones,2020-04-03T04:34:32Z,jcjones,jcjones,616,388,228
419,crlite,a7e61643566b95ba4d7357ffbd0494f51b48b551,Support diffs in kinto-publisher,J.C. Jones,2020-04-03T04:24:24Z,jcjones,jcjones,341,229,112
420,crlite,2a6370d12605909b8c29cc005ce8d32f6b63e367,filter-cascade to v0.3.1,J.C. Jones,2020-03-31T23:42:31Z,jcjones,jcjones,2,1,1
421,crlite,313a3b96008b3381ef7cd8ddc47f0f1e7b9adc27,Set backoff limit to 0 for failure cases,J.C. Jones,2020-04-01T02:41:11Z,jcjones,jcjones,1,1,0
422,crlite,76e57e2b086ad50025cdab8b47cd031432d24a0b,"Use filtercascade 0.3.0

- Remove the meta file (removed from 0.3.0)
- Use the new false-positive error rate generation routine
- Use the new verify function instead of the old check
- Reduce mandatory memory requirement for crlite-generate to 8Gi",J.C. Jones,2020-03-28T00:10:40Z,jcjones,jcjones,50,20,30
423,crlite,618086b133c3b0f1b6f407db7ce7f90a7448e597,Do not stash filter additions,J.C. Jones,2020-03-20T23:30:36Z,jcjones,jcjones,72,16,56
424,crlite,8f1eba815f7fafe937a2573089caa00f1ad25b2e,Add support for listing stash files to read_keys.py,J.C. Jones,2020-03-16T16:54:05Z,jcjones,jcjones,74,73,1
425,crlite,c0db10e85347ef3130f9151a2a9b9fb363f38796,Bugfix- download the correct keys files for the diff generation,J.C. Jones,2020-03-13T20:07:28Z,jcjones,jcjones,18,9,9
426,crlite,0a34419983f30da7f7c307122b5a797138c2843f,Bugfix- download the correct keys files for the diff generation,J.C. Jones,2020-03-13T20:07:28Z,jcjones,jcjones,4,2,2
